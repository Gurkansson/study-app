/*! For license information please see main.e59bc1ae.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),o=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var E=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case m:return(e.displayName||"Context")+".Provider";case g:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return C(e(t))}catch(zi){}}return null}var x,D,N=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign;function O(e){if(void 0===x)try{throw Error()}catch(zi){var t=zi.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||"",D=-1<zi.stack.indexOf("\n    at")?" (<anonymous>)":-1<zi.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+x+e+D}var P=!1;function R(e,t){if(!e||P)return"";P=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(zi){var r=zi}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{P=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?O(n):""}function L(e){switch(e.tag){case 26:case 27:case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function M(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(zi){return"\nError generating stack: "+zi.message+"\n"+zi.stack}}function F(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function j(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function U(e){if(F(e)!==e)throw Error(a(188))}function V(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=V(e)))return t;e=e.sibling}return null}var B=Array.isArray,z=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},H=[],W=-1;function q(e){return{current:e}}function G(e){0>W||(e.current=H[W],H[W]=null,W--)}function K(e,t){W++,H[W]=e.current,e.current=t}var Q=q(null),Y=q(null),X=q(null),J=q(null);function Z(e,t){switch(K(X,t),K(Y,e),K(Q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Xu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Ju(e=Xu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(Q),K(Q,t)}function ee(){G(Q),G(Y),G(X)}function te(e){null!==e.memoizedState&&K(J,e);var t=Q.current,n=Ju(t,e.type);t!==n&&(K(Y,e),K(Q,n))}function ne(e){Y.current===e&&(G(Q),G(Y)),J.current===e&&(G(J),Fd._currentValue=$)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,ae=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof ge&&me(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(Se(e)/Ee|0)|0},Se=Math.log,Ee=Math.LN2;var ke=128,_e=4194304;function Ie(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&n;return 0!==s?0!==(n=s&~i)?r=Ie(n):0!==(o&=s)?r=Ie(o):e||0!==(a=s&~a)&&(r=Ie(a)):0!==(s=n&~i)?r=Ie(s):0!==o?r=Ie(o):e||0!==(a=n&~a)&&(r=Ie(a)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||32===i&&0!==(4194176&a))?t:r}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function De(){var e=ke;return 0===(4194176&(ke<<=1))&&(ke=128),e}function Ne(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:Jd(e.type)}var Fe=Math.random().toString(36).slice(2),je="__reactFiber$"+Fe,Ue="__reactProps$"+Fe,Ve="__reactContainer$"+Fe,Be="__reactEvents$"+Fe,ze="__reactListeners$"+Fe,$e="__reactHandles$"+Fe,He="__reactResources$"+Fe,We="__reactMarker$"+Fe;function qe(e){delete e[je],delete e[Ue],delete e[Be],delete e[ze],delete e[$e]}function Ge(e){var t=e[je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ve]||n[je]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cd(e);null!==e;){if(n=e[je])return n;e=cd(e)}return t}n=(e=n).parentNode}return null}function Ke(e){if(e=e[je]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ye(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[We]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function at(e,t,n){if(i=t,re.call(ot,i)||!re.call(it,i)&&(rt.test(i)?ot[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function mt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function vt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(B(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&_t(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&_t(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return xt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Pt=null;function Rt(e){var t=Ke(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ue]||null;if(!i)throw Error(a(90));mt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Mt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Ot||null!==Pt)&&(Uc(),Ot&&(t=Ot,e=Pt,Pt=Ot=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var jt=!1;if(nt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){jt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Eh){jt=!1}var Vt=null,Bt=null,zt=null;function $t(){if(zt)return zt;var e,t,n=Bt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return zt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function qt(){return!1}function Gt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wt:qt,this.isPropagationStopped=qt,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Kt,Qt,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Gt(Xt),Zt=A({},Xt,{view:0,detail:0}),en=Gt(Zt),tn=A({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Kt=e.screenX-Yt.screenX,Qt=e.screenY-Yt.screenY):Qt=Kt=0,Yt=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),nn=Gt(tn),rn=Gt(A({},tn,{dataTransfer:0})),on=Gt(A({},Zt,{relatedTarget:0})),an=Gt(A({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=Gt(A({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Gt(A({},Xt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return hn}var pn=Gt(A({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(A({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),mn=Gt(A({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Gt(A({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Gt(A({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Gt(A({},Xt,{newState:0,oldState:0})),wn=[9,13,27,32],Sn=nt&&"CompositionEvent"in window,En=null;nt&&"documentMode"in document&&(En=document.documentMode);var kn=nt&&"TextEvent"in window&&!En,_n=nt&&(!Sn||En&&8<En&&11>=En),In=String.fromCharCode(32),Tn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function On(e,t,n,r){Ot?Pt?Pt.push(r):Pt=[r]:Ot=r,0<(t=Fu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pn=null,Rn=null;function Ln(e){Du(e,0)}function Mn(e){if(ht(Qe(e)))return e}function Fn(e,t){if("change"===e)return t}var jn=!1;if(nt){var Un;if(nt){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"===typeof Bn.oninput}Un=Vn}else Un=!1;jn=Un&&(!document.documentMode||9<document.documentMode)}function zn(){Pn&&(Pn.detachEvent("onpropertychange",$n),Rn=Pn=null)}function $n(e){if("value"===e.propertyName&&Mn(Rn)){var t=[];On(t,Rn,e,At(e)),Mt(Ln,t)}}function Hn(e,t,n){"focusin"===e?(zn(),Rn=n,(Pn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&zn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(Rn)}function qn(e,t){if("click"===e)return Mn(t)}function Gn(e,t){if("input"===e||"change"===e)return Mn(t)}var Kn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Kn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Kn(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Jn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=Xn(t,o);var a=Xn(t,r);i&&a&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Qn(or,r)||(or=r,0<(r=Fu(ir,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),gr=hr("animationstart"),mr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Er(e,t){wr.set(e,t),et(t,[e])}var kr=[],_r=0,Ir=0;function Tr(){for(var e=_r,t=Ir=_r=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var i=kr[t];kr[t++]=null;var o=kr[t];if(kr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Nr(n,i,o)}}function Cr(e,t,n,r){kr[_r++]=e,kr[_r++]=t,kr[_r++]=n,kr[_r++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function xr(e,t,n,r){return Cr(e,t,n,r),Ar(e)}function Dr(e,t){return Cr(e,null,null,t),Ar(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;i&&null!==t&&3===e.tag&&(o=e.stateNode,i=31-we(n),null===(e=(o=o.hiddenUpdates)[i])?o[i]=[t]:e.push(t),t.lane=536870912|n)}function Ar(e){if(50<Dc)throw Dc=0,Nc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={},Pr=new WeakMap;function Rr(e,t){if("object"===typeof e&&null!==e){var n=Pr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:M(t)},Pr.set(e,t),t)}return{value:e,source:t,stack:M(t)}}var Lr=[],Mr=0,Fr=null,jr=0,Ur=[],Vr=0,Br=null,zr=1,$r="";function Hr(e,t){Lr[Mr++]=jr,Lr[Mr++]=Fr,Fr=e,jr=t}function Wr(e,t,n){Ur[Vr++]=zr,Ur[Vr++]=$r,Ur[Vr++]=Br,Br=e;var r=zr;e=$r;var i=32-we(r)-1;r&=~(1<<i),n+=1;var o=32-we(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,zr=1<<32-we(t)+i|n<<i|r,$r=o+e}else zr=1<<o|n<<i|r,$r=e}function qr(e){null!==e.return&&(Hr(e,1),Wr(e,1,0))}function Gr(e){for(;e===Fr;)Fr=Lr[--Mr],Lr[Mr]=null,jr=Lr[--Mr],Lr[Mr]=null;for(;e===Br;)Br=Ur[--Vr],Ur[Vr]=null,$r=Ur[--Vr],Ur[Vr]=null,zr=Ur[--Vr],Ur[Vr]=null}var Kr=null,Qr=null,Yr=!1,Xr=null,Jr=!1,Zr=Error(a(519));function ei(e){throw oi(Rr(Error(a(418,"")),e)),Zr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[je]=e,t[Ue]=r,n){case"dialog":Nu("cancel",t),Nu("close",t);break;case"iframe":case"object":case"embed":Nu("load",t);break;case"video":case"audio":for(n=0;n<Cu.length;n++)Nu(Cu[n],t);break;case"source":Nu("error",t);break;case"img":case"image":case"link":Nu("error",t),Nu("load",t);break;case"details":Nu("toggle",t);break;case"input":Nu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Nu("invalid",t);break;case"textarea":Nu("invalid",t),St(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(Nu("beforetoggle",t),Nu("toggle",t)),null!=r.onScroll&&Nu("scroll",t),null!=r.onScrollEnd&&Nu("scrollend",t),null!=r.onClick&&(t.onclick=Hu),t=!0):t=!1,t||ei(e)}function ni(e){for(Kr=e.return;Kr;)switch(Kr.tag){case 3:case 27:return void(Jr=!0);case 5:case 13:return void(Jr=!1);default:Kr=Kr.return}}function ri(e){if(e!==Kr)return!1;if(!Yr)return ni(e),Yr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Zu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Qr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Qr=ld(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Qr=null}}else Qr=Kr?ld(e.stateNode.nextSibling):null;return!0}function ii(){Qr=Kr=null,Yr=!1}function oi(e){null===Xr?Xr=[e]:Xr.push(e)}var ai=Error(a(460)),si=Error(a(474)),li={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ui(){}function di(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ui,ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(ui,ui);else{if(null!==(e=nc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ai)throw Error(a(483));throw e}throw hi=t,ai}}var hi=null;function fi(){if(null===hi)throw Error(a(459));var e=hi;return hi=null,e}var pi=null,gi=0;function mi(e){var t=gi;return gi+=1,null===pi&&(pi=[]),di(pi,e,t)}function vi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function yi(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var o=n.type;return o===d?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===S&&bi(o)===t.type)?(vi(t=i(t,n.props),n),t.return=e,t):(vi(t=Vl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=Bl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function g(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=$l(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vi(n=Vl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Hl(t,e.mode,n)).return=e,t;case S:return g(e,t=(0,t._init)(t._payload),n)}if(B(t)||I(t))return(t=Bl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return g(e,mi(t),n);if(t.$$typeof===m)return g(e,Cs(e,t),n);yi(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?h(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case S:return v(e,t,n=(i=n._init)(n._payload),r)}if(B(n)||I(n))return null!==i?null:p(e,t,n,r,null);if("function"===typeof n.then)return v(e,t,mi(n),r);if(n.$$typeof===m)return v(e,t,Cs(e,n),r);yi(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(B(r)||I(r))return p(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,mi(r),i);if(r.$$typeof===m)return y(e,t,n,Cs(t,r),i);yi(t,r)}return null}function b(l,h,f,p){if("object"===typeof f&&null!==f&&f.type===d&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var w=f.key;null!==h;){if(h.key===w){if((w=f.type)===d){if(7===h.tag){n(l,h.sibling),(p=i(h,f.props.children)).return=l,l=p;break e}}else if(h.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===S&&bi(w)===h.type){n(l,h.sibling),vi(p=i(h,f.props),f),p.return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}f.type===d?((p=Bl(f.props.children,l.mode,p,f.key)).return=l,l=p):(vi(p=Vl(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return s(l);case u:e:{for(w=f.key;null!==h;){if(h.key===w){if(4===h.tag&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(l,h.sibling),(p=i(h,f.children||[])).return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}(p=Hl(f,l.mode,p)).return=l,l=p}return s(l);case S:return b(l,h,f=(w=f._init)(f._payload),p)}if(B(f))return function(i,a,s,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=v(i,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),a=o(p,a,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===s.length)return n(i,d),Yr&&Hr(i,h),c;if(null===d){for(;h<s.length;h++)null!==(d=g(i,s[h],l))&&(a=o(d,a,h),null===u?c=d:u.sibling=d,u=d);return Yr&&Hr(i,h),c}for(d=r(d);h<s.length;h++)null!==(f=y(d,i,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=o(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(i,e)})),Yr&&Hr(i,h),c}(l,h,f,p);if(I(f)){if("function"!==typeof(w=I(f)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,h=s,f=s=0,p=null,m=l.next();null!==h&&!m.done;f++,m=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=v(i,h,m.value,c);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(i,h),s=o(b,s,f),null===d?u=b:d.sibling=b,d=b,h=p}if(m.done)return n(i,h),Yr&&Hr(i,f),u;if(null===h){for(;!m.done;f++,m=l.next())null!==(m=g(i,m.value,c))&&(s=o(m,s,f),null===d?u=m:d.sibling=m,d=m);return Yr&&Hr(i,f),u}for(h=r(h);!m.done;f++,m=l.next())null!==(m=y(h,i,f,m.value,c))&&(e&&null!==m.alternate&&h.delete(null===m.key?f:m.key),s=o(m,s,f),null===d?u=m:d.sibling=m,d=m);return e&&h.forEach((function(e){return t(i,e)})),Yr&&Hr(i,f),u}(l,h,f=w.call(f),p)}if("function"===typeof f.then)return b(l,h,mi(f),p);if(f.$$typeof===m)return b(l,h,Cs(l,f),p);yi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==h&&6===h.tag?(n(l,h.sibling),(p=i(h,f)).return=l,l=p):(n(l,h),(p=$l(f,l.mode,p)).return=l,l=p),s(l)):n(l,h)}return function(e,t,n,r){try{gi=0;var i=b(e,t,n,r);return pi=null,i}catch(zi){if(zi===ai)throw zi;var o=Ml(29,zi,null,e.mode);return o.lanes=r,o.return=e,o}}}var Si=wi(!0),Ei=wi(!1),ki=q(null),_i=q(0);function Ii(e,t){K(_i,e=uc),K(ki,t),uc=e|t.baseLanes}function Ti(){K(_i,uc),K(ki,ki.current)}function Ci(){uc=_i.current,G(ki),G(_i)}var xi=q(null),Di=null;function Ni(e){var t=e.alternate;K(Ri,1&Ri.current),K(xi,e),null===Di&&(null===t||null!==ki.current||null!==t.memoizedState)&&(Di=e)}function Ai(e){if(22===e.tag){if(K(Ri,Ri.current),K(xi,e),null===Di){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Di=e)}}else Oi()}function Oi(){K(Ri,Ri.current),K(xi,xi.current)}function Pi(e){G(xi),Di===e&&(Di=null),G(Ri)}var Ri=q(0);function Li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Fi=r.unstable_scheduleCallback,ji=r.unstable_NormalPriority,Ui={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vi(){return{controller:new Mi,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&Fi(ji,(function(){e.controller.abort()}))}var $i=null,Hi=0,Wi=0,qi=null;function Gi(){if(0===--Hi&&null!==$i){null!==qi&&(qi.status="fulfilled");var e=$i;$i=null,Wi=0,qi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=N.S;N.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===$i){var n=$i=[];Hi=0,Wi=Eu(),qi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then(Gi,Gi)}(0,t),null!==Ki&&Ki(e,t)};var Qi=q(null);function Yi(){var e=Qi.current;return null!==e?e:nc.pooledCache}function Xi(e,t){K(Qi,null===t?Qi.current:t.pool)}function Ji(){var e=Yi();return null===e?null:{parent:Ui._currentValue,pool:e}}var Zi=0,eo=null,to=null,no=null,ro=!1,io=!1,oo=!1,ao=0,so=0,lo=null,co=0;function uo(){throw Error(a(321))}function ho(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function fo(e,t,n,r,i,o){return Zi=o,eo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=null===e||null===e.memoizedState?Ca:xa,oo=!1,o=n(r,i),oo=!1,io&&(o=go(t,n,r,i)),po(e),o}function po(e){N.H=Ta;var t=null!==to&&null!==to.next;if(Zi=0,no=to=eo=null,ro=!1,so=0,lo=null,t)throw Error(a(300));null===e||Wa||null!==(e=e.dependencies)&&_s(e)&&(Wa=!0)}function go(e,t,n,r){eo=e;var i=0;do{if(io&&(lo=null),so=0,io=!1,25<=i)throw Error(a(301));if(i+=1,no=to=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}N.H=Da,o=t(n,r)}while(io);return o}function mo(){var e=N.H,t=e.useState()[0];return t="function"===typeof t.then?Eo(t):t,e=e.useState()[0],(null!==to?to.memoizedState:null)!==e&&(eo.flags|=1024),t}function vo(){var e=0!==ao;return ao=0,e}function yo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function bo(e){if(ro){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ro=!1}Zi=0,no=to=eo=null,io=!1,so=ao=0,lo=null}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===no?eo.memoizedState=no=e:no=no.next=e,no}function So(){if(null===to){var e=eo.alternate;e=null!==e?e.memoizedState:null}else e=to.next;var t=null===no?eo.memoizedState:no.next;if(null!==t)no=t,to=e;else{if(null===e){if(null===eo.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(to=e).memoizedState,baseState:to.baseState,baseQueue:to.baseQueue,queue:to.queue,next:null},null===no?eo.memoizedState=no=e:no=no.next=e}return no}function Eo(e){var t=so;return so+=1,null===lo&&(lo=[]),e=di(lo,e,t),t=eo,null===(null===no?t.memoizedState:no.next)&&(t=t.alternate,N.H=null===t||null===t.memoizedState?Ca:xa),e}function ko(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Eo(e);if(e.$$typeof===m)return Ts(e)}throw Error(a(438,String(e)))}function _o(e){var t=null,n=eo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=eo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},eo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function Io(e,t){return"function"===typeof t?t(e):t}function To(e){return Co(So(),to,e)}function Co(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(Zi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Wi&&(d=!0);else{if((Zi&f)===f){u=u.next,f===Wi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=o):c=c.next=h,eo.lanes|=f,hc|=f}h=u.action,oo&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=o):c=c.next=f,eo.lanes|=h,hc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Kn(o,e.memoizedState)&&(Wa=!0,d&&null!==(n=qi)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function xo(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Kn(o,t.memoizedState)||(Wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(e,t,n){var r=eo,i=So(),o=Yr;if(o){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Kn((to||i).memoizedState,n);if(s&&(i.memoizedState=n,Wa=!0),i=i.queue,ea(Oo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==no&&1&no.memoizedState.tag){if(r.flags|=2048,Qo(9,Ao.bind(null,r,i,n,t),{destroy:void 0},null),null===nc)throw Error(a(349));o||0!==(60&Zi)||No(r,t,n)}return n}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=eo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},eo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&Ro(e)}function Oo(e,t,n){return n((function(){Po(t)&&Ro(e)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch(r){return!0}}function Ro(e){var t=Dr(e,2);null!==t&&Pc(t,e,2)}function Lo(e){var t=wo();if("function"===typeof e){var n=e;if(e=n(),oo){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t}function Mo(e,t,n,r){return e.baseState=n,Co(e,to,"function"===typeof r?r:Io)}function Fo(e,t,n,r,i){if(ka(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==N.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,jo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function jo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=N.T,a={};N.T=a;try{var s=n(i,r),l=N.S;null!==l&&l(a,s),Uo(e,t,s)}catch(c){Bo(e,t,c)}finally{N.T=o}}else try{Uo(e,t,o=n(i,r))}catch(u){Bo(e,t,u)}}function Uo(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Vo(e,t,n)}),(function(n){return Bo(e,t,n)})):Vo(e,t,n)}function Vo(e,t,n){t.status="fulfilled",t.value=n,zo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,jo(e,n)))}function Bo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,zo(t),t=t.next}while(t!==r)}e.action=null}function zo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $o(e,t){return t}function Ho(e,t){if(Yr){var n=nc.formState;if(null!==n){e:{var r=eo;if(Yr){if(Qr){t:{for(var i=Qr,o=Jr;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=ld(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){Qr=ld(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=wo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t},n.queue=r,n=wa.bind(null,eo,r),r.dispatch=n,r=Lo(!1),o=Ea.bind(null,eo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=wo()).queue=i,n=Fo.bind(null,eo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Wo(e){return qo(So(),to,e)}function qo(e,t,n){t=Co(e,t,$o)[0],e=To(Io)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?Eo(t):t;var r=So(),i=r.queue,o=i.dispatch;return n!==r.memoizedState&&(eo.flags|=2048,Qo(9,Go.bind(null,i,n),{destroy:void 0},null)),[t,o,e]}function Go(e,t){e.action=t}function Ko(e){var t=So(),n=to;if(null!==n)return qo(t,n,e);So(),t=t.memoizedState;var r=(n=So()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Qo(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=eo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},eo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Yo(){return So().memoizedState}function Xo(e,t,n,r){var i=wo();eo.flags|=e,i.memoizedState=Qo(1|t,n,{destroy:void 0},void 0===r?null:r)}function Jo(e,t,n,r){var i=So();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==to&&null!==r&&ho(r,to.memoizedState.deps)?i.memoizedState=Qo(t,n,o,r):(eo.flags|=e,i.memoizedState=Qo(1|t,n,o,r))}function Zo(e,t){Xo(8390656,8,e,t)}function ea(e,t){Jo(2048,8,e,t)}function ta(e,t){return Jo(4,2,e,t)}function na(e,t){return Jo(4,4,e,t)}function ra(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ia(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Jo(4,4,ra.bind(null,t,e),n)}function oa(){}function aa(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ho(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sa(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ho(t,r[1]))return r[0];if(r=e(),oo){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function la(e,t,n){return void 0===n||0!==(1073741824&Zi)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),eo.lanes|=e,hc|=e,n)}function ca(e,t,n,r){return Kn(n,t)?n:null!==ki.current?(e=la(e,n,r),Kn(e,t)||(Wa=!0),e):0===(42&Zi)?(Wa=!0,e.memoizedState=n):(e=Oc(),eo.lanes|=e,hc|=e,t)}function ua(e,t,n,r,i){var o=z.p;z.p=0!==o&&8>o?o:8;var a=N.T,s={};N.T=s,Ea(e,!1,t,n);try{var l=i(),c=N.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r);Sa(e,t,u,Ac())}else Sa(e,t,r,Ac())}catch(d){Sa(e,t,{then:function(){},status:"rejected",reason:d},Ac())}finally{z.p=o,N.T=a}}function da(){}function ha(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=fa(e).queue;ua(e,i,t,$,null===n?da:function(){return pa(e),n(r)})}function fa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:$},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function pa(e){Sa(e,fa(e).next.queue,{},Ac())}function ga(){return Ts(Fd)}function ma(){return So().memoizedState}function va(){return So().memoizedState}function ya(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ac(),r=Ps(t,e=Os(n),n);return null!==r&&(Pc(r,t,n),Rs(r,t,n)),t={cache:Vi()},void(e.payload=t)}t=t.return}}function ba(e,t,n){var r=Ac();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ka(e)?_a(t,n):null!==(n=xr(e,t,n,r))&&(Pc(n,e,r),Ia(n,t,r))}function wa(e,t,n){Sa(e,t,n,Ac())}function Sa(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ka(e))_a(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Kn(s,a))return Cr(e,t,i,0),null===nc&&Tr(),!1}catch(l){}if(null!==(n=xr(e,t,i,r)))return Pc(n,e,r),Ia(n,t,r),!0}return!1}function Ea(e,t,n,r){if(r={lane:2,revertLane:Eu(),action:r,hasEagerState:!1,eagerState:null,next:null},ka(e)){if(t)throw Error(a(479))}else null!==(t=xr(e,n,r,2))&&Pc(t,e,2)}function ka(e){var t=e.alternate;return e===eo||null!==t&&t===eo}function _a(e,t){io=ro=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ia(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var Ta={readContext:Ts,use:ko,useCallback:uo,useContext:uo,useEffect:uo,useImperativeHandle:uo,useLayoutEffect:uo,useInsertionEffect:uo,useMemo:uo,useReducer:uo,useRef:uo,useState:uo,useDebugValue:uo,useDeferredValue:uo,useTransition:uo,useSyncExternalStore:uo,useId:uo};Ta.useCacheRefresh=uo,Ta.useMemoCache=uo,Ta.useHostTransitionStatus=uo,Ta.useFormState=uo,Ta.useActionState=uo,Ta.useOptimistic=uo;var Ca={readContext:Ts,use:ko,useCallback:function(e,t){return wo().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:Zo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Xo(4194308,4,ra.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xo(4194308,4,e,t)},useInsertionEffect:function(e,t){Xo(4,2,e,t)},useMemo:function(e,t){var n=wo();t=void 0===t?null:t;var r=e();if(oo){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=wo();if(void 0!==n){var i=n(t);if(oo){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ba.bind(null,eo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wo().memoizedState=e},useState:function(e){var t=(e=Lo(e)).queue,n=wa.bind(null,eo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:oa,useDeferredValue:function(e,t){return la(wo(),e,t)},useTransition:function(){var e=Lo(!1);return e=ua.bind(null,eo,e.queue,!0,!1),wo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=eo,i=wo();if(Yr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===nc)throw Error(a(349));0!==(60&ic)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Zo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Qo(9,Ao.bind(null,r,o,n,t),{destroy:void 0},null),n},useId:function(){var e=wo(),t=nc.identifierPrefix;if(Yr){var n=$r;t=":"+t+"R"+(n=(zr&~(1<<32-we(zr)-1)).toString(32)+n),0<(n=ao++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=co++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return wo().memoizedState=ya.bind(null,eo)}};Ca.useMemoCache=_o,Ca.useHostTransitionStatus=ga,Ca.useFormState=Ho,Ca.useActionState=Ho,Ca.useOptimistic=function(e){var t=wo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ea.bind(null,eo,!0,n),n.dispatch=t,[e,t]};var xa={readContext:Ts,use:ko,useCallback:aa,useContext:Ts,useEffect:ea,useImperativeHandle:ia,useInsertionEffect:ta,useLayoutEffect:na,useMemo:sa,useReducer:To,useRef:Yo,useState:function(){return To(Io)},useDebugValue:oa,useDeferredValue:function(e,t){return ca(So(),to.memoizedState,e,t)},useTransition:function(){var e=To(Io)[0],t=So().memoizedState;return["boolean"===typeof e?e:Eo(e),t]},useSyncExternalStore:Do,useId:ma};xa.useCacheRefresh=va,xa.useMemoCache=_o,xa.useHostTransitionStatus=ga,xa.useFormState=Wo,xa.useActionState=Wo,xa.useOptimistic=function(e,t){return Mo(So(),0,e,t)};var Da={readContext:Ts,use:ko,useCallback:aa,useContext:Ts,useEffect:ea,useImperativeHandle:ia,useInsertionEffect:ta,useLayoutEffect:na,useMemo:sa,useReducer:xo,useRef:Yo,useState:function(){return xo(Io)},useDebugValue:oa,useDeferredValue:function(e,t){var n=So();return null===to?la(n,e,t):ca(n,to.memoizedState,e,t)},useTransition:function(){var e=xo(Io)[0],t=So().memoizedState;return["boolean"===typeof e?e:Eo(e),t]},useSyncExternalStore:Do,useId:ma};function Na(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Da.useCacheRefresh=va,Da.useMemoCache=_o,Da.useHostTransitionStatus=ga,Da.useFormState=Ko,Da.useActionState=Ko,Da.useOptimistic=function(e,t){var n=So();return null!==to?Mo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Aa={isMounted:function(e){return!!(e=e._reactInternals)&&F(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ac(),i=Os(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ps(e,i,r))&&(Pc(t,e,r),Rs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ac(),i=Os(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ps(e,i,r))&&(Pc(t,e,r),Rs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ac(),r=Os(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ps(e,r,n))&&(Pc(t,e,n),Rs(t,e,n))}};function Oa(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,o))}function Pa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Aa.enqueueReplaceState(t,t.state,null)}function Ra(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=A({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var La="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ma(e){La(e)}function Fa(e){console.error(e)}function ja(e){La(e)}function Ua(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Va(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Ba(e,t,n){return(n=Os(n)).tag=3,n.payload={element:null},n.callback=function(){Ua(e,t)},n}function za(e){return(e=Os(e)).tag=3,e}function $a(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Va(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Va(t,n,r),"function"!==typeof i&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ha=Error(a(461)),Wa=!1;function qa(e,t,n,r){t.child=null===e?Ei(t,null,n,r):Si(t,e.child,n,r)}function Ga(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Is(t),r=fo(e,t,n,a,o,i),s=vo(),null===e||Wa?(Yr&&s&&qr(t),t.flags|=1,qa(e,t,r,i),t.child):(yo(e,t,i),fs(e,t,i))}function Ka(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Fl(o)||void 0!==o.defaultProps||null!==n.compare?((e=Vl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Qa(e,t,o,r,i))}if(o=e.child,!ps(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(a,r)&&e.ref===t.ref)return fs(e,t,i)}return t.flags|=1,(e=jl(o,r)).ref=t.ref,e.return=t,t.child=e}function Qa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Qn(o,r)&&e.ref===t.ref){if(Wa=!1,t.pendingProps=r=o,!ps(e,i))return t.lanes=e.lanes,fs(e,t,i);0!==(131072&e.flags)&&(Wa=!0)}}return Za(e,t,n,r,i)}function Ya(e,t,n){var r=t.pendingProps,i=r.children,o=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(Ja(e,t),"hidden"===r.mode||o){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Xa(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Xa(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xi(0,null!==a?a.cachePool:null),null!==a?Ii(t,a):Ti(),Ai(t)}else null!==a?(Xi(0,a.cachePool),Ii(t,a),Oi(),t.memoizedState=null):(null!==e&&Xi(0,null),Ti(),Oi());return qa(e,t,i,n),t.child}function Xa(e,t,n,r){var i=Yi();return i=null===i?null:{parent:Ui._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Xi(0,null),Ti(),Ai(t),null!==e&&ks(e,t,r,!0),null}function Ja(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Za(e,t,n,r,i){return Is(t),n=fo(e,t,n,r,void 0,i),r=vo(),null===e||Wa?(Yr&&r&&qr(t),t.flags|=1,qa(e,t,n,i),t.child):(yo(e,t,i),fs(e,t,i))}function es(e,t,n,r,i,o){return Is(t),t.updateQueue=null,n=go(t,r,n,i),po(e),r=vo(),null===e||Wa?(Yr&&r&&qr(t),t.flags|=1,qa(e,t,n,o),t.child):(yo(e,t,o),fs(e,t,o))}function ts(e,t,n,r,i){if(Is(t),null===t.stateNode){var o=Or,a=n.contextType;"object"===typeof a&&null!==a&&(o=Ts(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Aa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},Ns(t),a=n.contextType,o.context="object"===typeof a&&null!==a?Ts(a):Or,o.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(Na(t,n,a,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&Aa.enqueueReplaceState(o,o.state,null),js(t,r,o,i),Fs(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=Ra(n,s);o.props=l;var c=o.context,u=n.contextType;a=Or,"object"===typeof u&&null!==u&&(a=Ts(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==a)&&Pa(t,o,r,a),Ds=!1;var h=t.memoizedState;o.state=h,js(t,r,o,i),Fs(),c=t.memoizedState,s||h!==c||Ds?("function"===typeof d&&(Na(t,n,d,r),c=t.memoizedState),(l=Ds||Oa(t,n,l,r,h,c,a))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,As(e,t),u=Ra(n,a=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Ts(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&Pa(t,o,r,l),Ds=!1,h=t.memoizedState,o.state=h,js(t,r,o,i),Fs();var f=t.memoizedState;a!==d||h!==f||Ds||null!==e&&null!==e.dependencies&&_s(e.dependencies)?("function"===typeof s&&(Na(t,n,s,r),f=t.memoizedState),(u=Ds||Oa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&_s(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ja(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=Si(t,e.child,null,i),t.child=Si(t,null,n,i)):qa(e,t,n,i),t.memoizedState=o.state,e=t.child):e=fs(e,t,i),e}function ns(e,t,n,r){return ii(),t.flags|=256,qa(e,t,n,r),t.child}var rs={dehydrated:null,treeContext:null,retryLane:0};function is(e){return{baseLanes:e,cachePool:Ji()}}function os(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function as(e,t,n){var r,i=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ri.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Yr){if(o?Ni(t):Oi(),Yr){var l,c=Qr;if(l=c){e:{for(l=c,c=Jr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=ld(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Br?{id:zr,overflow:$r}:null,retryLane:536870912},(l=Ml(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Kr=t,Qr=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Pi(t)}return c=i.children,i=i.fallback,o?(Oi(),c=ls({mode:"hidden",children:c},o=t.mode),i=Bl(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=is(n),o.childLanes=os(e,r,n),t.memoizedState=rs,i):(Ni(t),ss(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(Ni(t),t.flags&=-257,t=cs(e,t,n)):null!==t.memoizedState?(Oi(),t.child=e.child,t.flags|=128,t=null):(Oi(),o=i.fallback,c=t.mode,i=ls({mode:"visible",children:i.children},c),(o=Bl(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,Si(t,e.child,null,n),(i=t.child).memoizedState=is(n),i.childLanes=os(e,r,n),t.memoizedState=rs,t=o);else if(Ni(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,oi({value:i,source:null,stack:null}),t=cs(e,t,n)}else if(Wa||ks(e,t,n,!1),r=0!==(n&e.childLanes),Wa||r){if(null!==(r=nc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Dr(e,i),Pc(r,e,i),Ha}"$?"===c.data||Wc(),t=cs(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=lu.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Qr=ld(c.nextSibling),Kr=t,Yr=!0,Xr=null,Jr=!1,null!==e&&(Ur[Vr++]=zr,Ur[Vr++]=$r,Ur[Vr++]=Br,zr=e.id,$r=e.overflow,Br=t),(t=ss(t,i.children)).flags|=4096);return t}return o?(Oi(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=jl(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?o=jl(u,o):(o=Bl(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=is(n):(null!==(l=c.cachePool)?(u=Ui._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ji(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=os(e,r,n),t.memoizedState=rs,i):(Ni(t),e=(n=e.child).sibling,(n=jl(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ss(e,t){return(t=ls({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ls(e,t){return zl(e,t,0,null)}function cs(e,t,n){return Si(t,e.child,null,n),(e=ss(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ss(e.return,t,n)}function ds(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(qa(e,t,r.children,n),0!==(2&(r=Ri.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&us(e,n,t);else if(19===e.tag)us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(K(Ri,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Li(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ds(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Li(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ds(t,!0,n,null,o);break;case"together":ds(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ks(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=jl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ps(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_s(e))}function gs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Wa=!0;else{if(!ps(e,n)&&0===(128&t.flags))return Wa=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),bs(t,Ui,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:bs(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ni(t),t.flags|=128,null):0!==(n&t.child.childLanes)?as(e,t,n):(Ni(t),null!==(e=fs(e,t,n))?e.sibling:null);Ni(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ks(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(Ri,Ri.current),r)break;return null;case 22:case 23:return t.lanes=0,Ya(e,t,n);case 24:bs(t,Ui,e.memoizedState.cache)}return fs(e,t,n)}(e,t,n);Wa=0!==(131072&e.flags)}else Wa=!1,Yr&&0!==(1048576&t.flags)&&Wr(t,jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===v){t.tag=11,t=Ga(null,t,r,e,n);break e}if(i===w){t.tag=14,t=Ka(null,t,r,e,n);break e}}throw t=C(r)||r,Error(a(306,t,""))}Fl(r)?(e=Ra(r,e),t.tag=1,t=ts(null,t,r,e,n)):(t.tag=0,t=Za(null,t,r,e,n))}return t;case 0:return Za(e,t,t.type,t.pendingProps,n);case 1:return ts(e,t,r=t.type,i=Ra(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var o=t.pendingProps;r=(i=t.memoizedState).element,As(e,t),js(t,o,null,n);var s=t.memoizedState;if(o=s.cache,bs(t,Ui,o),o!==i.cache&&Es(t,[Ui],n,!0),Fs(),o=s.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ns(e,t,o,n);break e}if(o!==r){oi(r=Rr(Error(a(424)),t)),t=ns(e,t,o,n);break e}for(Qr=ld(t.stateNode.containerInfo.firstChild),Kr=t,Yr=!0,Xr=null,Jr=!0,n=Ei(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),o===r){t=fs(e,t,n);break e}qa(e,t,o,n)}t=t.child}return t;case 26:return Ja(e,t),null===e?(n=vd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Yr||(n=t.type,e=t.pendingProps,(r=Yu(X.current).createElement(n))[je]=t,r[Ue]=e,Gu(r,n,e),Xe(r),t.stateNode=r):t.memoizedState=vd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yr&&(r=t.stateNode=ud(t.type,t.pendingProps,X.current),Kr=t,Jr=!0,Qr=ld(r.firstChild)),r=t.pendingProps.children,null!==e||Yr?qa(e,t,r,n):t.child=Si(t,null,r,n),Ja(e,t),t.child;case 5:return null===e&&Yr&&((i=r=Qr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=ld(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Jr))?(t.stateNode=r,Kr=t,Qr=ld(r.firstChild),Jr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,Zu(i,o)?r=null:null!==s&&Zu(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=fo(e,t,mo,null,null,n),Fd._currentValue=i),Ja(e,t),qa(e,t,r,n),t.child;case 6:return null===e&&Yr&&((e=n=Qr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=ld(e.nextSibling)))return null}return e}(n,t.pendingProps,Jr))?(t.stateNode=n,Kr=t,Qr=null,e=!0):e=!1),e||ei(t)),null;case 13:return as(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Si(t,null,r,n):qa(e,t,r,n),t.child;case 11:return Ga(e,t,t.type,t.pendingProps,n);case 7:return qa(e,t,t.pendingProps,n),t.child;case 8:case 12:return qa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bs(t,t.type,r.value),qa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Is(t),r=r(i=Ts(i)),t.flags|=1,qa(e,t,r,n),t.child;case 14:return Ka(e,t,t.type,t.pendingProps,n);case 15:return Qa(e,t,t.type,t.pendingProps,n);case 19:return hs(e,t,n);case 22:return Ya(e,t,n);case 24:return Is(t),r=Ts(Ui),null===e?(null===(i=Yi())&&(i=nc,o=Vi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},Ns(t),bs(t,Ui,i)):(0!==(e.lanes&n)&&(As(e,t),js(t,null,null,n),Fs()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bs(t,Ui,r)):(r=o.cache,bs(t,Ui,r),r!==i.cache&&Es(t,[Ui],n,!0))),qa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var ms=q(null),vs=null,ys=null;function bs(e,t,n){K(ms,t._currentValue),t._currentValue=n}function ws(e){e._currentValue=ms.current,G(ms)}function Ss(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ss(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Ss(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function ks(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;Kn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===J.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Fd):e=[Fd])}i=i.return}null!==e&&Es(t,e,n,r),t.flags|=262144}function _s(e){for(e=e.firstContext;null!==e;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){vs=e,ys=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ts(e){return xs(vs,e)}function Cs(e,t){return null===vs&&Is(e),xs(e,t)}function xs(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ys){if(null===e)throw Error(a(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return n}var Ds=!1;function Ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function As(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&tc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ar(e),Nr(e,null,n),t}return Cr(e,r,t,n),Ar(e)}function Rs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ms=!1;function Fs(){if(Ms){if(null!==qi)throw qi}}function js(e,t,n,r){Ms=!1;var i=e.updateQueue;Ds=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=-536870913&s.lane,f=h!==s.lane;if(f?(ic&h)===h:(r&h)===h){0!==h&&h===Wi&&(Ms=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=e,g=s;h=t;var m=n;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(m,d,h):p)||void 0===h)break e;d=A({},d,h);break e;case 2:Ds=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),hc|=a,e.lanes=a,e.memoizedState=d}}function Us(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Vs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Us(n[e],t)}function Bs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){iu(t,t.return,s)}}function zs(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n;try{s()}catch(c){iu(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){iu(t,t.return,c)}}function $s(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Vs(t,n)}catch(r){iu(e,e.return,r)}}}function Hs(e,t,n){n.props=Ra(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){iu(e,t,r)}}function Ws(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(o){iu(e,t,o)}}function qs(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){iu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){iu(e,t,o)}else n.current=null}function Gs(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){iu(e,e.return,i)}}function Ks(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Wu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Wu(e,t,f,p,r,h)}}return void mt(e,s,l,c,u,d,o,i);case"select":for(o in p=s=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||Wu(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&Wu(e,t,i,o,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Wu(e,t,l,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&Wu(e,t,s,i,r,o)}return void wt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Wu(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Wu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&Wu(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Wu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&qu(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||qu(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Wu(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Wu(e,t,h,f,r,p)}(r,e.type,n,t),r[Ue]=t}catch(i){iu(e,e.return,i)}}function Qs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ys(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Qs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Xs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Hu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Xs(e,t,n),e=e.sibling;null!==e;)Xs(e,t,n),e=e.sibling}function Js(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Js(e,t,n),e=e.sibling;null!==e;)Js(e,t,n),e=e.sibling}var Zs=!1,el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null,il=!1;function ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:yl(e,n),4&r&&Bs(5,n);break;case 1:if(yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){iu(n,n.return,s)}else{var i=Ra(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){iu(n,n.return,l)}}64&r&&$s(n),512&r&&Ws(n,n.return);break;case 3:if(yl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Vs(r,e)}catch(s){iu(n,n.return,s)}}break;case 26:yl(e,n),512&r&&Ws(n,n.return);break;case 27:case 5:yl(e,n),null===t&&4&r&&Gs(n),512&r&&Ws(n,n.return);break;case 12:default:yl(e,n);break;case 13:yl(e,n),4&r&&dl(e,n);break;case 22:if(!(i=null!==n.memoizedState||Zs)){t=null!==t&&null!==t.memoizedState||el;var o=Zs,a=el;Zs=i,(el=t)&&!a?wl(e,n,0!==(8772&n.subtreeFlags)):yl(e,n),Zs=o,el=a}512&r&&("manual"===n.memoizedProps.mode?Ws(n,n.return):qs(n,n.return))}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var sl=null,ll=!1;function cl(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:el||qs(n,t),cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:el||qs(n,t);var r=sl,i=ll;for(sl=n.stateNode,cl(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);qe(n),sl=r,ll=i;break;case 5:el||qs(n,t);case 6:i=sl;var o=ll;if(sl=null,cl(e,t,n),ll=o,null!==(sl=i))if(ll)try{e=sl,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(s){iu(n,t,s)}else try{sl.removeChild(n.stateNode)}catch(s){iu(n,t,s)}break;case 18:null!==sl&&(ll?(t=sl,n=n.stateNode,8===t.nodeType?ad(t.parentNode,n):1===t.nodeType&&ad(t,n),mh(t)):ad(sl,n.stateNode));break;case 4:r=sl,i=ll,sl=n.stateNode.containerInfo,ll=!0,cl(e,t,n),sl=r,ll=i;break;case 0:case 11:case 14:case 15:el||zs(2,n,t),el||zs(4,n,t),cl(e,t,n);break;case 1:el||(qs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Hs(n,t,r)),cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:el||qs(n,t),el=(r=el)||null!==n.memoizedState,cl(e,t,n),el=r;break;default:cl(e,t,n)}}function dl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{mh(e)}catch(n){iu(t,t.return,n)}}function hl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new nl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:case 5:sl=l.stateNode,ll=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===sl)throw Error(a(160));ul(o,s,i),sl=null,ll=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}var pl=null;function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fl(t,e),ml(e),4&r&&(zs(3,e,e.return),Bs(3,e),zs(5,e,e.return));break;case 1:fl(t,e),ml(e),512&r&&(el||null===n||qs(n,n.return)),64&r&&Zs&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=pl;if(fl(t,e),ml(e),512&r&&(el||null===n||qs(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[We]||o[je]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),Gu(o,r,n),o[je]=e,Xe(o),r=o;break e;case"link":var s=xd("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}Gu(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(s=xd("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}Gu(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(a(468,r))}o[je]=e,Xe(o),r=o}e.stateNode=r}else Dd(i,e.type,e.stateNode);else e.stateNode=kd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Dd(i,e.type,e.stateNode):kd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ks(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,o=e.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[We]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var h=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Gu(i,h,o),i[je]=e,i[Ue]=o}catch(g){iu(e,e.return,g)}}case 5:if(fl(t,e),ml(e),512&r&&(el||null===n||qs(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(g){iu(e,e.return,g)}}4&r&&null!=e.stateNode&&Ks(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(tl=!0);break;case 6:if(fl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){iu(e,e.return,g)}}break;case 3:if(Cd=null,i=pl,pl=fd(t.containerInfo),fl(t,e),pl=i,ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{mh(t.containerInfo)}catch(g){iu(e,e.return,g)}tl&&(tl=!1,vl(e));break;case 4:r=pl,pl=fd(e.stateNode.containerInfo),fl(t,e),ml(e),pl=r;break;case 12:fl(t,e),ml(e);break;case 13:fl(t,e),ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,hl(e,r)));break;case 22:if(512&r&&(el||null===n||qs(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Zs=(d=Zs)||c,el=(h=el)||u,fl(t,e),el=h,Zs=d,ml(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Zs||el,null===n||u||t||bl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,c)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{s=u.stateNode;var p=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;s.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(g){iu(u,u.return,g)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(g){iu(u,u.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,hl(e,n))));break;case 19:fl(t,e),ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,hl(e,r)));break;case 21:break;default:fl(t,e),ml(e)}}function ml(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Qs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var i=r.stateNode;Js(e,Ys(e),i);break;case 5:var o=r.stateNode;32&r.flags&&(Et(o,""),r.flags&=-33),Js(e,Ys(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;Xs(e,Ys(e),s);break;default:throw Error(a(161))}}}catch(l){iu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;vl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ol(e,t.alternate,t),t=t.sibling}function bl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zs(4,t,t.return),bl(t);break;case 1:qs(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Hs(t,t.return,n),bl(t);break;case 26:case 27:case 5:qs(t,t.return),bl(t);break;case 22:qs(t,t.return),null===t.memoizedState&&bl(t);break;default:bl(t)}e=e.sibling}}function wl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:wl(i,o,n),Bs(4,o);break;case 1:if(wl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){iu(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Us(l[i],s)}catch(c){iu(r,r.return,c)}}n&&64&a&&$s(o),Ws(o,o.return);break;case 26:case 27:case 5:wl(i,o,n),n&&null===r&&4&a&&Gs(o),Ws(o,o.return);break;case 12:default:wl(i,o,n);break;case 13:wl(i,o,n),n&&4&a&&dl(i,o);break;case 22:null===o.memoizedState&&wl(i,o,n),Ws(o,o.return)}t=t.sibling}}function Sl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function El(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function kl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t,n,r),t=t.sibling}function _l(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:kl(e,t,n,r),2048&i&&Bs(9,t);break;case 3:kl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){kl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){iu(t,t.return,l)}}else kl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,null!==t.memoizedState?4&o._visibility?kl(e,t,n,r):Tl(e,t):4&o._visibility?kl(e,t,n,r):(o._visibility|=4,Il(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Sl(t.alternate,t);break;case 24:kl(e,t,n,r),2048&i&&El(t.alternate,t);break;default:kl(e,t,n,r)}}function Il(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Il(o,a,s,l,i),Bs(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?Il(o,a,s,l,i):Tl(o,a):(u._visibility|=4,Il(o,a,s,l,i)),i&&2048&c&&Sl(a.alternate,a);break;case 24:Il(o,a,s,l,i),i&&2048&c&&El(a.alternate,a);break;default:Il(o,a,s,l,i)}t=t.sibling}}function Tl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Tl(n,r),2048&i&&Sl(r.alternate,r);break;case 24:Tl(n,r),2048&i&&El(r.alternate,r);break;default:Tl(n,r)}t=t.sibling}}var Cl=8192;function xl(e){if(e.subtreeFlags&Cl)for(e=e.child;null!==e;)Dl(e),e=e.sibling}function Dl(e){switch(e.tag){case 26:xl(e),e.flags&Cl&&null!==e.memoizedState&&function(e,t,n){if(null===Ad)throw Error(a(475));var r=Ad;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=yd(n.href),o=e.querySelector(bd(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Pd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void Xe(o);o=e.ownerDocument||e,n=wd(n),(i=dd.get(i))&&Id(n,i),Xe(o=o.createElement("link"));var s=o;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Gu(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Pd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(pl,e.memoizedState,e.memoizedProps);break;case 5:default:xl(e);break;case 3:case 4:var t=pl;pl=fd(e.stateNode.containerInfo),xl(e),pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Cl,Cl=16777216,xl(e),Cl=t):xl(e))}}function Nl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Al(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Rl(r,e)}Nl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ol(e),e=e.sibling}function Ol(e){switch(e.tag){case 0:case 11:case 15:Al(e),2048&e.flags&&zs(9,e,e.return);break;case 3:case 12:default:Al(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Pl(e)):Al(e)}}function Pl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];rl=r,Rl(r,e)}Nl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:zs(8,t,t.return),Pl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Pl(t));break;default:Pl(t)}e=e.sibling}}function Rl(e,t){for(;null!==rl;){var n=rl;switch(n.tag){case 0:case 11:case 15:zs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,rl=r;else e:for(n=e;null!==rl;){var i=(r=rl).sibling,o=r.return;if(al(r),r===n){rl=null;break e}if(null!==i){i.return=o,rl=i;break e}rl=o}}}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Ll(e,t,n,r)}function Fl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ul(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vl(e,t,n,r,i,o){var s=0;if(r=e,"function"===typeof e)Fl(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return Bl(n.children,i,o,t);case h:s=8,i|=24;break;case f:return(e=Ml(12,n,t,2|i)).elementType=f,e.lanes=o,e;case y:return(e=Ml(13,n,t,i)).elementType=y,e.lanes=o,e;case b:return(e=Ml(19,n,t,i)).elementType=b,e.lanes=o,e;case E:return zl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case m:s=10;break e;case g:s=9;break e;case v:s=11;break e;case w:s=14;break e;case S:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Ml(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bl(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function zl(e,t,n,r){(e=Ml(22,e,r,t)).elementType=E,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0===(2&i._pendingVisibility)){var t=Dr(e,2);null!==t&&(i._pendingVisibility|=2,Pc(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(a(456));if(0!==(2&i._pendingVisibility)){var t=Dr(e,2);null!==t&&(i._pendingVisibility&=-3,Pc(t,e,2))}}};return e.stateNode=i,e}function $l(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Hl(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wl(e){e.flags|=4}function ql(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Nd(t)){if(null!==(t=xi.current)&&((4194176&ic)===ic?null!==Di:(62914560&ic)!==ic&&0===(536870912&ic)||t!==Di))throw hi=li,si;e.flags|=8192}}function Gl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,mc|=t)}function Kl(e,t){if(!Yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yl(e,t,n){var r=t.pendingProps;switch(Gr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Ql(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ws(Ui),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?Wl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xr&&(Lc(Xr),Xr=null))),Ql(t),null;case 26:return n=t.memoizedState,null===e?(Wl(t),null!==n?(Ql(t),ql(t,n)):(Ql(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Wl(t),Ql(t),ql(t,n)):(Ql(t),t.flags&=-16777217):(e.memoizedProps!==r&&Wl(t),Ql(t),t.flags&=-16777217),null;case 27:ne(t),n=X.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ql(t),null}e=Q.current,ri(t)?ti(t):(e=ud(i,r,n),t.stateNode=e,Wl(t))}return Ql(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ql(t),null}if(e=Q.current,ri(t))ti(t);else{switch(i=Yu(X.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[je]=t,e[Ue]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Gu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Wl(t)}}return Ql(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=X.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Kr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[je]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ei(t)}else(e=Yu(e).createTextNode(r))[je]=t,t.stateNode=e}return Ql(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[je]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ql(t),i=!1}else null!==Xr&&(Lc(Xr),Xr=null),i=!0;if(!i)return 256&t.flags?(Pi(t),t):(Pi(t),null)}if(Pi(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Gl(t,t.updateQueue),Ql(t),null;case 4:return ee(),null===e&&Pu(t.stateNode.containerInfo),Ql(t),null;case 10:return ws(t.type),Ql(t),null;case 19:if(G(Ri),null===(i=t.memoizedState))return Ql(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Kl(i,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Li(e))){for(t.flags|=128,Kl(i,!1),e=o.updateQueue,t.updateQueue=e,Gl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ul(n,e),n=n.sibling;return K(Ri,1&Ri.current|2),t.child}e=e.sibling}null!==i.tail&&le()>Sc&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Li(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Gl(t,e),Kl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Yr)return Ql(t),null}else 2*le()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,Kl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Ri.current,K(Ri,r?1&e|2:1&e),t):(Ql(t),null);case 22:case 23:return Pi(t),Ci(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Ql(t),6&t.subtreeFlags&&(t.flags|=8192)):Ql(t),null!==(n=t.updateQueue)&&Gl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&G(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ws(Ui),Ql(t),null;case 25:return null}throw Error(a(156,t.tag))}function Xl(e,t){switch(Gr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ws(Ui),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Pi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return G(Ri),null;case 4:return ee(),null;case 10:return ws(t.type),null;case 22:case 23:return Pi(t),Ci(),null!==e&&G(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ws(Ui),null;default:return null}}function Jl(e,t){switch(Gr(t),t.tag){case 3:ws(Ui),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Pi(t);break;case 19:G(Ri);break;case 10:ws(t.type);break;case 22:case 23:Pi(t),Ci(),null!==e&&G(Qi);break;case 24:ws(Ui)}}var Zl={getCacheForType:function(e){var t=Ts(Ui),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},ec="function"===typeof WeakMap?WeakMap:Map,tc=0,nc=null,rc=null,ic=0,oc=0,ac=null,sc=!1,lc=!1,cc=!1,uc=0,dc=0,hc=0,fc=0,pc=0,gc=0,mc=0,vc=null,yc=null,bc=!1,wc=0,Sc=1/0,Ec=null,kc=null,_c=!1,Ic=null,Tc=0,Cc=0,xc=null,Dc=0,Nc=null;function Ac(){if(0!==(2&tc)&&0!==ic)return ic&-ic;if(null!==N.T){return 0!==Wi?Wi:Eu()}return Me()}function Oc(){0===gc&&(gc=0===(536870912&ic)||Yr?De():536870912);var e=xi.current;return null!==e&&(e.flags|=32),gc}function Pc(e,t,n){(e===nc&&2===oc||null!==e.cancelPendingCommit)&&(Bc(e,0),jc(e,ic,gc,!1)),Oe(e,n),0!==(2&tc)&&e===nc||(e===nc&&(0===(2&tc)&&(fc|=n),4===dc&&jc(e,ic,gc,!1)),mu(e))}function Rc(e,t,n){if(0!==(6&tc))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),i=r?function(e,t){var n=tc;tc|=2;var r=$c(),i=Hc();nc!==e||ic!==t?(Ec=null,Sc=le()+500,Bc(e,t)):lc=Ce(e,t);e:for(;;)try{if(0!==oc&&null!==rc){t=rc;var o=ac;t:switch(oc){case 1:oc=0,ac=null,Xc(e,t,o,1);break;case 2:if(ci(o)){oc=0,ac=null,Yc(t);break}t=function(){2===oc&&nc===e&&(oc=7),mu(e)},o.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:ci(o)?(oc=0,ac=null,Yc(t)):(oc=0,ac=null,Xc(e,t,o,7));break;case 5:var s=null;switch(rc.tag){case 26:s=rc.memoizedState;case 5:case 27:var l=rc;if(!s||Nd(s)){oc=0,ac=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,Jc(u)):rc=null}break t}}oc=0,ac=null,Xc(e,t,o,5);break;case 6:oc=0,ac=null,Xc(e,t,o,6);break;case 8:Vc(),dc=6;break e;default:throw Error(a(462))}}Kc();break}catch(d){zc(e,d)}return ys=vs=null,N.H=r,N.A=i,tc=n,null!==rc?0:(nc=null,ic=0,Tr(),dc)}(e,t):qc(e,t,!0),o=r;;){if(0===i){lc&&!r&&jc(e,t,0,!1);break}if(6===i)jc(e,t,0,!sc);else{if(n=e.current.alternate,o&&!Fc(n)){i=qc(e,t,!1),o=!1;continue}if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Bc(l,s).flags|=256),2!==(s=qc(l,s,!1))){if(cc&&!c){l.errorRecoveryDisabledLanes|=o,fc|=o,i=4;break e}o=yc,yc=i,null!==o&&Lc(o)}i=s}if(o=!1,2!==i)continue}}if(1===i){Bc(e,0),jc(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){jc(r,t,gc,!sc);break e}break;case 2:yc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(o=wc+300-le())){if(jc(r,t,gc,!sc),0!==Te(r,0))break e;r.timeoutHandle=td(Mc.bind(null,r,n,yc,Ec,bc,t,gc,fc,mc,sc,2,-0,0),o)}else Mc(r,n,yc,Ec,bc,t,gc,fc,mc,sc,0,-0,0)}}break}mu(e)}function Lc(e){null===yc?yc=e:yc.push.apply(yc,e)}function Mc(e,t,n,r,i,o,s,l,c,u,d,h,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Ad={stylesheets:null,count:0,unsuspend:Od},Dl(t),null!==(t=function(){if(null===Ad)throw Error(a(475));var e=Ad;return e.stylesheets&&0===e.count&&Ld(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Ld(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(eu.bind(null,e,n,r,i,s,l,c,1,h,f)),void jc(e,o,s,!u);eu(e,n,r,i,s,l,c,d,h,f)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Kn(o(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jc(e,t,n,r){t&=~pc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-we(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Pe(e,n,t)}function Uc(){return 0!==(6&tc)||(vu(0,!1),!1)}function Vc(){if(null!==rc){if(0===oc)var e=rc.return;else ys=vs=null,bo(e=rc),pi=null,gi=0,e=rc;for(;null!==e;)Jl(e.alternate,e),e=e.return;rc=null}}function Bc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,nd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),nc=e,rc=n=jl(e.current,null),ic=t,oc=0,ac=null,sc=!1,lc=Ce(e,t),cc=!1,mc=gc=pc=fc=hc=dc=0,yc=vc=null,bc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),o=1<<i;t|=e[i],r&=~o}return uc=t,Tr(),n}function zc(e,t){eo=null,N.H=Ta,t===ai?(t=fi(),oc=3):t===si?(t=fi(),oc=4):oc=t===Ha?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===rc&&(dc=1,Ua(e,Rr(t,e.current)))}function $c(){var e=N.H;return N.H=Ta,null===e?Ta:e}function Hc(){var e=N.A;return N.A=Zl,e}function Wc(){dc=4,sc||(4194176&ic)!==ic&&null!==xi.current||(lc=!0),0===(134217727&hc)&&0===(134217727&fc)||null===nc||jc(nc,ic,gc,!1)}function qc(e,t,n){var r=tc;tc|=2;var i=$c(),o=Hc();nc===e&&ic===t||(Ec=null,Bc(e,t)),t=!1;var a=dc;e:for(;;)try{if(0!==oc&&null!==rc){var s=rc,l=ac;switch(oc){case 8:Vc(),a=6;break e;case 3:case 2:case 6:null===xi.current&&(t=!0);var c=oc;if(oc=0,ac=null,Xc(e,s,l,c),n&&lc){a=0;break e}break;default:c=oc,oc=0,ac=null,Xc(e,s,l,c)}}Gc(),a=dc;break}catch(u){zc(e,u)}return t&&e.shellSuspendCounter++,ys=vs=null,tc=r,N.H=i,N.A=o,null===rc&&(nc=null,ic=0,Tr()),a}function Gc(){for(;null!==rc;)Qc(rc)}function Kc(){for(;null!==rc&&!ae();)Qc(rc)}function Qc(e){var t=gs(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?Jc(e):rc=t}function Yc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=es(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=es(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:bo(t);default:Jl(n,t),t=gs(n,t=rc=Ul(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?Jc(e):rc=t}function Xc(e,t,n,r){ys=vs=null,bo(t),pi=null,gi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ks(t,n,i,!0),null!==(n=xi.current)){switch(n.tag){case 13:return null===Di?Wc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ou(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ou(e,r,i)),!1}throw Error(a(435,n.tag))}return ou(e,r,i),Wc(),!1}if(Yr)return null!==(t=xi.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Zr&&oi(Rr(e=Error(a(422),{cause:r}),n))):(r!==Zr&&oi(Rr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Rr(r,n),Ls(e,i=Ba(e.stateNode,r,i)),4!==dc&&(dc=2)),!1;var o=Error(a(520),{cause:r});if(o=Rr(o,n),null===vc?vc=[o]:vc.push(o),4!==dc&&(dc=2),null===t)return!0;r=Rr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Ls(n,e=Ba(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===kc||!kc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,$a(i=za(i),e,n,r),Ls(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ic))return dc=1,Ua(e,Rr(n,e.current)),void(rc=null)}catch(o){if(null!==i)throw rc=i,o;return dc=1,Ua(e,Rr(n,e.current)),void(rc=null)}32768&t.flags?(Yr||1===r?e=!0:lc||0!==(536870912&ic)?e=!1:(sc=e=!0,(2===r||3===r||6===r)&&(null!==(r=xi.current)&&13===r.tag&&(r.flags|=16384))),Zc(t,e)):Jc(t)}function Jc(e){var t=e;do{if(0!==(32768&t.flags))return void Zc(t,sc);e=t.return;var n=Yl(t.alternate,t,uc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===dc&&(dc=5)}function Zc(e,t){do{var n=Xl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);dc=6,rc=null}function eu(e,t,n,r,i,o,s,l,c,u){var d=N.T,h=z.p;try{z.p=2,N.T=null,function(e,t,n,r,i,o,s,l){do{nu()}while(null!==Ic);if(0!==(6&tc))throw Error(a(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Pe(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,r,u|=Ir,o,s,l),e===nc&&(rc=nc=null,ic=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||_c||(_c=!0,Cc=u,xc=n,function(e,t){ie(e,t)}(he,(function(){return nu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=N.T,N.T=null,o=z.p,z.p=2,s=tc,tc|=4,function(e,t){if(e=e.containerInfo,Ku=Wd,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qu={focusedElem:e,selectionRange:n},Wd=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){switch(o=(t=rl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var g=Ra(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){iu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))sd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}g=il,il=!1}(e,c),gl(c,e),tr(Qu,e.containerInfo),Wd=!!Ku,Qu=Ku=null,e.current=c,ol(e,c.alternate,c),se(),tc=s,z.p=o,N.T=n):e.current=c,_c?(_c=!1,Ic=e,Tc=r):tu(e,u),u=e.pendingLanes,0===u&&(kc=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),mu(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],i(u.value,{componentStack:u.stack});0!==(3&Tc)&&nu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Nc?Dc++:(Dc=0,Nc=e):Dc=0,vu(0,!1)}(e,t,n,r,h,i,o,s)}finally{N.T=d,z.p=h}}function tu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function nu(){if(null!==Ic){var e=Ic,t=Cc;Cc=0;var n=Le(Tc),r=N.T,i=z.p;try{if(z.p=32>n?32:n,N.T=null,null===Ic)var o=!1;else{n=xc,xc=null;var s=Ic,l=Tc;if(Ic=null,Tc=0,0!==(6&tc))throw Error(a(331));var c=tc;if(tc|=4,Ol(s.current),_l(s,s.current,l,n),tc=c,vu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,s)}catch(u){}o=!0}return o}finally{z.p=i,N.T=r,tu(e,t)}}return!1}function ru(e,t,n){t=Rr(n,t),null!==(e=Ps(e,t=Ba(e.stateNode,t,2),2))&&(Oe(e,2),mu(e))}function iu(e,t,n){if(3===e.tag)ru(e,e,n);else for(;null!==t;){if(3===t.tag){ru(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=Rr(n,e),null!==(r=Ps(t,n=za(2),2))&&($a(n,r,t,e),Oe(r,2),mu(r));break}}t=t.return}}function ou(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ec;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(cc=!0,i.add(n),e=au.bind(null,e,t,n),t.then(e,e))}function au(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,nc===e&&(ic&n)===n&&(4===dc||3===dc&&(62914560&ic)===ic&&300>le()-wc?0===(2&tc)&&Bc(e,0):pc|=n,mc===ic&&(mc=0)),mu(e)}function su(e,t){0===t&&(t=Ne()),null!==(e=Dr(e,t))&&(Oe(e,t),mu(e))}function lu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),su(e,n)}function cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),su(e,n)}var uu=null,du=null,hu=!1,fu=!1,pu=!1,gu=0;function mu(e){var t;e!==du&&null===e.next&&(null===du?uu=du=e:du=du.next=e),fu=!0,hu||(hu=!0,t=yu,id((function(){0!==(6&tc)?ie(ue,t):t()})))}function vu(e,t){if(!pu&&fu){pu=!0;do{for(var n=!1,r=uu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-we(42|e)+1)-1,o=201326677&(o&=i&~(a&~s))?201326677&o|1:o?2|o:0}0!==o&&(n=!0,Su(r,o))}else o=ic,0===(3&(o=Te(r,r===nc?o:0)))||Ce(r,o)||(n=!0,Su(r,o));r=r.next}}while(n);pu=!1}}function yu(){fu=hu=!1;var e=0;0!==gu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ed&&(ed=e,!0);return ed=null,!1}()&&(e=gu),gu=0);for(var t=le(),n=null,r=uu;null!==r;){var i=r.next,o=bu(r,t);0===o?(r.next=null,null===n?uu=i:n.next=i,null===i&&(du=n)):(n=r,(0!==e||0!==(3&o))&&(fu=!0)),r=i}vu(e,!1)}function bu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-we(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=xe(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=ic,n=Te(e,e===(t=nc)?n:0),r=e.callbackNode,0===n||e===t&&2===oc||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=wu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function wu(e,t){var n=e.callbackNode;if(nu()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=Te(e,e===nc?r:0))?null:(Rc(e,r,t),bu(e,le()),null!=e.callbackNode&&e.callbackNode===n?wu.bind(null,e):null)}function Su(e,t){if(nu())return null;Rc(e,t,!0)}function Eu(){return 0===gu&&(gu=De()),gu}function ku(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Dt(""+e)}function _u(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Iu=0;Iu<Sr.length;Iu++){var Tu=Sr[Iu];Er(Tu.toLowerCase(),"on"+(Tu[0].toUpperCase()+Tu.slice(1)))}Er(fr,"onAnimationEnd"),Er(pr,"onAnimationIteration"),Er(gr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(mr,"onTransitionRun"),Er(vr,"onTransitionStart"),Er(yr,"onTransitionCancel"),Er(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function Du(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){La(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){La(u)}i.currentTarget=null,o=l}}}}function Nu(e,t){var n=t[Be];void 0===n&&(n=t[Be]=new Set);var r=e+"__bubble";n.has(r)||(Ru(t,e,2,!1),n.add(r))}function Au(e,t,n){var r=0;t&&(r|=4),Ru(n,e,r,t)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Pu(e){if(!e[Ou]){e[Ou]=!0,Je.forEach((function(t){"selectionchange"!==t&&(xu.has(t)||Au(t,!1,e),Au(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ou]||(t[Ou]=!0,Au("selectionchange",!1,t))}}function Ru(e,t,n,r){switch(Jd(t)){case 2:var i=qd;break;case 8:i=Gd;break;default:i=Kd}n=i.bind(null,t,n,e),i=void 0,!jt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Ge(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Mt((function(){var r=o,i=At(n),a=[];e:{var s=wr.get(e);if(void 0!==s){var l=Jt,c=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=on;break;case"focusout":c="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=mn;break;case fr:case pr:case gr:l=an;break;case br:l=vn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=yn;break;case"copy":case"cut":case"paste":l=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=gn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=Ft(p,h))&&u.push(Mu(p,g,f)),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Nt||!(c=n.relatedTarget||n.fromElement)||!Ge(c)&&!c[Ve])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ge(c):null)&&(d=F(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:Qe(l),f=null==c?s:Qe(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,Ge(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=ju(f))p++;for(f=0,g=h;g;g=ju(g))f++;for(;0<p-f;)u=ju(u),p--;for(;0<f-p;)h=ju(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=ju(u),h=ju(h)}u=null}else u=null;null!==l&&Uu(a,s,l,u,!1),null!==c&&null!==d&&Uu(a,d,c,u,!0)}if("select"===(l=(s=r?Qe(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Fn;else if(An(s))if(jn)m=Gn;else{m=Wn;var v=Hn}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(m=Fn):m=qn;switch(m&&(m=m(e,r))?On(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),v=r?Qe(r):window,e){case"focusin":(An(v)||"true"===v.contentEditable)&&(rr=v,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,i)}var y;if(Sn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Dn?Cn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(_n&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Dn&&(y=$t()):(Bt="value"in(Vt=i)?Vt.value:Vt.textContent,Dn=!0)),0<(v=Fu(r,b)).length&&(b=new ln(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=xn(n))&&(b.data=y))),(y=kn?function(e,t){switch(e){case"compositionend":return xn(t);case"keypress":return 32!==t.which?null:(Tn=!0,In);case"textInput":return(e=t.data)===In&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!Sn&&Cn(e,t)?(e=$t(),zt=Bt=Vt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Fu(r,"onBeforeInput")).length&&(v=new ln("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:b}),v.data=y)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=ku((i[Ue]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ue]||null)?ku(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new Jt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==gu){var e=a?_u(i,a):new FormData(i);ha(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=a?_u(i,a):new FormData(i),ha(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,r,n,i)}Du(a,t)}))}function Mu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Ft(e,n))&&r.unshift(Mu(e,i,o)),null!=(i=Ft(e,t))&&r.push(Mu(e,i,o))),e=e.return}return r}function ju(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Uu(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Ft(n,o))&&a.unshift(Mu(n,c,l)):i||null!=(c=Ft(n,o))&&a.push(Mu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Vu=/\r\n?/g,Bu=/\u0000|\uFFFD/g;function zu(e){return("string"===typeof e?e:""+e).replace(Vu,"\n").replace(Bu,"")}function $u(e,t){return t=zu(t),zu(e)===t}function Hu(){}function Wu(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":st(e,"class",r);break;case"tabIndex":st(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,r);break;case"style":It(e,r,o);break;case"data":if("object"!==t){st(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Wu(e,t,"name",i.name,i,null),Wu(e,t,"formEncType",i.formEncType,i,null),Wu(e,t,"formMethod",i.formMethod,i,null),Wu(e,t,"formTarget",i.formTarget,i,null)):(Wu(e,t,"encType",i.encType,i,null),Wu(e,t,"method",i.method,i,null),Wu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"onScroll":null!=r&&Nu("scroll",e);break;case"onScrollEnd":null!=r&&Nu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Dt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Nu("beforetoggle",e),Nu("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Ct.get(n)||n,r)}}function qu(e,t,n,r,i,o){switch(n){case"style":It(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Nu("scroll",e);break;case"onScrollEnd":null!=r&&Nu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ue]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Gu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nu("error",e),Nu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Wu(e,t,r,s,n,null)}}return o&&Wu(e,t,"srcSet",n.srcSet,n,null),void(i&&Wu(e,t,"src",n.src,n,null));case"input":Nu("invalid",e);var l=r=s=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Wu(e,t,i,d,n,null)}}return vt(e,r,l,c,u,s,o,!1),void dt(e);case"select":for(o in Nu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Wu(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(s in Nu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Wu(e,t,s,l,n,null)}return St(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Wu(e,t,c,i,n,null);return;case"dialog":Nu("cancel",e),Nu("close",e);break;case"iframe":case"object":Nu("load",e);break;case"video":case"audio":for(i=0;i<Cu.length;i++)Nu(Cu[i],e);break;case"image":Nu("error",e),Nu("load",e);break;case"details":Nu("toggle",e);break;case"embed":case"source":case"link":Nu("error",e),Nu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Wu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&qu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Wu(e,t,l,i,n,null))}var Ku=null,Qu=null;function Yu(e){return 9===e.nodeType?e:e.ownerDocument}function Xu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ju(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Zu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ed=null;var td="function"===typeof setTimeout?setTimeout:void 0,nd="function"===typeof clearTimeout?clearTimeout:void 0,rd="function"===typeof Promise?Promise:void 0,id="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rd?function(e){return rd.resolve(null).then(e).catch(od)}:td;function od(e){setTimeout((function(){throw e}))}function ad(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void mh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);mh(t)}function sd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":sd(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function ld(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function cd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function ud(e,t,n){switch(t=Yu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var dd=new Map,hd=new Set;function fd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var pd=z.d;z.d={f:function(){var e=pd.f(),t=Uc();return e||t},r:function(e){var t=Ke(e);null!==t&&5===t.tag&&"form"===t.type?pa(t):pd.r(e)},D:function(e){pd.D(e),md("dns-prefetch",e,null)},C:function(e,t){pd.C(e,t),md("preconnect",e,t)},L:function(e,t,n){pd.L(e,t,n);var r=gd;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var o=i;switch(t){case"style":o=yd(e);break;case"script":o=Sd(e)}dd.has(o)||(e=A({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),dd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(bd(o))||"script"===t&&r.querySelector(Ed(o))||(Gu(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}},m:function(e,t){pd.m(e,t);var n=gd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Sd(e)}if(!dd.has(o)&&(e=A({rel:"modulepreload",href:e},t),dd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ed(o)))return}Gu(r=n.createElement("link"),"link",e),Xe(r),n.head.appendChild(r)}}},X:function(e,t){pd.X(e,t);var n=gd;if(n&&e){var r=Ye(n).hoistableScripts,i=Sd(e),o=r.get(i);o||((o=n.querySelector(Ed(i)))||(e=A({src:e,async:!0},t),(t=dd.get(i))&&Td(e,t),Xe(o=n.createElement("script")),Gu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){pd.S(e,t,n);var r=gd;if(r&&e){var i=Ye(r).hoistableStyles,o=yd(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(bd(o)))s.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=dd.get(o))&&Id(e,n);var l=a=r.createElement("link");Xe(l),Gu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,_d(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){pd.M(e,t);var n=gd;if(n&&e){var r=Ye(n).hoistableScripts,i=Sd(e),o=r.get(i);o||((o=n.querySelector(Ed(i)))||(e=A({src:e,async:!0,type:"module"},t),(t=dd.get(i))&&Td(e,t),Xe(o=n.createElement("script")),Gu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var gd="undefined"===typeof document?null:document;function md(e,t,n){var r=gd;if(r&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),hd.has(i)||(hd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Gu(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}}function vd(e,t,n,r){var i,o,s,l,c=(c=X.current)?fd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=yd(n.href),(r=(n=Ye(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=yd(n.href);var u=Ye(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(bd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),dd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},dd.set(e,n),u||(i=c,o=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),Gu(o,"link",s),Xe(o),i.head.appendChild(o))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Sd(n),(r=(n=Ye(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function yd(e){return'href="'+gt(e)+'"'}function bd(e){return'link[rel="stylesheet"]['+e+"]"}function wd(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Sd(e){return'[src="'+gt(e)+'"]'}function Ed(e){return"script[async]"+e}function kd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,Xe(r),r;var i=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Xe(r=(e.ownerDocument||e).createElement("style")),Gu(r,"style",i),_d(r,n.precedence,e),t.instance=r;case"stylesheet":i=yd(n.href);var o=e.querySelector(bd(i));if(o)return t.state.loading|=4,t.instance=o,Xe(o),o;r=wd(n),(i=dd.get(i))&&Id(r,i),Xe(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Gu(o,"link",r),t.state.loading|=4,_d(o,n.precedence,e),t.instance=o;case"script":return o=Sd(n.src),(i=e.querySelector(Ed(o)))?(t.instance=i,Xe(i),i):(r=n,(i=dd.get(o))&&Td(r=A({},n),i),Xe(i=(e=e.ownerDocument||e).createElement("script")),Gu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,_d(r,n.precedence,e));return t.instance}function _d(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Id(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Cd=null;function xd(e,t,n){if(null===Cd){var r=new Map,i=Cd=new Map;i.set(n,r)}else(r=(i=Cd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[We]||o[je]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function Dd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Nd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ad=null;function Od(){}function Pd(){if(this.count--,0===this.count)if(this.stylesheets)Ld(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Rd=null;function Ld(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Rd=new Map,t.forEach(Md,e),Rd=null,Pd.call(e))}function Md(e,t){if(!(4&t.state.loading)){var n=Rd.get(e);if(n)var r=n.get(null);else{n=new Map,Rd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Pd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Fd={$$typeof:m,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function jd(e,t,n,r,i,o,a,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Ud(e,t,n,r,i,o,a,s,l,c,u,d){return e=new jd(e,t,n,a,s,l,c,d),t=1,!0===o&&(t|=24),o=Ml(3,null,null,t),e.current=o,o.stateNode=e,(t=Vi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},Ns(o),e}function Vd(e){return e?e=Or:Or}function Bd(e,t,n,r,i,o){i=Vd(i),null===r.context?r.context=i:r.pendingContext=i,(r=Os(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=Ps(e,r,t))&&(Pc(n,0,t),Rs(n,e,t))}function zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $d(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function Hd(e){if(13===e.tag){var t=Dr(e,67108864);null!==t&&Pc(t,0,67108864),$d(e,67108864)}}var Wd=!0;function qd(e,t,n,r){var i=N.T;N.T=null;var o=z.p;try{z.p=2,Kd(e,t,n,r)}finally{z.p=o,N.T=i}}function Gd(e,t,n,r){var i=N.T;N.T=null;var o=z.p;try{z.p=8,Kd(e,t,n,r)}finally{z.p=o,N.T=i}}function Kd(e,t,n,r){if(Wd){var i=Qd(r);if(null===i)Lu(e,t,r,Yd,n),sh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return eh=lh(eh,e,t,n,r,i),!0;case"dragenter":return th=lh(th,e,t,n,r,i),!0;case"mouseover":return nh=lh(nh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return rh.set(o,lh(rh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ih.set(o,lh(ih.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(sh(e,r),4&t&&-1<ah.indexOf(e)){for(;null!==i;){var o=Ke(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=Ie(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-we(a);s.entanglements[1]|=l,a&=~l}mu(o),0===(6&tc)&&(Sc=le()+500,vu(0,!1))}}break;case 13:null!==(s=Dr(o,2))&&Pc(s,0,2),Uc(),$d(o,2)}if(null===(o=Qd(r))&&Lu(e,t,r,Yd,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Lu(e,t,r,null,n)}}function Qd(e){return Xd(e=At(e))}var Yd=null;function Xd(e){if(Yd=null,null!==(e=Ge(e))){var t=F(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=j(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yd=e,null}function Jd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Zd=!1,eh=null,th=null,nh=null,rh=new Map,ih=new Map,oh=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sh(e,t){switch(e){case"focusin":case"focusout":eh=null;break;case"dragenter":case"dragleave":th=null;break;case"mouseover":case"mouseout":nh=null;break;case"pointerover":case"pointerout":rh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ih.delete(t.pointerId)}}function lh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ke(t))&&Hd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function ch(e){var t=Ge(e.target);if(null!==t){var n=F(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=j(n)))return e.blockedOn=t,void function(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}(e.priority,(function(){if(13===n.tag){var e=Ac(),t=Dr(n,e);null!==t&&Pc(t,0,e),$d(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function uh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qd(e.nativeEvent);if(null!==n)return null!==(t=Ke(n))&&Hd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function dh(e,t,n){uh(e)&&n.delete(t)}function hh(){Zd=!1,null!==eh&&uh(eh)&&(eh=null),null!==th&&uh(th)&&(th=null),null!==nh&&uh(nh)&&(nh=null),rh.forEach(dh),ih.forEach(dh)}function fh(e,t){e.blockedOn===t&&(e.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hh)))}var ph=null;function gh(e){ph!==e&&(ph=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){ph===e&&(ph=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Xd(r||n))continue;break}var o=Ke(n);null!==o&&(e.splice(t,3),t-=3,ha(o,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function mh(e){function t(t){return fh(t,e)}null!==eh&&fh(eh,e),null!==th&&fh(th,e),null!==nh&&fh(nh,e),rh.forEach(t),ih.forEach(t);for(var n=0;n<oh.length;n++){var r=oh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<oh.length&&null===(n=oh[0]).blockedOn;)ch(n),null===n.blockedOn&&oh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Ue]||null;if("function"===typeof o)a||gh(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Ue]||null)s=a.formAction;else if(null!==Xd(i))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),gh(n)}}}function vh(e){this._internalRoot=e}function yh(e){this._internalRoot=e}yh.prototype.render=vh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Bd(t.current,Ac(),e,t,null,null)},yh.prototype.unmount=vh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&nu(),Bd(e.current,2,null,e,null,null),Uc(),t[Ve]=null}},yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oh.length&&0!==t&&t<oh[n].priority;n++);oh.splice(n,0,e),0===n&&ch(e)}};var bh=i.version;if("19.0.0"!==bh)throw Error(a(527,bh,"19.0.0"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return U(i),e;if(o===r)return U(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?V(e):null)?null:e.stateNode};var wh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:Ge,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{ve=Sh.inject(wh),ye=Sh}catch(kh){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",i=Ma,o=Fa,l=ja;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Ud(e,1,!1,null,0,n,r,i,o,l,0,null),e[Ve]=t.current,Pu(8===e.nodeType?e.parentNode:e),new vh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,i="",o=Ma,l=Fa,c=ja,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Ud(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Vd(null),n=t.current,(i=Os(r=Ac())).callback=null,Ps(n,i,r),t.current.lanes=r,Oe(t,r),mu(t),e[Ve]=t.current,Pu(e),new yh(t)},t.version="19.0.0"},43:(e,t,n)=>{e.exports=n(288)},149:e=>{const t=(e,t,r,i)=>{if("length"===r||"prototype"===r)return;if("arguments"===r||"caller"===r)return;const o=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!n(o,a)&&i||Object.defineProperty(e,r,a)},n=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},r=(e,t)=>`/* Wrapped ${e}*/\n${t}`,i=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),o=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=function(e,n){let{ignoreNonConfigurable:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{name:s}=e;for(const r of Reflect.ownKeys(n))t(e,n,r,a);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,n),((e,t,n)=>{const a=""===n?"":`with ${n.trim()}() `,s=r.bind(null,a,t.toString());Object.defineProperty(s,"name",o),Object.defineProperty(e,"toString",{...i,value:s})})(e,n,s),e}},237:(e,t,n)=>{n(365)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var S=Array.isArray,E={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function _(e,t,r,i,o,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(){}function D(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return D((u=e._init)(e._payload),t,i,o,a)}}if(u)return a=a(e),u=""===o?"."+C(e,0):o,S(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),D(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=_(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===o?".":o+":";if(S(e))for(var g=0;g<e.length;g++)u+=D(o=e[g],t,i,s=p+C(o,g),a);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(o=e.next()).done;)u+=D(o=o.value,t,i,s=p+C(o,g++),a);else if("object"===s){if("function"===typeof e.then)return D(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return _(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return _(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(P,O)}catch(o){O(o)}finally{E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.0.0"},365:(e,t,n)=>{var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},457:e=>{e.exports=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e}},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},788:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(457));function a(e){let t,n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"maxAge";const s=()=>r(this,void 0,void 0,(function*(){if(void 0!==t)return;const s=s=>r(this,void 0,void 0,(function*(){i=o.default();const r=s[1][a]-Date.now();return r<=0?(e.delete(s[0]),void i.resolve()):(t=s[0],n=setTimeout((()=>{e.delete(s[0]),i&&i.resolve()}),r),"function"===typeof n.unref&&n.unref(),i.promise)}));try{for(const t of e)yield s(t)}catch(l){}t=void 0})),l=e.set.bind(e);return e.set=(r,o)=>{e.has(r)&&e.delete(r);const a=l(r,o);return t&&t===r&&(t=void 0,void 0!==n&&(clearTimeout(n),n=void 0),void 0!==i&&(i.reject(void 0),i=void 0)),s(),a},s(),e}t.default=a,e.exports=a,e.exports.default=a},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,A();else{var t=r(u);null!==t&&O(S,t.startTime-e)}}var E,k=!1,_=-1,I=5,T=-1;function C(){return!(t.unstable_now()-T<I)}function x(){if(k){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,m&&(m=!1,y(_),_=-1),p=!0;var o=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&O(S,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?E():k=!1}}}if("function"===typeof b)E=function(){b(x)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,N=D.port2;D.port1.onmessage=x,E=function(){N.postMessage(null)}}else E=function(){v(x,0)};function A(){k||(k=!0,E())}function O(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,A())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(y(_),_=-1):m=!0,O(S,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,A())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},922:(e,t,n)=>{const r=n(149),i=n(788),o=new WeakMap,a=new WeakMap,s=function(e){let{cacheKey:t,cache:n=new Map,maxAge:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"===typeof o&&i(n);const s=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const s=t?t(i):i[0],l=n.get(s);if(l)return l.data;const c=e.apply(this,i);return n.set(s,{data:c,maxAge:o?Date.now()+o:Number.POSITIVE_INFINITY}),c};return r(s,e,{ignoreNonConfigurable:!0}),a.set(s,n),s};s.decorator=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t,n,r)=>{const i=t[n];if("function"!==typeof i)throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!o.has(this)){const t=s(i,e);return o.set(this,t),t}return o.get(this)}}},s.clear=e=>{const t=a.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if("function"!==typeof t.clear)throw new TypeError("The cache Map can't be cleared!");t.clear()},e.exports=s},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".a1ecef80.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="study-app:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/study-app/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkstudy_app=self.webpackChunkstudy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391),o=n(579);function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const s=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r};var l=n(922);function c(e){return"string"===typeof e}function u(e,t,n){return n.indexOf(e)===t}function d(e){return-1===e.indexOf(",")?e:e.split(",")}function h(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return h(void 0===t?"":t)}if(-1!==e.indexOf("@")){var n=e.split("@")[0];return h(void 0===n?"":n)}if(-1===e.indexOf("-")||(r=e).toLowerCase()!==r)return e;var r,i=e.split("-"),o=i[0],a=i[1],s=void 0===a?"":a;return"".concat(o,"-").concat(s.toUpperCase())}var f=l((function(e){var t=void 0===e?{}:e,n=t.useFallbackLocale,r=void 0===n||n,i=t.fallbackLocale,o=void 0===i?"en-US":i,a=[];if("undefined"!==typeof navigator){for(var s=[],l=0,f=navigator.languages||[];l<f.length;l++){var p=f[l];s=s.concat(d(p))}var g=navigator.language,m=g?d(g):g;a=a.concat(s,m)}return r&&a.push(o),a.filter(c).map(h).filter(u)}),{cacheKey:JSON.stringify});var p=l((function(e){return f(e)[0]||null}),{cacheKey:JSON.stringify});const g=p;function m(e,t,n){return function(r,i){void 0===i&&(i=n);var o=e(r)+i;return t(o)}}function v(e){return function(t){return new Date(e(t).getTime()-1)}}function y(e,t){return function(n){return[e(n),t(n)]}}function b(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function w(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function S(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function E(e){var t=b(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var k=m(b,E,-100),_=m(b,E,100),I=v(_),T=m(b,I,-100),C=(m(b,I,100),y(E,I));function x(e){var t=b(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var D=m(b,x,-10),N=m(b,x,10),A=v(N),O=m(b,A,-10),P=(m(b,A,10),y(x,A));function R(e){var t=b(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var L=m(b,R,-1),M=m(b,R,1),F=v(M),j=m(b,F,-1),U=(m(b,F,1),y(R,F));function V(e,t){return function(n,r){void 0===r&&(r=t);var i=b(n),o=w(n)+r,a=new Date;return a.setFullYear(i,o,1),a.setHours(0,0,0,0),e(a)}}function B(e){var t=b(e),n=w(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var z=V(B,-1),$=V(B,1),H=v($),W=V(H,-1),q=(V(H,1),y(B,H));function G(e,t){return function(n,r){void 0===r&&(r=t);var i=b(n),o=w(n),a=S(n)+r,s=new Date;return s.setFullYear(i,o,a),s.setHours(0,0,0,0),e(s)}}function K(e){var t=b(e),n=w(e),r=S(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}G(K,-1);var Q=v(G(K,1)),Y=(G(Q,-1),G(Q,1),y(K,Q));function X(e){return S(H(e))}var J="gregory",Z="hebrew",ee="islamic",te="iso8601",ne={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},re=[0,1,2,3,4,5,6],ie=new Map;function oe(e){return function(t,n){return function(e){return function(t,n){var r=t||g();ie.has(r)||ie.set(r,new Map);var i=ie.get(r);return i.has(e)||i.set(e,new Intl.DateTimeFormat(r||void 0,e).format),i.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}oe({day:"numeric",month:"numeric",year:"numeric"});var ae=oe({day:"numeric"}),se=oe({day:"numeric",month:"long",year:"numeric"}),le=oe({month:"long"}),ce=oe({month:"long",year:"numeric"}),ue=oe({weekday:"short"}),de=oe({weekday:"long"}),he=oe({year:"numeric"}),fe=re[0],pe=re[5],ge=re[6];function me(e,t){void 0===t&&(t=te);var n=e.getDay();switch(t){case te:return(n+6)%7;case ee:return(n+1)%7;case Z:case J:return n;default:throw new Error("Unsupported calendar type.")}}function ve(e,t){void 0===t&&(t=te);var n=b(e),r=w(e),i=e.getDate()-me(e,t);return new Date(n,r,i)}function ye(e,t){switch(e){case"century":return E(t);case"decade":return x(t);case"year":return R(t);case"month":return B(t);case"day":return K(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function be(e,t){switch(e){case"century":return _(t);case"decade":return N(t);case"year":return M(t);case"month":return $(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function we(e,t){switch(e){case"century":return I(t);case"decade":return A(t);case"year":return F(t);case"month":return H(t);case"day":return Q(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Se(e,t){switch(e){case"century":return C(t);case"decade":return P(t);case"year":return U(t);case"month":return q(t);case"day":return Y(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ee(e,t,n){return n.map((function(n){return(t||he)(e,n)})).join(" \u2013 ")}function ke(e,t,n){return Ee(e,t,P(n))}function _e(e,t){void 0===t&&(t=te);var n=e.getDay();switch(t){case ee:case Z:return n===pe||n===ge;case te:case J:return n===ge||n===fe;default:throw new Error("Unsupported calendar type.")}}var Ie="react-calendar__navigation";function Te(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,i=void 0===r?ce:r,a=e.formatYear,s=void 0===a?he:a,l=e.locale,c=e.maxDate,u=e.minDate,d=e.navigationAriaLabel,h=void 0===d?"":d,f=e.navigationAriaLive,g=e.navigationLabel,m=e.next2AriaLabel,v=void 0===m?"":m,y=e.next2Label,b=void 0===y?"\xbb":y,w=e.nextAriaLabel,S=void 0===w?"":w,E=e.nextLabel,_=void 0===E?"\u203a":E,I=e.prev2AriaLabel,x=void 0===I?"":I,A=e.prev2Label,P=void 0===A?"\xab":A,R=e.prevAriaLabel,F=void 0===R?"":R,U=e.prevLabel,V=void 0===U?"\u2039":U,B=e.setActiveStartDate,H=e.showDoubleView,q=e.view,G=e.views.indexOf(q)>0,K="century"!==q,Q=function(e,t){switch(e){case"century":return k(t);case"decade":return D(t);case"year":return L(t);case"month":return z(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(q,t),Y=K?function(e,t){switch(e){case"decade":return D(t,-100);case"year":return L(t,-10);case"month":return z(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(q,t):void 0,X=be(q,t),J=K?function(e,t){switch(e){case"decade":return N(t,100);case"year":return M(t,10);case"month":return $(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(q,t):void 0,Z=function(){if(Q.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return T(t);case"decade":return O(t);case"year":return j(t);case"month":return W(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(q,t);return u&&u>=e}(),ee=K&&function(){if(Y.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return O(t,-100);case"year":return j(t,-10);case"month":return W(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(q,t);return u&&u>=e}(),te=c&&c<X,ne=K&&c&&c<J;function re(e){var t=function(){switch(q){case"century":return function(e,t,n){return Ee(e,t,C(n))}(l,s,e);case"decade":return ke(l,s,e);case"year":return s(l,e);case"month":return i(l,e);default:throw new Error("Invalid view: ".concat(q,"."))}}();return g?g({date:e,label:t,locale:l||p()||void 0,view:q}):t}return(0,o.jsxs)("div",{className:Ie,children:[null!==P&&K?(0,o.jsx)("button",{"aria-label":x,className:"".concat(Ie,"__arrow ").concat(Ie,"__prev2-button"),disabled:ee,onClick:function(){B(Y,"prev2")},type:"button",children:P}):null,null!==V&&(0,o.jsx)("button",{"aria-label":F,className:"".concat(Ie,"__arrow ").concat(Ie,"__prev-button"),disabled:Z,onClick:function(){B(Q,"prev")},type:"button",children:V}),function(){var e="".concat(Ie,"__label");return(0,o.jsxs)("button",{"aria-label":h,"aria-live":f,className:e,disabled:!G,onClick:n,style:{flexGrow:1},type:"button",children:[(0,o.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from"),children:re(t)}),H?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"".concat(e,"__divider"),children:" \u2013 "}),(0,o.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to"),children:re(X)})]}):null]})}(),null!==_&&(0,o.jsx)("button",{"aria-label":S,className:"".concat(Ie,"__arrow ").concat(Ie,"__next-button"),disabled:te,onClick:function(){B(X,"next")},type:"button",children:_}),null!==b&&K?(0,o.jsx)("button",{"aria-label":v,className:"".concat(Ie,"__arrow ").concat(Ie,"__next2-button"),disabled:ne,onClick:function(){B(J,"next2")},type:"button",children:b}):null]})}var Ce=function(){return Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ce.apply(this,arguments)},xe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function De(e){return"".concat(e,"%")}function Ne(e){var t=e.children,n=e.className,i=e.count,a=e.direction,s=e.offset,l=e.style,c=e.wrap,u=xe(e,["children","className","count","direction","offset","style","wrap"]);return(0,o.jsx)("div",Ce({className:n,style:Ce({display:"flex",flexDirection:a,flexWrap:c?"wrap":"nowrap"},l)},u,{children:r.Children.map(t,(function(e,t){var n=s&&0===t?De(100*s/i):null;return(0,r.cloneElement)(e,Ce(Ce({},e.props),{style:{flexBasis:De(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:n,marginInlineStart:n,marginInlineEnd:0}}))}))}))}function Ae(e,t){return t[0]<=e&&t[1]>=e}function Oe(e,t){return Ae(e[0],t)||Ae(e[1],t)}function Pe(e,t,n){var r=[];if(Oe(t,e)){r.push(n);var i=Ae(e[0],t),o=Ae(e[1],t);i&&r.push("".concat(n,"Start")),o&&r.push("".concat(n,"End")),i&&o&&r.push("".concat(n,"BothEnds"))}return r}function Re(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,i="react-calendar__tile",o=[i];if(!n)return o;var a=new Date,s=function(){if(Array.isArray(n))return n;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return Se(t,n)}();if(Ae(a,s)&&o.push("".concat(i,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return o;var l,c,u=function(){if(Array.isArray(t))return t;var n=e.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return Se(n,t)}();c=s,(l=u)[0]<=c[0]&&l[1]>=c[1]?o.push("".concat(i,"--active")):Oe(u,s)&&o.push("".concat(i,"--hasActive"));var d=Pe(u,s,"".concat(i,"--range"));o.push.apply(o,d);var h=Array.isArray(t)?t:[t];if(r&&1===h.length){var f=Pe(r>u[0]?[u[0],r]:[r,u[0]],s,"".concat(i,"--hover"));o.push.apply(o,f)}return o}function Le(e){for(var t=e.className,n=e.count,r=void 0===n?3:n,i=e.dateTransform,a=e.dateType,s=e.end,l=e.hover,c=e.offset,u=e.renderTile,d=e.start,h=e.step,f=void 0===h?1:h,p=e.value,g=e.valueType,m=[],v=d;v<=s;v+=f){var y=i(v);m.push(u({classes:Re({date:y,dateType:a,hover:l,value:p,valueType:g}),date:y}))}return(0,o.jsx)(Ne,{className:t,count:r,offset:c,wrap:!0,children:m})}function Me(e){var t=e.activeStartDate,n=e.children,i=e.classes,a=e.date,l=e.formatAbbr,c=e.locale,u=e.maxDate,d=e.maxDateTransform,h=e.minDate,f=e.minDateTransform,p=e.onClick,g=e.onMouseOver,m=e.style,v=e.tileClassName,y=e.tileContent,b=e.tileDisabled,w=e.view,S=(0,r.useMemo)((function(){return"function"===typeof v?v({activeStartDate:t,date:a,view:w}):v}),[t,a,v,w]),E=(0,r.useMemo)((function(){return"function"===typeof y?y({activeStartDate:t,date:a,view:w}):y}),[t,a,y,w]);return(0,o.jsxs)("button",{className:s(i,S),disabled:h&&f(h)>a||u&&d(u)<a||(null===b||void 0===b?void 0:b({activeStartDate:t,date:a,view:w})),onClick:p?function(e){return p(a,e)}:void 0,onFocus:g?function(){return g(a)}:void 0,onMouseOver:g?function(){return g(a)}:void 0,style:m,type:"button",children:[l?(0,o.jsx)("abbr",{"aria-label":l(c,a),children:n}):n,E]})}var Fe=function(){return Fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fe.apply(this,arguments)},je=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ue="react-calendar__century-view__decades__decade";function Ve(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentCentury,i=e.formatYear,a=void 0===i?he:i,s=je(e,["classes","currentCentury","formatYear"]),l=s.date,c=s.locale,u=[];return n&&u.push.apply(u,n),Ue&&u.push(Ue),E(l).getFullYear()!==r&&u.push("".concat(Ue,"--neighboringCentury")),(0,o.jsx)(Me,Fe({},s,{classes:u,maxDateTransform:A,minDateTransform:x,view:"century",children:ke(c,a,l)}))}var Be=function(){return Be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Be.apply(this,arguments)},ze=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function $e(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,i=e.value,a=e.valueType,s=ze(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=b(E(t)),c=l+(r?119:99);return(0,o.jsx)(Le,{className:"react-calendar__century-view__decades",dateTransform:x,dateType:"decade",end:c,hover:n,renderTile:function(e){var n=e.date,r=ze(e,["date"]);return(0,o.jsx)(Ve,Be({},s,r,{activeStartDate:t,currentCentury:l,date:n}),n.getTime())},start:l,step:10,value:i,valueType:a})}var He=function(){return He=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},He.apply(this,arguments)};function We(e){return(0,o.jsx)("div",{className:"react-calendar__century-view",children:(0,o.jsx)($e,He({},e))})}var qe=function(){return qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qe.apply(this,arguments)},Ge=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ke="react-calendar__decade-view__years__year";function Qe(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentDecade,i=e.formatYear,a=void 0===i?he:i,s=Ge(e,["classes","currentDecade","formatYear"]),l=s.date,c=s.locale,u=[];return n&&u.push.apply(u,n),Ke&&u.push(Ke),x(l).getFullYear()!==r&&u.push("".concat(Ke,"--neighboringDecade")),(0,o.jsx)(Me,qe({},s,{classes:u,maxDateTransform:F,minDateTransform:R,view:"decade",children:a(c,l)}))}var Ye=function(){return Ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ye.apply(this,arguments)},Xe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Je(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,i=e.value,a=e.valueType,s=Xe(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=b(x(t)),c=l+(r?11:9);return(0,o.jsx)(Le,{className:"react-calendar__decade-view__years",dateTransform:R,dateType:"year",end:c,hover:n,renderTile:function(e){var n=e.date,r=Xe(e,["date"]);return(0,o.jsx)(Qe,Ye({},s,r,{activeStartDate:t,currentDecade:l,date:n}),n.getTime())},start:l,value:i,valueType:a})}var Ze=function(){return Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ze.apply(this,arguments)};function et(e){return(0,o.jsx)("div",{className:"react-calendar__decade-view",children:(0,o.jsx)(Je,Ze({},e))})}var tt=function(){return tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tt.apply(this,arguments)},nt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},rt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function it(e){var t=e.classes,n=void 0===t?[]:t,r=e.formatMonth,i=void 0===r?le:r,a=e.formatMonthYear,s=void 0===a?ce:a,l=nt(e,["classes","formatMonth","formatMonthYear"]),c=l.date,u=l.locale;return(0,o.jsx)(Me,tt({},l,{classes:rt(rt([],n,!0),["react-calendar__year-view__months__month"],!1),formatAbbr:s,maxDateTransform:H,minDateTransform:B,view:"year",children:i(u,c)}))}var ot=function(){return ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ot.apply(this,arguments)},at=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function st(e){var t=e.activeStartDate,n=e.hover,r=e.value,i=e.valueType,a=at(e,["activeStartDate","hover","value","valueType"]),s=b(t);return(0,o.jsx)(Le,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(s,e,1),B(t)},dateType:"month",end:11,hover:n,renderTile:function(e){var n=e.date,r=at(e,["date"]);return(0,o.jsx)(it,ot({},a,r,{activeStartDate:t,date:n}),n.getTime())},start:0,value:r,valueType:i})}var lt=function(){return lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lt.apply(this,arguments)};function ct(e){return(0,o.jsx)("div",{className:"react-calendar__year-view",children:(0,o.jsx)(st,lt({},e))})}var ut=function(){return ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ut.apply(this,arguments)},dt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ht="react-calendar__month-view__days__day";function ft(e){var t=e.calendarType,n=e.classes,r=void 0===n?[]:n,i=e.currentMonthIndex,a=e.formatDay,s=void 0===a?ae:a,l=e.formatLongDate,c=void 0===l?se:l,u=dt(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=u.date,h=u.locale,f=[];return r&&f.push.apply(f,r),ht&&f.push(ht),_e(d,t)&&f.push("".concat(ht,"--weekend")),d.getMonth()!==i&&f.push("".concat(ht,"--neighboringMonth")),(0,o.jsx)(Me,ut({},u,{classes:f,formatAbbr:c,maxDateTransform:Q,minDateTransform:K,view:"month",children:s(h,d)}))}var pt=function(){return pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pt.apply(this,arguments)},gt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function mt(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,i=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,s=e.value,l=e.valueType,c=gt(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=b(t),d=w(t),h=i||a,f=me(t,n),p=h?0:f,g=1+(h?-f:0),m=function(){if(i)return g+42-1;var e=X(t);if(a){var r=new Date;return r.setFullYear(u,d,e),r.setHours(0,0,0,0),e+(7-me(r,n)-1)}return e}();return(0,o.jsx)(Le,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(u,d,e),K(t)},dateType:"day",hover:r,end:m,renderTile:function(e){var r=e.date,i=gt(e,["date"]);return(0,o.jsx)(ft,pt({},c,i,{activeStartDate:t,calendarType:n,currentMonthIndex:d,date:r}),r.getTime())},offset:p,start:g,value:s,valueType:l})}var vt="react-calendar__month-view__weekdays",yt="".concat(vt,"__weekday");function bt(e){for(var t,n=e.calendarType,r=e.formatShortWeekday,i=void 0===r?ue:r,a=e.formatWeekday,l=void 0===a?de:a,c=e.locale,u=e.onMouseLeave,d=B(new Date),h=b(d),f=w(d),p=[],g=1;g<=7;g+=1){var m=new Date(h,f,g-me(d,n)),v=l(c,m);p.push((0,o.jsx)("div",{className:s(yt,(t=m,t.getDay()===(new Date).getDay()&&"".concat(yt,"--current")),_e(m,n)&&"".concat(yt,"--weekend")),children:(0,o.jsx)("abbr",{"aria-label":v,title:v,children:i(c,m).replace(".","")})},g))}return(0,o.jsx)(Ne,{className:vt,count:7,onFocus:u,onMouseOver:u,children:p})}var wt=function(){return wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wt.apply(this,arguments)},St=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Et="react-calendar__tile";function kt(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=(0,o.jsx)("span",{children:n});if(t){var i=e.date,a=e.onClickWeekNumber,s=e.weekNumber,l=St(e,["date","onClickWeekNumber","weekNumber"]);return(0,o.jsx)("button",wt({},l,{className:Et,onClick:function(e){return a(s,i,e)},type:"button",children:r}))}e.date,e.onClickWeekNumber,e.weekNumber,l=St(e,["date","onClickWeekNumber","weekNumber"]);return(0,o.jsx)("div",wt({},l,{className:Et,children:r}))}function _t(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,s=function(){if(a)return 6;var e=X(t)-(7-me(t,n));return 1+Math.ceil(e/7)}(),l=function(){for(var e=b(t),r=w(t),i=S(t),o=[],a=0;a<s;a+=1)o.push(ve(new Date(e,r,i+7*a),n));return o}(),c=l.map((function(e){return function(e,t){void 0===t&&(t=te);var n,r=t===J?J:te,i=ve(e,t),o=b(e)+1;do{n=ve(new Date(o,0,r===te?4:1),t),o-=1}while(e<n);return Math.round((i.getTime()-n.getTime())/6048e5)+1}(e,n)}));return(0,o.jsx)(Ne,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:c.map((function(e,t){var n=l[t];if(!n)throw new Error("date is not defined");return(0,o.jsx)(kt,{date:n,onClickWeekNumber:r,weekNumber:e},e)}))})}var It=function(){return It=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},It.apply(this,arguments)},Tt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ct(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,i=e.showFixedNumberOfWeeks,a=e.calendarType,l=void 0===a?function(e){if(e)for(var t=0,n=Object.entries(ne);t<n.length;t++){var r=n[t],i=r[0];if(r[1].includes(e))return i}return te}(n):a,c=e.formatShortWeekday,u=e.formatWeekday,d=e.onClickWeekNumber,h=e.showWeekNumbers,f=Tt(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var p="react-calendar__month-view";return(0,o.jsx)("div",{className:s(p,h?"".concat(p,"--weekNumbers"):""),children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[h?(0,o.jsx)(_t,{activeStartDate:t,calendarType:l,onClickWeekNumber:d,onMouseLeave:r,showFixedNumberOfWeeks:i}):null,(0,o.jsxs)("div",{style:{flexGrow:1,width:"100%"},children:[(0,o.jsx)(bt,{calendarType:l,formatShortWeekday:c,formatWeekday:u,locale:n,onMouseLeave:r}),(0,o.jsx)(mt,It({calendarType:l},f))]})]})})}var xt=function(){return xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xt.apply(this,arguments)},Dt="react-calendar",Nt=["century","decade","year","month"],At=["decade","year","month","day"],Ot=new Date;Ot.setFullYear(1,0,1),Ot.setHours(0,0,0,0);var Pt=new Date(864e13);function Rt(e){return e instanceof Date?e:new Date(e)}function Lt(e,t){return Nt.slice(Nt.indexOf(e),Nt.indexOf(t)+1)}function Mt(e,t,n){return e&&function(e,t,n){return-1!==Lt(t,n).indexOf(e)}(e,t,n)?e:n}function Ft(e){var t=Nt.indexOf(e);return At[t]}function jt(e,t){var n=e.value,r=e.minDate,i=e.maxDate,o=e.maxDetail,a=function(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=Rt(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(n,t);if(!a)return null;var s=Ft(o);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return ye(s,a);case 1:return we(s,a);default:throw new Error("Invalid index value: ".concat(t))}}(),r,i)}var Ut=function(e){return jt(e,0)},Vt=function(e){return jt(e,1)},Bt=function(e){return[Ut,Vt].map((function(t){return t(e)}))};function zt(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,o=e.value;return ye(Mt(e.view,i,n),Ut({value:o,minDate:r,maxDate:t,maxDetail:n})||new Date)}function $t(e){return e&&(!Array.isArray(e)||1===e.length)}function Ht(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var Wt=(0,r.forwardRef)((function(e,t){var n=e.activeStartDate,i=e.allowPartialRange,a=e.calendarType,l=e.className,c=e.defaultActiveStartDate,u=e.defaultValue,d=e.defaultView,h=e.formatDay,f=e.formatLongDate,p=e.formatMonth,g=e.formatMonthYear,m=e.formatShortWeekday,v=e.formatWeekday,y=e.formatYear,b=e.goToRangeStartOnSelect,w=void 0===b||b,S=e.inputRef,E=e.locale,k=e.maxDate,_=void 0===k?Pt:k,I=e.maxDetail,T=void 0===I?"month":I,C=e.minDate,x=void 0===C?Ot:C,D=e.minDetail,N=void 0===D?"century":D,A=e.navigationAriaLabel,O=e.navigationAriaLive,P=e.navigationLabel,R=e.next2AriaLabel,L=e.next2Label,M=e.nextAriaLabel,F=e.nextLabel,j=e.onActiveStartDateChange,U=e.onChange,V=e.onClickDay,B=e.onClickDecade,z=e.onClickMonth,$=e.onClickWeekNumber,H=e.onClickYear,W=e.onDrillDown,q=e.onDrillUp,G=e.onViewChange,K=e.prev2AriaLabel,Q=e.prev2Label,Y=e.prevAriaLabel,X=e.prevLabel,J=e.returnValue,Z=void 0===J?"start":J,ee=e.selectRange,te=e.showDoubleView,ne=e.showFixedNumberOfWeeks,re=e.showNavigation,ie=void 0===re||re,oe=e.showNeighboringCentury,ae=e.showNeighboringDecade,se=e.showNeighboringMonth,le=void 0===se||se,ce=e.showWeekNumbers,ue=e.tileClassName,de=e.tileContent,he=e.tileDisabled,fe=e.value,pe=e.view,ge=(0,r.useState)(c),me=ge[0],ve=ge[1],Se=(0,r.useState)(null),Ee=Se[0],ke=Se[1],_e=(0,r.useState)(Array.isArray(u)?u.map((function(e){return null!==e?Rt(e):null})):null!==u&&void 0!==u?Rt(u):null),Ie=_e[0],Ce=_e[1],xe=(0,r.useState)(d),De=xe[0],Ne=xe[1],Ae=n||me||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,o=e.maxDate,a=e.maxDetail,s=e.minDate,l=e.minDetail,c=e.value,u=e.view,d=Mt(u,l,a),h=t||n;return h?ye(d,h):zt({maxDate:o,maxDetail:a,minDate:s,minDetail:l,value:c||r,view:u||i})}({activeStartDate:n,defaultActiveStartDate:c,defaultValue:u,defaultView:d,maxDate:_,maxDetail:T,minDate:x,minDetail:N,value:fe,view:pe}),Oe=function(){var e=ee&&$t(Ie)?Ie:void 0!==fe?fe:Ie;return e?Array.isArray(e)?e.map((function(e){return null!==e?Rt(e):null})):null!==e?Rt(e):null:null}(),Pe=Ft(T),Re=Mt(pe||De,N,T),Le=Lt(N,T),Me=ee?Ee:null,Fe=Le.indexOf(Re)<Le.length-1,je=Le.indexOf(Re)>0,Ue=(0,r.useCallback)((function(e){return function(){switch(Z){case"start":return Ut;case"end":return Vt;case"range":return Bt;default:throw new Error("Invalid returnValue.")}}()({maxDate:_,maxDetail:T,minDate:x,value:e})}),[_,T,x,Z]),Ve=(0,r.useCallback)((function(e,t){ve(e);var n={action:t,activeStartDate:e,value:Oe,view:Re};j&&!Ht(Ae,e)&&j(n)}),[Ae,j,Oe,Re]),Be=(0,r.useCallback)((function(e,t){var n=function(){switch(Re){case"century":return B;case"decade":return H;case"year":return z;case"month":return V;default:throw new Error("Invalid view: ".concat(Re,"."))}}();n&&n(e,t)}),[V,B,z,H,Re]),ze=(0,r.useCallback)((function(e,t){if(Fe){Be(e,t);var n=Le[Le.indexOf(Re)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");ve(e),Ne(n);var r={action:"drillDown",activeStartDate:e,value:Oe,view:n};j&&!Ht(Ae,e)&&j(r),G&&Re!==n&&G(r),W&&W(r)}}),[Ae,Fe,j,Be,W,G,Oe,Re,Le]),$e=(0,r.useCallback)((function(){if(je){var e=Le[Le.indexOf(Re)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=ye(e,Ae);ve(t),Ne(e);var n={action:"drillUp",activeStartDate:t,value:Oe,view:e};j&&!Ht(Ae,t)&&j(n),G&&Re!==e&&G(n),q&&q(n)}}),[Ae,je,j,q,G,Oe,Re,Le]),He=(0,r.useCallback)((function(e,t){var n=Oe;Be(e,t);var r,o=ee&&!$t(n);if(ee)if(o)r=ye(Pe,e);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");r=function(e,t,n){var r=[t,n].sort((function(e,t){return e.getTime()-t.getTime()}));return[ye(e,r[0]),we(e,r[1])]}(Pe,n,e)}else r=Ue(e);var a=!ee||o||w?zt({maxDate:_,maxDetail:T,minDate:x,minDetail:N,value:r,view:Re}):null;t.persist(),ve(a),Ce(r);var s={action:"onChange",activeStartDate:a,value:r,view:Re};if(j&&!Ht(Ae,a)&&j(s),U)if(ee)if($t(r)){if(i){if(Array.isArray(r))throw new Error("value must not be an array");U([r||null,null],t)}}else U(r||null,t);else U(r||null,t)}),[Ae,i,Ue,w,_,T,x,N,j,U,Be,ee,Oe,Pe,Re]);function qe(e){ke(e)}function Ge(){ke(null)}function Ke(e){var t={activeStartDate:e?be(Re,Ae):ye(Re,Ae),hover:Me,locale:E,maxDate:_,minDate:x,onClick:Fe?ze:He,onMouseOver:ee?qe:void 0,tileClassName:ue,tileContent:de,tileDisabled:he,value:Oe,valueType:Pe};switch(Re){case"century":return(0,o.jsx)(We,xt({formatYear:y,showNeighboringCentury:oe},t));case"decade":return(0,o.jsx)(et,xt({formatYear:y,showNeighboringDecade:ae},t));case"year":return(0,o.jsx)(ct,xt({formatMonth:p,formatMonthYear:g},t));case"month":return(0,o.jsx)(Ct,xt({calendarType:a,formatDay:h,formatLongDate:f,formatShortWeekday:m,formatWeekday:v,onClickWeekNumber:$,onMouseLeave:ee?Ge:void 0,showFixedNumberOfWeeks:"undefined"!==typeof ne?ne:te,showNeighboringMonth:le,showWeekNumbers:ce},t));default:throw new Error("Invalid view: ".concat(Re,"."))}}(0,r.useImperativeHandle)(t,(function(){return{activeStartDate:Ae,drillDown:ze,drillUp:$e,onChange:He,setActiveStartDate:Ve,value:Oe,view:Re}}),[Ae,ze,$e,He,Ve,Oe,Re]);var Qe=Array.isArray(Oe)?Oe:[Oe];return(0,o.jsxs)("div",{className:s(Dt,ee&&1===Qe.length&&"".concat(Dt,"--selectRange"),te&&"".concat(Dt,"--doubleView"),l),ref:S,children:[ie?(0,o.jsx)(Te,{activeStartDate:Ae,drillUp:$e,formatMonthYear:g,formatYear:y,locale:E,maxDate:_,minDate:x,navigationAriaLabel:A,navigationAriaLive:O,navigationLabel:P,next2AriaLabel:R,next2Label:L,nextAriaLabel:M,nextLabel:F,prev2AriaLabel:K,prev2Label:Q,prevAriaLabel:Y,prevLabel:X,setActiveStartDate:Ve,showDoubleView:te,view:Re,views:Le}):null,(0,o.jsxs)("div",{className:"".concat(Dt,"__viewContainer"),onBlur:ee?Ge:void 0,onMouseLeave:ee?Ge:void 0,children:[Ke(),te?Ke(!0):null]})]})}));const qt=Wt,Gt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Kt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Qt;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Qt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yt=function(e){return function(e){const t=Gt(e);return Kt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Xt=function(e){try{return Kt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const Jt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Zt=()=>{try{return Jt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/study-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Xt(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},en=e=>{var t,n;return null===(n=null===(t=Zt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},tn=()=>{var e;return null===(e=Zt())||void 0===e?void 0:e.config},nn=e=>{var t;return null===(t=Zt())||void 0===t?void 0:t[`_${e}`]};class rn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function on(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function an(){return!function(){var e;const t=null===(e=Zt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sn(){try{return"object"===typeof indexedDB}catch(e){return!1}}function ln(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class cn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,un.prototype.create)}}class un{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(dn,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new cn(n,o,t)}}const dn=/\{\$([^}]+)}/g;function hn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(fn(n)&&fn(o)){if(!hn(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fn(e){return null!==e&&"object"===typeof e}function pn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function gn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function mn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class vn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=yn),void 0===r.error&&(r.error=yn),void 0===r.complete&&(r.complete=yn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function yn(){}function bn(e){return e&&e._delegate?e._delegate:e}class wn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sn="[DEFAULT]";class En{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new rn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Sn})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Sn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return this.component?this.component.multipleInstances?e:Sn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class kn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new En(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const _n=[];var In;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(In||(In={}));const Tn={debug:In.DEBUG,verbose:In.VERBOSE,info:In.INFO,warn:In.WARN,error:In.ERROR,silent:In.SILENT},Cn=In.INFO,xn={[In.DEBUG]:"log",[In.VERBOSE]:"log",[In.INFO]:"info",[In.WARN]:"warn",[In.ERROR]:"error"},Dn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=xn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class Nn{constructor(e){this.name=e,this._logLevel=Cn,this._logHandler=Dn,this._userLogHandler=null,_n.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in In))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Tn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.DEBUG,...t),this._logHandler(this,In.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.VERBOSE,...t),this._logHandler(this,In.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.INFO,...t),this._logHandler(this,In.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.WARN,...t),this._logHandler(this,In.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,In.ERROR,...t),this._logHandler(this,In.ERROR,...t)}}let An,On;const Pn=new WeakMap,Rn=new WeakMap,Ln=new WeakMap,Mn=new WeakMap,Fn=new WeakMap;let jn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Rn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ln.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Un(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(On||(On=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(zn(this),n),Bn(Pn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bn(e.apply(zn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(zn(this),t,...r);return Ln.set(o,t.sort?t.sort():[t]),Bn(o)}}function Vn(e){return"function"===typeof e?Un(e):(e instanceof IDBTransaction&&function(e){if(Rn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Rn.set(e,t)}(e),t=e,(An||(An=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,jn):e);var t}function Bn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Bn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Pn.set(t,e)})).catch((()=>{})),Fn.set(t,e),t}(e);if(Mn.has(e))return Mn.get(e);const t=Vn(e);return t!==e&&(Mn.set(e,t),Fn.set(t,e)),t}const zn=e=>Fn.get(e);function $n(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Bn(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Bn(a.result),e.oldVersion,e.newVersion,Bn(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}function Hn(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),Bn(n).then((()=>{}))}const Wn=["get","getKey","getAll","getAllKeys","count"],qn=["put","add","delete","clear"],Gn=new Map;function Kn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Gn.get(t))return Gn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=qn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Wn.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Gn.set(t,o),o}jn=(e=>({...e,get:(t,n,r)=>Kn(t,n)||e.get(t,n,r),has:(t,n)=>!!Kn(t,n)||e.has(t,n)}))(jn);class Qn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Yn="@firebase/app",Xn="0.11.2",Jn=new Nn("@firebase/app"),Zn="@firebase/app-compat",er="@firebase/analytics-compat",tr="@firebase/analytics",nr="@firebase/app-check-compat",rr="@firebase/app-check",ir="@firebase/auth",or="@firebase/auth-compat",ar="@firebase/database",sr="@firebase/data-connect",lr="@firebase/database-compat",cr="@firebase/functions",ur="@firebase/functions-compat",dr="@firebase/installations",hr="@firebase/installations-compat",fr="@firebase/messaging",pr="@firebase/messaging-compat",gr="@firebase/performance",mr="@firebase/performance-compat",vr="@firebase/remote-config",yr="@firebase/remote-config-compat",br="@firebase/storage",wr="@firebase/storage-compat",Sr="@firebase/firestore",Er="@firebase/vertexai",kr="@firebase/firestore-compat",_r="firebase",Ir="[DEFAULT]",Tr={[Yn]:"fire-core",[Zn]:"fire-core-compat",[tr]:"fire-analytics",[er]:"fire-analytics-compat",[rr]:"fire-app-check",[nr]:"fire-app-check-compat",[ir]:"fire-auth",[or]:"fire-auth-compat",[ar]:"fire-rtdb",[sr]:"fire-data-connect",[lr]:"fire-rtdb-compat",[cr]:"fire-fn",[ur]:"fire-fn-compat",[dr]:"fire-iid",[hr]:"fire-iid-compat",[fr]:"fire-fcm",[pr]:"fire-fcm-compat",[gr]:"fire-perf",[mr]:"fire-perf-compat",[vr]:"fire-rc",[yr]:"fire-rc-compat",[br]:"fire-gcs",[wr]:"fire-gcs-compat",[Sr]:"fire-fst",[kr]:"fire-fst-compat",[Er]:"fire-vertex","fire-js":"fire-js",[_r]:"fire-js-all"},Cr=new Map,xr=new Map,Dr=new Map;function Nr(e,t){try{e.container.addComponent(t)}catch(n){Jn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ar(e){const t=e.name;if(Dr.has(t))return Jn.debug(`There were multiple attempts to register component ${t}.`),!1;Dr.set(t,e);for(const n of Cr.values())Nr(n,e);for(const n of xr.values())Nr(n,e);return!0}function Or(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Pr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Rr=new un("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Lr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new wn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const Mr="11.4.0";function Fr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ir,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Rr.create("bad-app-name",{appName:String(i)});if(n||(n=tn()),!n)throw Rr.create("no-options");const o=Cr.get(i);if(o){if(hn(n,o.options)&&hn(r,o.config))return o;throw Rr.create("duplicate-app",{appName:i})}const a=new kn(i);for(const l of Dr.values())a.addComponent(l);const s=new Lr(n,r,a);return Cr.set(i,s),s}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir;const t=Cr.get(e);if(!t&&e===Ir&&tn())return Fr();if(!t)throw Rr.create("no-app",{appName:e});return t}function Ur(e,t,n){var r;let i=null!==(r=Tr[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Jn.warn(e.join(" "))}Ar(new wn(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Vr="firebase-heartbeat-store";let Br=null;function zr(){return Br||(Br=$n("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Vr)}catch(n){console.warn(n)}}}).catch((e=>{throw Rr.create("idb-open",{originalErrorMessage:e.message})}))),Br}async function $r(e,t){try{const n=(await zr()).transaction(Vr,"readwrite"),r=n.objectStore(Vr);await r.put(t,Hr(e)),await n.done}catch(n){if(n instanceof cn)Jn.warn(n.message);else{const e=Rr.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Jn.warn(e.message)}}}function Hr(e){return`${e.name}!${e.options.appId}`}class Wr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Gr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Jn.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=qr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Kr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Kr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Yt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Jn.warn(t),""}}}function qr(){return(new Date).toISOString().substring(0,10)}class Gr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!sn()&&ln().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await zr()).transaction(Vr),n=await t.objectStore(Vr).get(Hr(e));return await t.done,n}catch(t){if(t instanceof cn)Jn.warn(t.message);else{const e=Rr.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Jn.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return $r(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return $r(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Kr(e){return Yt(JSON.stringify({version:2,heartbeats:e})).length}var Qr;Qr="",Ar(new wn("platform-logger",(e=>new Qn(e)),"PRIVATE")),Ar(new wn("heartbeat",(e=>new Wr(e)),"PRIVATE")),Ur(Yn,Xn,Qr),Ur(Yn,Xn,"esm2017"),Ur("fire-js","");Ur("firebase","11.4.0","app");var Yr,Xr,Jr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Zr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(s,s);if(d(e))return t=m(h(e),t),new g(h(t.g),h(t.h));if(d(t))return t=m(e,h(t)),new g(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new g(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(o)>>>16,m=65535&e.i(o);n[2*i+2*o]+=f*m,p(n,2*i+2*o),n[2*i+2*o+1]+=l*m,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*g,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*g,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Xr=Zr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Yr=Zr.Integer=r}).apply("undefined"!==typeof Jr?Jr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ei,ti,ni,ri,ii,oi,ai,si,li="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ci={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof li&&li];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function _(){var e=D;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var I=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,x=!1,D=new class{constructor(){this.h=this.g=null}add(e,t){const n=I.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=_();){try{e.h.call(e.g)}catch(n){k(n)}var t=I;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}x=!1};function O(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,P);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function q(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new B(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(o=e.g[t],n,r,i))&&(V(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;S(t=new P(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,O),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}d(le,O);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){P.call(this,"d")}function be(){P.call(this,"c")}d(ye,P),d(be,P);var we={},Se=null;function Ee(){return Se=Se||new ne}function ke(e){P.call(this,we.La,e)}function _e(e){const t=Ee();re(t,new ke(t))}function Ie(e,t){P.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=Ee();re(t,new Ie(t,e))}function Ce(e,t){P.call(this,we.Ma,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function De(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(ke,P),we.STAT_EVENT="statevent",d(Ie,P),we.Ma="timingevent",d(Ce,P),De.prototype.xa=function(){this.g=!1},De.prototype.info=function(){};var Ae,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Ae=new Re;var Fe={},je={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),It(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=q(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_e(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=xe(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Yt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=xe(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&sn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(We(s),$e(s)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}_e()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||_e(),We(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=qt(this.g);e="";var o=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),qe(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ge(this),qe(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=ze(this,s),e==je){4==h&&(this.s=4,Te(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Te(15),Ne(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Ke(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),on(d),d.M=!0,Te(11))}}else Ne(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),qe(this)}else Ne(this.i,this.l,s,null),Ke(this,s);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),qe(this)}}}catch(h){}},Le.prototype.cancel=function(){this.J=!0,Ge(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(_e(),Te(17)),Ge(this),this.s=2,qe(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new St;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new St(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof St?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),It(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new St(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var gt,mt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function St(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){Et(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return Et(e),t=Tt(e,t),e.g.has(t)}function It(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function xt(){this.g=new fe}function Dt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=St.prototype).add=function(e,t){Et(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,_t(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Nt,pe),Nt.prototype.g=function(){return new At(this.l,this.j)},Nt.prototype.i=(gt={},function(){return gt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Rt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ft,ne);var jt=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),$t(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!jt.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Wt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Bt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){Ht(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ui){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new De,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new xt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Yt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||N(),x||(C(),x=!0),D.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Dt(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||N(),x||(C(),x=!0),D.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=xe(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){sn(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new Ce(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=xe(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new De;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new De;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&lt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Nt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function gn(){}function mn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?ge(this.o):ge(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),S(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Lt(o)))+"&"+t:this.m&&Mt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=xe(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,mn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,si=ci.createWebChannelTransport=function(){return new gn},ai=ci.getStatEventTarget=function(){return Ee()},oi=ci.Event=we,ii=ci.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,ri=ci.ErrorCode=Oe,Pe.COMPLETE="complete",ni=ci.EventType=Pe,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,ti=ci.WebChannel=me,ci.FetchXmlHttpFactory=Nt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,ei=ci.XhrIo=Ft}).apply("undefined"!==typeof li?li:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ui="@firebase/firestore",di="4.7.9";class hi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");let fi="11.4.0";const pi=new Nn("@firebase/firestore");function gi(){return pi.logLevel}function mi(e){if(pi.logLevel<=In.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bi);pi.debug(`Firestore (${fi}): ${e}`,...i)}}function vi(e){if(pi.logLevel<=In.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bi);pi.error(`Firestore (${fi}): ${e}`,...i)}}function yi(e){if(pi.logLevel<=In.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bi);pi.warn(`Firestore (${fi}): ${e}`,...i)}}function bi(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function wi(){const e=`FIRESTORE (${fi}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw vi(e),new Error(e)}function Si(e,t){e||wi()}function Ei(e,t){return e}const ki={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _i extends cn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ti{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ci{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hi.UNAUTHENTICATED)))}shutdown(){}}class xi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Di{constructor(e){this.t=e,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Si(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ii,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{mi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(mi("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ii)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(mi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Si("string"==typeof t.accessToken),new Ti(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Si(null===e||"string"==typeof e),new hi(e)}}class Ni{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ai{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Ni(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(hi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Oi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pi{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Si(void 0===this.o);const n=e=>{null!=e.error&&mi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,mi("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{mi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):mi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Oi(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Si("string"==typeof e.token),this.R=e.token,new Oi(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ri(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Li{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ri(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Mi(e,t){return e<t?-1:e>t?1:0}function Fi(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const ji=-62135596800,Ui=1e6;class Vi{static now(){return Vi.fromMillis(Date.now())}static fromDate(e){return Vi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ui);return new Vi(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _i(ki.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _i(ki.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ji)throw new _i(ki.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _i(ki.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ui}_compareTo(e){return this.seconds===e.seconds?Mi(this.nanoseconds,e.nanoseconds):Mi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ji;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bi{static fromTimestamp(e){return new Bi(e)}static min(){return new Bi(new Vi(0,0))}static max(){return new Bi(new Vi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zi="__name__";class $i{constructor(e,t,n){void 0===t?t=0:t>e.length&&wi(),void 0===n?n=e.length-t:n>e.length-t&&wi(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===$i.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $i?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=$i.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=$i.isNumericId(e),r=$i.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?$i.extractNumericId(e).compare($i.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yr.fromString(e.substring(4,e.length-2))}}class Hi extends $i{construct(e,t,n){return new Hi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new _i(ki.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Hi(e)}static emptyPath(){return new Hi([])}}const Wi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qi extends $i{construct(e,t,n){return new qi(e,t,n)}static isValidIdentifier(e){return Wi.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===zi}static keyField(){return new qi([zi])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new _i(ki.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new _i(ki.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new _i(ki.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new _i(ki.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qi(t)}static emptyPath(){return new qi([])}}class Gi{constructor(e){this.path=e}static fromPath(e){return new Gi(Hi.fromString(e))}static fromName(e){return new Gi(Hi.fromString(e).popFirst(5))}static empty(){return new Gi(Hi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Hi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Hi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gi(new Hi(e.slice()))}}const Ki=-1;class Qi{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Qi.UNKNOWN_ID=-1;function Yi(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Bi.fromTimestamp(1e9===r?new Vi(n+1,0):new Vi(n,r));return new Ji(i,Gi.empty(),t)}function Xi(e){return new Ji(e.readTime,e.key,Ki)}class Ji{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ji(Bi.min(),Gi.empty(),Ki)}static max(){return new Ji(Bi.max(),Gi.empty(),Ki)}}function Zi(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Gi.comparator(e.documentKey,t.documentKey),0!==n?n:Mi(e.largestBatchId,t.largestBatchId))}const eo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class to{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function no(e){if(e.code!==ki.FAILED_PRECONDITION||e.message!==eo)throw e;mi("LocalStore","Unexpectedly lost primary lease")}class ro{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ro(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ro?t:ro.resolve(t)}catch(e){return ro.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ro.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ro.reject(t)}static resolve(e){return new ro(((t,n)=>{t(e)}))}static reject(e){return new ro(((t,n)=>{n(e)}))}static waitFor(e){return new ro(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=ro.resolve(!1);for(const n of e)t=t.next((e=>e?ro.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ro(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new ro(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function io(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oo(e){return"IndexedDbTransactionError"===e.name}class ao{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ao.ae=-1;const so=-1;function lo(e){return null==e}function co(e){return 0===e&&1/e==-1/0}function uo(e){return"number"==typeof e&&Number.isInteger(e)&&!co(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ho="\x01";function fo(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=go(t)),t=po(e.get(n),t);return go(t)}function po(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case ho:n+="\x01\x11";break;default:n+=t}}return n}function go(e){return e+ho+"\x01"}const mo="remoteDocuments",vo="owner",yo="mutationQueues",bo="mutations";const wo="documentMutations",So="remoteDocumentsV14",Eo="remoteDocumentGlobal",ko="targets",_o="targetDocuments",Io="targetGlobal",To="collectionParents",Co="clientMetadata",xo="bundles",Do="namedQueries",No="indexConfiguration",Ao="indexState",Oo="indexEntries",Po="documentOverlays",Ro="globals",Lo=[yo,bo,wo,mo,ko,vo,Io,_o,Co,Eo,To,xo,Do],Mo=[yo,bo,wo,So,ko,vo,Io,_o,Co,Eo,To,xo,Do,Po],Fo=Mo,jo=[...Fo,No,Ao,Oo];function Uo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class zo{constructor(e,t){this.comparator=e,this.root=t||Ho.EMPTY}insert(e,t){return new zo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ho.BLACK,null,null))}remove(e){return new zo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ho.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $o(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $o(this.root,e,this.comparator,!1)}getReverseIterator(){return new $o(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $o(this.root,e,this.comparator,!0)}}class $o{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ho{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ho.RED,this.left=null!=r?r:Ho.EMPTY,this.right=null!=i?i:Ho.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ho(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ho.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ho.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ho.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ho.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wi();if(this.right.isRed())throw wi();const e=this.left.check();if(e!==this.right.check())throw wi();return e+(this.isRed()?0:1)}}Ho.EMPTY=null,Ho.RED=!0,Ho.BLACK=!1,Ho.EMPTY=new class{constructor(){this.size=0}get key(){throw wi()}get value(){throw wi()}get color(){throw wi()}get left(){throw wi()}get right(){throw wi()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ho(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wo{constructor(e){this.comparator=e,this.data=new zo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qo(this.data.getIterator())}getIteratorFrom(e){return new qo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Wo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Wo(this.comparator);return t.data=e,t}}class qo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Go{constructor(e){this.fields=e,e.sort(qi.comparator)}static empty(){return new Go([])}unionWith(e){let t=new Wo(qi.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Go(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fi(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ko extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ko("Invalid base64 string: "+e):e}}(e);return new Qo(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Qo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qo.EMPTY_BYTE_STRING=new Qo("");const Yo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(e){if(Si(!!e),"string"==typeof e){let t=0;const n=Yo.exec(e);if(Si(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Jo(e.seconds),nanos:Jo(e.nanos)}}function Jo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zo(e){return"string"==typeof e?Qo.fromBase64String(e):Qo.fromUint8Array(e)}const ea="server_timestamp",ta="__type__",na="__previous_value__",ra="__local_write_time__";function ia(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ta])||void 0===n?void 0:n.stringValue)===ea}function oa(e){const t=e.mapValue.fields[na];return ia(t)?oa(t):t}function aa(e){const t=Xo(e.mapValue.fields[ra].timestampValue);return new Vi(t.seconds,t.nanos)}class sa{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}const la="(default)";class ca{constructor(e,t){this.projectId=e,this.database=t||la}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database===la}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}const ua="__type__",da="__max__",ha={mapValue:{fields:{__type__:{stringValue:da}}}},fa="__vector__",pa="value";function ga(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ia(e)?4:Aa(e)?9007199254740991:Da(e)?10:11:wi()}function ma(e,t){if(e===t)return!0;const n=ga(e);if(n!==ga(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return aa(e).isEqual(aa(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Xo(e.timestampValue),r=Xo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zo(e.bytesValue).isEqual(Zo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Jo(e.geoPointValue.latitude)===Jo(t.geoPointValue.latitude)&&Jo(e.geoPointValue.longitude)===Jo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Jo(e.integerValue)===Jo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Jo(e.doubleValue),r=Jo(t.doubleValue);return n===r?co(n)===co(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fi(e.arrayValue.values||[],t.arrayValue.values||[],ma);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Uo(n)!==Uo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ma(n[i],r[i])))return!1;return!0}(e,t);default:return wi()}}function va(e,t){return void 0!==(e.values||[]).find((e=>ma(e,t)))}function ya(e,t){if(e===t)return 0;const n=ga(e),r=ga(t);if(n!==r)return Mi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Jo(e.integerValue||e.doubleValue),r=Jo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ba(e.timestampValue,t.timestampValue);case 4:return ba(aa(e),aa(t));case 5:return Mi(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Zo(e),r=Zo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Mi(n[i],r[i]);if(0!==e)return e}return Mi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Mi(Jo(e.latitude),Jo(t.latitude));return 0!==n?n:Mi(Jo(e.longitude),Jo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return wa(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a[pa])||void 0===n?void 0:n.arrayValue,c=null===(r=s[pa])||void 0===r?void 0:r.arrayValue,u=Mi((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:wa(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ha.mapValue&&t===ha.mapValue)return 0;if(e===ha.mapValue)return 1;if(t===ha.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Mi(r[a],o[a]);if(0!==e)return e;const t=ya(n[r[a]],i[o[a]]);if(0!==t)return t}return Mi(r.length,o.length)}(e.mapValue,t.mapValue);default:throw wi()}}function ba(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mi(e,t);const n=Xo(e),r=Xo(t),i=Mi(n.seconds,r.seconds);return 0!==i?i:Mi(n.nanos,r.nanos)}function wa(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ya(n[i],r[i]);if(e)return e}return Mi(n.length,r.length)}function Sa(e){return Ea(e)}function Ea(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Xo(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Zo(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Gi.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ea(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ea(e.fields[i])}`;return n+"}"}(e.mapValue):wi()}function ka(e){switch(ga(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oa(e);return t?16+ka(t):16;case 5:return 2*e.stringValue.length;case 6:return Zo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+ka(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Vo(e.fields,((e,n)=>{t+=e.length+ka(n)})),t}(e.mapValue);default:throw wi()}}function _a(e){return!!e&&"integerValue"in e}function Ia(e){return!!e&&"arrayValue"in e}function Ta(e){return!!e&&"nullValue"in e}function Ca(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xa(e){return!!e&&"mapValue"in e}function Da(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ua])||void 0===n?void 0:n.stringValue)===fa}function Na(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Vo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Na(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Na(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Aa(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===da}class Oa{constructor(e){this.value=e}static empty(){return new Oa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!xa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Na(t)}setAll(e){let t=qi.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Na(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());xa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];xa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Vo(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Oa(Na(this.value))}}function Pa(e){const t=[];return Vo(e.fields,((e,n)=>{const r=new qi([e]);if(xa(n)){const e=Pa(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Go(t)}class Ra{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ra(e,0,Bi.min(),Bi.min(),Bi.min(),Oa.empty(),0)}static newFoundDocument(e,t,n,r){return new Ra(e,1,t,Bi.min(),n,r,0)}static newNoDocument(e,t){return new Ra(e,2,t,Bi.min(),Bi.min(),Oa.empty(),0)}static newUnknownDocument(e,t){return new Ra(e,3,t,Bi.min(),Bi.min(),Oa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Bi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ra&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ra(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class La{constructor(e,t){this.position=e,this.inclusive=t}}function Ma(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Gi.comparator(Gi.fromName(a.referenceValue),n.key):ya(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Fa(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ma(e.position[n],t.position[n]))return!1;return!0}class ja{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ua(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Va{}class Ba extends Va{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Qa(e,t,n):"array-contains"===t?new Za(e,n):"in"===t?new es(e,n):"not-in"===t?new ts(e,n):"array-contains-any"===t?new ns(e,n):new Ba(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ya(e,n):new Xa(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ya(t,this.value)):null!==t&&ga(this.value)===ga(t)&&this.matchesComparison(ya(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class za extends Va{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new za(e,t)}matches(e){return $a(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function $a(e){return"and"===e.op}function Ha(e){return Wa(e)&&$a(e)}function Wa(e){for(const t of e.filters)if(t instanceof za)return!1;return!0}function qa(e){if(e instanceof Ba)return e.field.canonicalString()+e.op.toString()+Sa(e.value);if(Ha(e))return e.filters.map((e=>qa(e))).join(",");{const t=e.filters.map((e=>qa(e))).join(",");return`${e.op}(${t})`}}function Ga(e,t){return e instanceof Ba?function(e,t){return t instanceof Ba&&e.op===t.op&&e.field.isEqual(t.field)&&ma(e.value,t.value)}(e,t):e instanceof za?function(e,t){return t instanceof za&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ga(n,t.filters[r])),!0)}(e,t):void wi()}function Ka(e){return e instanceof Ba?function(e){return`${e.field.canonicalString()} ${e.op} ${Sa(e.value)}`}(e):e instanceof za?function(e){return e.op.toString()+" {"+e.getFilters().map(Ka).join(" ,")+"}"}(e):"Filter"}class Qa extends Ba{constructor(e,t,n){super(e,t,n),this.key=Gi.fromName(n.referenceValue)}matches(e){const t=Gi.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ya extends Ba{constructor(e,t){super(e,"in",t),this.keys=Ja("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Xa extends Ba{constructor(e,t){super(e,"not-in",t),this.keys=Ja("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ja(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Gi.fromName(e.referenceValue)))}class Za extends Ba{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ia(t)&&va(t.arrayValue,this.value)}}class es extends Ba{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&va(this.value.arrayValue,t)}}class ts extends Ba{constructor(e,t){super(e,"not-in",t)}matches(e){if(va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!va(this.value.arrayValue,t)}}class ns extends Ba{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ia(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>va(this.value.arrayValue,e)))}}class rs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function is(e){return new rs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function os(e){const t=Ei(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>qa(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),lo(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Sa(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Sa(e))).join(",")),t.le=e}return t.le}function as(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ua(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ga(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fa(e.startAt,t.startAt)&&Fa(e.endAt,t.endAt)}function ss(e){return Gi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ls{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function cs(e,t,n,r,i,o,a,s){return new ls(e,t,n,r,i,o,a,s)}function us(e){return new ls(e)}function ds(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function hs(e){return null!==e.collectionGroup}function fs(e){const t=Ei(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Wo(qi.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new ja(r,n))})),e.has(qi.keyField().canonicalString())||t.he.push(new ja(qi.keyField(),n))}return t.he}function ps(e){const t=Ei(e);return t.Pe||(t.Pe=gs(t,fs(e))),t.Pe}function gs(e,t){if("F"===e.limitType)return is(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ja(e.field,t)}));const n=e.endAt?new La(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new La(e.startAt.position,e.startAt.inclusive):null;return is(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ms(e,t,n){return new ls(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vs(e,t){return as(ps(e),ps(t))&&e.limitType===t.limitType}function ys(e){return`${os(ps(e))}|lt:${e.limitType}`}function bs(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Ka(e))).join(", ")}]`),lo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Sa(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Sa(e))).join(",")),`Target(${t})`}(ps(e))}; limitType=${e.limitType})`}function ws(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Gi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of fs(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ma(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,fs(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ma(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,fs(e),t))}(e,t)}function Ss(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Es(e){return(t,n)=>{let r=!1;for(const i of fs(e)){const e=ks(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ks(e,t,n){const r=e.field.isKeyField()?Gi.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ya(r,i):wi()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wi()}}class _s{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Bo(this.inner)}size(){return this.innerSize}}const Is=new zo(Gi.comparator);function Ts(){return Is}const Cs=new zo(Gi.comparator);function xs(){let e=Cs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ds(e){let t=Cs;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ns(){return Os()}function As(){return Os()}function Os(){return new _s((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Ps=new zo(Gi.comparator),Rs=new Wo(Gi.comparator);function Ls(){let e=Rs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ms=new Wo(Mi);function Fs(){return Ms}function js(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:co(t)?"-0":t}}function Us(e){return{integerValue:""+e}}function Vs(e,t){return uo(t)?Us(t):js(e,t)}class Bs{constructor(){this._=void 0}}function zs(e,t,n){return e instanceof Ws?function(e,t){const n={fields:{[ta]:{stringValue:ea},[ra]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ia(t)&&(t=oa(t)),t&&(n.fields[na]=t),{mapValue:n}}(n,t):e instanceof qs?Gs(e,t):e instanceof Ks?Qs(e,t):function(e,t){const n=Hs(e,t),r=Xs(n)+Xs(e.Ie);return _a(n)&&_a(e.Ie)?Us(r):js(e.serializer,r)}(e,t)}function $s(e,t,n){return e instanceof qs?Gs(e,t):e instanceof Ks?Qs(e,t):n}function Hs(e,t){return e instanceof Ys?function(e){return _a(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ws extends Bs{}class qs extends Bs{constructor(e){super(),this.elements=e}}function Gs(e,t){const n=Js(t);for(const r of e.elements)n.some((e=>ma(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ks extends Bs{constructor(e){super(),this.elements=e}}function Qs(e,t){let n=Js(t);for(const r of e.elements)n=n.filter((e=>!ma(e,r)));return{arrayValue:{values:n}}}class Ys extends Bs{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Xs(e){return Jo(e.integerValue||e.doubleValue)}function Js(e){return Ia(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Zs{constructor(e,t){this.version=e,this.transformResults=t}}class el{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new el}static exists(e){return new el(void 0,e)}static updateTime(e){return new el(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class nl{}function rl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new fl(e.key,el.none()):new ll(e.key,e.data,el.none());{const n=e.data,r=Oa.empty();let i=new Wo(qi.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new cl(e.key,r,new Go(i.toArray()),el.none())}}function il(e,t,n){e instanceof ll?function(e,t,n){const r=e.value.clone(),i=dl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof cl?function(e,t,n){if(!tl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=dl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ul(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ol(e,t,n,r){return e instanceof ll?function(e,t,n,r){if(!tl(e.precondition,t))return n;const i=e.value.clone(),o=hl(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof cl?function(e,t,n,r){if(!tl(e.precondition,t))return n;const i=hl(e.fieldTransforms,r,t),o=t.data;return o.setAll(ul(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return tl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function al(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Hs(r.transform,e||null);null!=i&&(null===n&&(n=Oa.empty()),n.set(r.field,i))}return n||null}function sl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fi(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qs&&t instanceof qs||e instanceof Ks&&t instanceof Ks?Fi(e.elements,t.elements,ma):e instanceof Ys&&t instanceof Ys?ma(e.Ie,t.Ie):e instanceof Ws&&t instanceof Ws}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ll extends nl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class cl extends nl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ul(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function dl(e,t,n){const r=new Map;Si(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,$s(a,s,n[i]))}return r}function hl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,zs(e,o,t))}return r}class fl extends nl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pl extends nl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&il(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ol(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ol(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=As();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=rl(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Bi.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ls())}isEqual(e){return this.batchId===e.batchId&&Fi(this.mutations,e.mutations,((e,t)=>sl(e,t)))&&Fi(this.baseMutations,e.baseMutations,((e,t)=>sl(e,t)))}}class ml{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Si(e.mutations.length===n.length);let r=Ps;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ml(e,t,n,r)}}class vl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yl{constructor(e,t){this.count=e,this.unchangedNames=t}}var bl,wl;function Sl(e){switch(e){case ki.OK:return wi();case ki.CANCELLED:case ki.UNKNOWN:case ki.DEADLINE_EXCEEDED:case ki.RESOURCE_EXHAUSTED:case ki.INTERNAL:case ki.UNAVAILABLE:case ki.UNAUTHENTICATED:return!1;case ki.INVALID_ARGUMENT:case ki.NOT_FOUND:case ki.ALREADY_EXISTS:case ki.PERMISSION_DENIED:case ki.FAILED_PRECONDITION:case ki.ABORTED:case ki.OUT_OF_RANGE:case ki.UNIMPLEMENTED:case ki.DATA_LOSS:return!0;default:return wi()}}function El(e){if(void 0===e)return vi("GRPC error has no .code"),ki.UNKNOWN;switch(e){case bl.OK:return ki.OK;case bl.CANCELLED:return ki.CANCELLED;case bl.UNKNOWN:return ki.UNKNOWN;case bl.DEADLINE_EXCEEDED:return ki.DEADLINE_EXCEEDED;case bl.RESOURCE_EXHAUSTED:return ki.RESOURCE_EXHAUSTED;case bl.INTERNAL:return ki.INTERNAL;case bl.UNAVAILABLE:return ki.UNAVAILABLE;case bl.UNAUTHENTICATED:return ki.UNAUTHENTICATED;case bl.INVALID_ARGUMENT:return ki.INVALID_ARGUMENT;case bl.NOT_FOUND:return ki.NOT_FOUND;case bl.ALREADY_EXISTS:return ki.ALREADY_EXISTS;case bl.PERMISSION_DENIED:return ki.PERMISSION_DENIED;case bl.FAILED_PRECONDITION:return ki.FAILED_PRECONDITION;case bl.ABORTED:return ki.ABORTED;case bl.OUT_OF_RANGE:return ki.OUT_OF_RANGE;case bl.UNIMPLEMENTED:return ki.UNIMPLEMENTED;case bl.DATA_LOSS:return ki.DATA_LOSS;default:return wi()}}(wl=bl||(bl={}))[wl.OK=0]="OK",wl[wl.CANCELLED=1]="CANCELLED",wl[wl.UNKNOWN=2]="UNKNOWN",wl[wl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wl[wl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wl[wl.NOT_FOUND=5]="NOT_FOUND",wl[wl.ALREADY_EXISTS=6]="ALREADY_EXISTS",wl[wl.PERMISSION_DENIED=7]="PERMISSION_DENIED",wl[wl.UNAUTHENTICATED=16]="UNAUTHENTICATED",wl[wl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wl[wl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wl[wl.ABORTED=10]="ABORTED",wl[wl.OUT_OF_RANGE=11]="OUT_OF_RANGE",wl[wl.UNIMPLEMENTED=12]="UNIMPLEMENTED",wl[wl.INTERNAL=13]="INTERNAL",wl[wl.UNAVAILABLE=14]="UNAVAILABLE",wl[wl.DATA_LOSS=15]="DATA_LOSS";let kl=null;function _l(){return new TextEncoder}const Il=new Yr([4294967295,4294967295],0);function Tl(e){const t=_l().encode(e),n=new Xr;return n.update(t),new Uint8Array(n.digest())}function Cl(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Yr([n,r],0),new Yr([i,o],0)]}class xl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Dl(`Invalid padding: ${t}`);if(n<0)throw new Dl(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Dl(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Dl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Yr.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(Yr.fromNumber(n)));return 1===r.compare(Il)&&(r=new Yr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=Tl(e),[n,r]=Cl(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new xl(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ee)return;const t=Tl(e),[n,r]=Cl(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nl{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Nl(Bi.min(),r,new zo(Mi),Ts(),Ls())}}class Al{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Al(n,t,Ls(),Ls(),Ls())}}class Ol{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class Pl{constructor(e,t){this.targetId=e,this.ge=t}}class Rl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qo.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ll{constructor(){this.pe=0,this.ye=jl(),this.we=Qo.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ls(),t=Ls(),n=Ls();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wi()}})),new Al(this.we,this.be,e,t,n)}Me(){this.Se=!1,this.ye=jl()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Si(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Ml{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ts(),this.$e=Fl(),this.Ke=Fl(),this.Ue=new zo(Mi)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:wi()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(ss(i))if(0===n){const e=new Gi(i.path);this.ze(t,e,Ra.newNoDocument(e,Bi.min()))}else Si(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,e)}null==kl||kl.rt(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Zo(n).toUint8Array()}catch(e){if(e instanceof Ko)return yi("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new xl(o,r,i)}catch(e){return yi(e instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ee?null:a}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&ss(i.target)){const t=new Gi(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Ra.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Ls();this.Ke.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Nl(e,t,this.Ue,this.Qe,n);return this.Qe=Ts(),this.$e=Fl(),this.Ke=Fl(),this.Ue=new zo(Mi),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Ll,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Wo(Mi),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Wo(Mi),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||mi("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ll),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Fl(){return new zo(Gi.comparator)}function jl(){return new zo(Gi.comparator)}const Ul={asc:"ASCENDING",desc:"DESCENDING"},Vl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bl={and:"AND",or:"OR"};class zl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $l(e,t){return e.useProto3Json||lo(t)?t:{value:t}}function Hl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Wl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ql(e,t){return Hl(e,t.toTimestamp())}function Gl(e){return Si(!!e),Bi.fromTimestamp(function(e){const t=Xo(e);return new Vi(t.seconds,t.nanos)}(e))}function Kl(e,t){return Ql(e,t).canonicalString()}function Ql(e,t){const n=function(e){return new Hi(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Yl(e){const t=Hi.fromString(e);return Si(mc(t)),t}function Xl(e,t){return Kl(e.databaseId,t.path)}function Jl(e,t){const n=Yl(t);if(n.get(1)!==e.databaseId.projectId)throw new _i(ki.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _i(ki.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Gi(nc(n))}function Zl(e,t){return Kl(e.databaseId,t)}function ec(e){const t=Yl(e);return 4===t.length?Hi.emptyPath():nc(t)}function tc(e){return new Hi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function nc(e){return Si(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function rc(e,t,n){return{name:Xl(e,t),fields:n.value.mapValue.fields}}function ic(e,t){let n;if(t instanceof ll)n={update:rc(e,t.key,t.value)};else if(t instanceof fl)n={delete:Xl(e,t.key)};else if(t instanceof cl)n={update:rc(e,t.key,t.data),updateMask:gc(t.fieldMask)};else{if(!(t instanceof pl))return wi();n={verify:Xl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ws)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ks)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ys)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw wi()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ql(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wi()}(e,t.precondition)),n}function oc(e,t){return{documents:[Zl(e,t.path)]}}function ac(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zl(e,i);const o=function(e){if(0!==e.length)return pc(za.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:hc(e.field),direction:cc(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=$l(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function sc(e){let t=ec(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Si(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=lc(e);return t instanceof za&&Ha(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new ja(fc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,lo(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new La(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new La(n,t)}(n.endAt)),cs(t,i,a,o,s,"F",l,c)}function lc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fc(e.unaryFilter.field);return Ba.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=fc(e.unaryFilter.field);return Ba.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fc(e.unaryFilter.field);return Ba.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=fc(e.unaryFilter.field);return Ba.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wi()}}(e):void 0!==e.fieldFilter?function(e){return Ba.create(fc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wi()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return za.create(e.compositeFilter.filters.map((e=>lc(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return wi()}}(e.compositeFilter.op))}(e):wi()}function cc(e){return Ul[e]}function uc(e){return Vl[e]}function dc(e){return Bl[e]}function hc(e){return{fieldPath:e.canonicalString()}}function fc(e){return qi.fromServerFormat(e.fieldPath)}function pc(e){return e instanceof Ba?function(e){if("=="===e.op){if(Ca(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NAN"}};if(Ta(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ca(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NOT_NAN"}};if(Ta(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(e.field),op:uc(e.op),value:e.value}}}(e):e instanceof za?function(e){const t=e.getFilters().map((e=>pc(e)));return 1===t.length?t[0]:{compositeFilter:{op:dc(e.op),filters:t}}}(e):wi()}function gc(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function mc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class vc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bi.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Bi.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Qo.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new vc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yc{constructor(e){this.Tt=e}}function bc(e){const t=sc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ms(t,t.limit,"L"):t}class wc{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Jo(e.integerValue));else if("doubleValue"in e){const n=Jo(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),co(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Xo(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Zo(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?Aa(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Da(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):wi()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const o=pa,a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(Jo(a)),this.wt(o,t),this.Rt(i[o],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),Gi.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}wc.xt=new wc;class Sc{constructor(){this.Tn=new Ec}addToCollectionParentIndex(e,t){return this.Tn.add(t),ro.resolve()}getCollectionParents(e,t){return ro.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ro.resolve()}deleteFieldIndex(e,t){return ro.resolve()}deleteAllFieldIndexes(e){return ro.resolve()}createTargetIndexes(e,t){return ro.resolve()}getDocumentsMatchingTarget(e,t){return ro.resolve(null)}getIndexType(e,t){return ro.resolve(0)}getFieldIndexes(e,t){return ro.resolve([])}getNextCollectionGroupToUpdate(e){return ro.resolve(null)}getMinOffset(e,t){return ro.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return ro.resolve(Ji.min())}updateCollectionGroup(e,t,n){return ro.resolve()}updateIndexEntries(e,t){return ro.resolve()}}class Ec{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wo(Hi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Wo(Hi.comparator)).toArray()}}new Uint8Array(0);const kc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_c=41943040;class Ic{static withCacheSize(e){return new Ic(e,Ic.DEFAULT_COLLECTION_PERCENTILE,Ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ic.DEFAULT_COLLECTION_PERCENTILE=10,Ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ic.DEFAULT=new Ic(_c,Ic.DEFAULT_COLLECTION_PERCENTILE,Ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ic.DISABLED=new Ic(-1,0,0);class Tc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Tc(0)}static Un(){return new Tc(-1)}}const Cc="LruGarbageCollector",xc=1048576;function Dc(e,t){let[n,r]=e,[i,o]=t;const a=Mi(n,i);return 0===a?Mi(r,o):a}class Nc{constructor(e){this.Hn=e,this.buffer=new Wo(Dc),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Dc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ac{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){mi(Cc,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){oo(e)?mi(Cc,"Ignoring IndexedDB error during garbage collection: ",e):await no(e)}await this.er(3e5)}))}}class Oc{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ro.resolve(ao.ae);const n=new Nc(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(mi("LruGarbageCollector","Garbage collection skipped; disabled"),ro.resolve(kc)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(mi("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kc):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(mi("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),gi()<=In.DEBUG&&mi("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(s-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),ro.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Pc(e,t){return new Oc(e,t)}class Rc{constructor(){this.changes=new _s((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ra.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ro.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Mc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ol(n.mutation,e,Go.empty(),Vi.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ls()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ls();const r=Ns();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=xs();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ns();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ls())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ts();const o=Os(),a=Os();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof cl)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),ol(a.mutation,t,a.mutation.getFieldMask(),Vi.now())):o.set(t.key,Go.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Lc(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Os();let r=new zo(((e,t)=>e-t)),i=Ls();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Go.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||Ls()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=As();l.forEach((e=>{if(!i.has(e)){const r=rl(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return ro.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Gi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ro.resolve(Ns());let a=Ki,s=i;return o.next((t=>ro.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?ro.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Ls()))).next((e=>({batchId:a,changes:Ds(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Gi(t)).next((e=>{let t=xs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=xs();return this.indexManager.getCollectionParents(e,i).next((a=>ro.forEach(a,(a=>{const s=function(e,t){return new ls(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ra.newInvalidDocument(r)))}));let n=xs();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&ol(o.mutation,r,Go.empty(),Vi.now()),ws(t,r)&&(n=n.insert(e,r))})),n}))}}class Fc{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ro.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Gl(e.createTime)}}(t)),ro.resolve()}getNamedQuery(e,t){return ro.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:bc(e.bundledQuery),readTime:Gl(e.readTime)}}(t)),ro.resolve()}}class jc{constructor(){this.overlays=new zo(Gi.comparator),this.Rr=new Map}getOverlay(e,t){return ro.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ns();return ro.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),ro.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),ro.resolve()}getOverlaysForCollection(e,t,n){const r=Ns(),i=t.length+1,o=new Gi(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ro.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new zo(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ns(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ns(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return ro.resolve(a)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new vl(t,n));let i=this.Rr.get(t);void 0===i&&(i=Ls(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class Uc{constructor(){this.sessionToken=Qo.EMPTY_BYTE_STRING}getSessionToken(e){return ro.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ro.resolve()}}class Vc{constructor(){this.Vr=new Wo(Bc.mr),this.gr=new Wo(Bc.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Bc(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Bc(e,t))}br(e,t){e.forEach((e=>this.removeReference(e,t)))}Sr(e){const t=new Gi(new Hi([])),n=new Bc(t,e),r=new Bc(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Gi(new Hi([])),n=new Bc(t,e),r=new Bc(t,e+1);let i=Ls();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Bc(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Bc{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Gi.comparator(e.key,t.key)||Mi(e.Cr,t.Cr)}static pr(e,t){return Mi(e.Cr,t.Cr)||Gi.comparator(e.key,t.key)}}class zc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Wo(Bc.mr)}checkEmpty(e){return ro.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gl(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Mr=this.Mr.add(new Bc(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ro.resolve(o)}lookupMutationBatch(e,t){return ro.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return ro.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ro.resolve(0===this.mutationQueue.length?so:this.Fr-1)}getAllMutationBatches(e){return ro.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Bc(t,0),r=new Bc(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),ro.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Wo(Mi);return t.forEach((e=>{const t=new Bc(e,0),r=new Bc(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),ro.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Gi.isDocumentKey(i)||(i=i.child(""));const o=new Bc(new Gi(i),0);let a=new Wo(Mi);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Cr)),!0)}),o),ro.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Si(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return ro.forEach(t.mutations,(r=>{const i=new Bc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Bc(t,0),r=this.Mr.firstAfterOrEqual(n);return ro.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ro.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $c{constructor(e){this.kr=e,this.docs=new zo(Gi.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ro.resolve(n?n.document.mutableCopy():Ra.newInvalidDocument(t))}getEntries(e,t){let n=Ts();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ra.newInvalidDocument(e))})),ro.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ts();const o=t.path,a=new Gi(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Zi(Xi(a),n)<=0||(r.has(a.key)||ws(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return ro.resolve(i)}getAllFromCollectionGroup(e,t,n,r){wi()}qr(e,t){return ro.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Hc(this)}getSize(e){return ro.resolve(this.size)}}class Hc extends Rc{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),ro.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Wc{constructor(e){this.persistence=e,this.Qr=new _s((e=>os(e)),as),this.lastRemoteSnapshotVersion=Bi.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Vc,this.targetCount=0,this.Ur=Tc.Kn()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),ro.resolve()}getLastRemoteSnapshotVersion(e){return ro.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ro.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ro.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),ro.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Tc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ro.resolve()}updateTargetData(e,t){return this.zn(t),ro.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ro.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),ro.waitFor(i).next((()=>r))}getTargetCount(e){return ro.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return ro.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),ro.resolve()}removeMatchingKeys(e,t,n){this.Kr.br(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ro.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ro.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return ro.resolve(n)}containsKey(e,t){return ro.resolve(this.Kr.containsKey(t))}}class qc{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ao(0),this.zr=!1,this.zr=!0,this.jr=new Uc,this.referenceDelegate=e(this),this.Hr=new Wc(this),this.indexManager=new Sc,this.remoteDocumentCache=function(e){return new $c(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new yc(t),this.Yr=new Fc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new zc(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){mi("MemoryPersistence","Starting transaction:",e);const r=new Gc(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return ro.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class Gc extends to{constructor(e){super(),this.currentSequenceNumber=e}}class Kc{constructor(e){this.persistence=e,this.ti=new Vc,this.ni=null}static ri(e){return new Kc(e)}get ii(){if(this.ni)return this.ni;throw wi()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),ro.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),ro.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ro.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ro.forEach(this.ii,(n=>{const r=Gi.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,Bi.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return ro.or([()=>ro.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Qc{constructor(e,t){this.persistence=e,this.oi=new _s((e=>fo(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Pc(this,t)}static ri(e,t){return new Qc(e,t)}Zr(){}Xr(e){return ro.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return ro.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?ro.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Bi.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ro.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),ro.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),ro.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ro.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ka(e.data.value)),t}ar(e,t,n){return ro.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return ro.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Ls(),r=Ls();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Yc(e,t.fromCache,n,r)}}class Xc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Jc{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=an()?8:io(on())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Xc;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(gi()<=In.DEBUG&&mi("QueryEngine","SDK will not create cache indexes for query:",bs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ro.resolve()):(gi()<=In.DEBUG&&mi("QueryEngine","Query:",bs(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(gi()<=In.DEBUG&&mi("QueryEngine","The SDK decides to create cache indexes for query:",bs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ps(t))):ro.resolve())}rs(e,t){if(ds(t))return ro.resolve(null);let n=ps(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=ms(t,null,"F"),n=ps(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ls(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.cs(t,r);return this.ls(t,o,i,n.readTime)?this.rs(e,ms(t,null,"F")):this.hs(e,o,t,n)}))))})))))}ss(e,t,n,r){return ds(t)||r.isEqual(Bi.min())?ro.resolve(null):this.ns.getDocuments(e,n).next((i=>{const o=this.cs(t,i);return this.ls(t,o,n,r)?ro.resolve(null):(gi()<=In.DEBUG&&mi("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bs(t)),this.hs(e,o,t,Yi(r,Ki)).next((e=>e)))}))}cs(e,t){let n=new Wo(Es(e));return t.forEach(((t,r)=>{ws(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return gi()<=In.DEBUG&&mi("QueryEngine","Using full collection scan to execute query:",bs(t)),this.ns.getDocumentsMatchingQuery(e,t,Ji.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Zc="LocalStore";class eu{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new zo(Mi),this.Is=new _s((e=>os(e)),as),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mc(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function tu(e,t,n,r){return new eu(e,t,n,r)}async function nu(e,t){const n=Ei(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=Ls();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function ru(e){const t=Ei(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function iu(e,t,n){let r=Ls(),i=Ls();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ts();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Bi.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):mi(Zc,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Vs:r,fs:i}}))}function ou(e,t){const n=Ei(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=so),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function au(e,t){const n=Ei(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,ro.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new vc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function su(e,t,n){const r=Ei(e),i=r.Ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!oo(e))throw e;mi(Zc,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function lu(e,t,n){const r=Ei(e);let i=Bi.min(),o=Ls();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ei(e),i=r.Is.get(n);return void 0!==i?ro.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,ps(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:Bi.min(),n?o:Ls()))).next((e=>(cu(r,Ss(t),e),{documents:e,gs:o})))))}function cu(e,t,n){let r=e.Es.get(t)||Bi.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class uu{constructor(){this.activeTargetIds=Fs()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class du{constructor(){this.ho=new uu,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new uu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hu{To(e){}shutdown(){}}const fu="ConnectivityMonitor";class pu{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){mi(fu,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){mi(fu,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gu=null;function mu(){return null===gu?gu=268435456+Math.round(2147483648*Math.random()):gu++,"0x"+gu.toString(16)}const vu="RestConnection",yu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bu{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===la?`project_id=${n}`:`project_id=${n}&database_id=${r}`}bo(e,t,n,r,i){const o=mu(),a=this.So(e,t.toUriEncodedString());mi(vu,`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(s,r,i),this.vo(e,a,s,n).then((t=>(mi(vu,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw yi(vu,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,o){return this.bo(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=yu[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class wu{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}const Su="WebChannelConnection";class Eu extends bu{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=mu();return new Promise(((o,a)=>{const s=new ei;s.setWithCredentials(!0),s.listenOnce(ni.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case ri.NO_ERROR:const t=s.getResponseJson();mi(Su,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case ri.TIMEOUT:mi(Su,`RPC '${e}' ${i} timed out`),a(new _i(ki.DEADLINE_EXCEEDED,"Request time out"));break;case ri.HTTP_ERROR:const n=s.getStatus();if(mi(Su,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ki).indexOf(t)>=0?t:ki.UNKNOWN}(t.status);a(new _i(e,t.message))}else a(new _i(ki.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new _i(ki.UNAVAILABLE,"Connection failed."));break;default:wi()}}finally{mi(Su,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);mi(Su,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=mu(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=si(),a=ai(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");mi(Su,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new wu({Fo:t=>{h?mi(Su,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(mi(Su,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),mi(Su,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,ti.EventType.OPEN,(()=>{h||(mi(Su,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,ti.EventType.CLOSE,(()=>{h||(h=!0,mi(Su,`RPC '${e}' stream ${r} transport closed`),f.Ko())})),p(u,ti.EventType.ERROR,(t=>{h||(h=!0,yi(Su,`RPC '${e}' stream ${r} transport errored:`,t),f.Ko(new _i(ki.UNAVAILABLE,"The operation could not be completed")))})),p(u,ti.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Si(!!i);const o=i,a=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){mi(Su,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=bl[e];if(void 0!==t)return El(t)}(t),i=a.message;void 0===n&&(n=ki.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Ko(new _i(n,i)),u.close()}else mi(Su,`RPC '${e}' stream ${r} received:`,i),f.Uo(i)}})),p(a,oi.STAT_EVENT,(t=>{t.stat===ii.PROXY?mi(Su,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ii.NOPROXY&&mi(Su,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function ku(){return"undefined"!=typeof document?document:null}function _u(e){return new zl(e,!0)}class Iu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&mi("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const Tu="PersistentStream";class Cu{constructor(e,t,n,r,i,o,a,s){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Iu(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===ki.RESOURCE_EXHAUSTED?(vi(t.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ki.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new _i(ki.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return mi(Tu,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(mi(Tu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xu extends Cu{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wi()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Si(void 0===t||"string"==typeof t),Qo.fromBase64String(t||"")):(Si(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Qo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?ki.UNKNOWN:El(e.code);return new _i(t,e.message||"")}(a);n=new Rl(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jl(e,r.document.name),o=Gl(r.document.updateTime),a=r.document.createTime?Gl(r.document.createTime):Bi.min(),s=new Oa({mapValue:{fields:r.document.fields}}),l=Ra.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ol(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Jl(e,r.document),o=r.readTime?Gl(r.readTime):Bi.min(),a=Ra.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Ol([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Jl(e,r.document),o=r.removedTargetIds||[];n=new Ol([],o,i,null)}else{if(!("filter"in t))return wi();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new yl(r,i),a=e.targetId;n=new Pl(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Bi.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Bi.min():t.readTime?Gl(t.readTime):Bi.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=tc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ss(r)?{documents:oc(e,r)}:{query:ac(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Wl(e,t.resumeToken);const r=$l(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Bi.min())>0){n.readTime=Hl(e,t.snapshotVersion.toTimestamp());const r=$l(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wi()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=tc(this.serializer),t.removeTarget=e,this.I_(t)}}class Du extends Cu{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Si(!!e.streamToken),this.lastStreamToken=e.streamToken,Si(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Si(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(Si(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Gl(e.updateTime):Gl(t);return n.isEqual(Bi.min())&&(n=Gl(t)),new Zs(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Gl(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=tc(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ic(this.serializer,e)))};this.I_(t)}}class Nu{}class Au extends Nu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new _i(ki.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.bo(e,Ql(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ki.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _i(ki.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.Co(e,Ql(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ki.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new _i(ki.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Ou{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vi(t),this.N_=!1):mi("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Pu="RemoteStore";class Ru{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{$u(this)&&(mi(Pu,"Restarting streams for network reachability change."),await async function(e){const t=Ei(e);t.W_.add(4),await Mu(t),t.j_.set("Unknown"),t.W_.delete(4),await Lu(t)}(this))}))})),this.j_=new Ou(n,r)}}async function Lu(e){if($u(e))for(const t of e.G_)await t(!0)}async function Mu(e){for(const t of e.G_)await t(!1)}function Fu(e,t){const n=Ei(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),zu(n)?Bu(n):ld(n).c_()&&Uu(n,t))}function ju(e,t){const n=Ei(e),r=ld(n);n.U_.delete(t),r.c_()&&Vu(n,t),0===n.U_.size&&(r.c_()?r.P_():$u(n)&&n.j_.set("Unknown"))}function Uu(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Bi.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ld(e).y_(t)}function Vu(e,t){e.H_.Ne(t),ld(e).w_(t)}function Bu(e){e.H_=new Ml({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),ld(e).start(),e.j_.B_()}function zu(e){return $u(e)&&!ld(e).u_()&&e.U_.size>0}function $u(e){return 0===Ei(e).W_.size}function Hu(e){e.H_=void 0}async function Wu(e){e.j_.set("Online")}async function qu(e){e.U_.forEach(((t,n)=>{Uu(e,t)}))}async function Gu(e,t){Hu(e),zu(e)?(e.j_.q_(t),Bu(e)):e.j_.set("Unknown")}async function Ku(e,t,n){if(e.j_.set("Online"),t instanceof Rl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.U_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.U_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){mi(Pu,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Qu(e,n)}else if(t instanceof Ol?e.H_.We(t):t instanceof Pl?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Bi.min()))try{const t=await ru(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.U_.get(r);i&&e.U_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.U_.get(t);if(!r)return;e.U_.set(t,r.withResumeToken(Qo.EMPTY_BYTE_STRING,r.snapshotVersion)),Vu(e,t);const i=new vc(r.target,t,n,r.sequenceNumber);Uu(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){mi(Pu,"Failed to raise snapshot:",t),await Qu(e,t)}}async function Qu(e,t,n){if(!oo(t))throw t;e.W_.add(1),await Mu(e),e.j_.set("Offline"),n||(n=()=>ru(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{mi(Pu,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Lu(e)}))}function Yu(e,t){return t().catch((n=>Qu(e,n,t)))}async function Xu(e){const t=Ei(e),n=cd(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:so;for(;Ju(t);)try{const e=await ou(t.localStore,r);if(null===e){0===t.K_.length&&n.P_();break}r=e.batchId,Zu(t,e)}catch(e){await Qu(t,e)}ed(t)&&td(t)}function Ju(e){return $u(e)&&e.K_.length<10}function Zu(e,t){e.K_.push(t);const n=cd(e);n.c_()&&n.b_&&n.S_(t.mutations)}function ed(e){return $u(e)&&!cd(e).u_()&&e.K_.length>0}function td(e){cd(e).start()}async function nd(e){cd(e).C_()}async function rd(e){const t=cd(e);for(const n of e.K_)t.S_(n.mutations)}async function id(e,t,n){const r=e.K_.shift(),i=ml.from(r,t,n);await Yu(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Xu(e)}async function od(e,t){t&&cd(e).b_&&await async function(e,t){if(function(e){return Sl(e)&&e!==ki.ABORTED}(t.code)){const n=e.K_.shift();cd(e).h_(),await Yu(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Xu(e)}}(e,t),ed(e)&&td(e)}async function ad(e,t){const n=Ei(e);n.asyncQueue.verifyOperationInProgress(),mi(Pu,"RemoteStore received new credentials");const r=$u(n);n.W_.add(3),await Mu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Lu(n)}async function sd(e,t){const n=Ei(e);t?(n.W_.delete(2),await Lu(n)):t||(n.W_.add(2),await Mu(n),n.j_.set("Unknown"))}function ld(e){return e.J_||(e.J_=function(e,t,n){const r=Ei(e);return r.M_(),new xu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Wu.bind(null,e),No:qu.bind(null,e),Lo:Gu.bind(null,e),p_:Ku.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),zu(e)?Bu(e):e.j_.set("Unknown")):(await e.J_.stop(),Hu(e))}))),e.J_}function cd(e){return e.Y_||(e.Y_=function(e,t,n){const r=Ei(e);return r.M_(),new Du(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:nd.bind(null,e),Lo:od.bind(null,e),D_:rd.bind(null,e),v_:id.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Xu(e)):(await e.Y_.stop(),e.K_.length>0&&(mi(Pu,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))}))),e.Y_}class ud{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new ud(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _i(ki.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dd(e,t){if(vi("AsyncQueue",`${t}: ${e}`),oo(e))return new _i(ki.UNAVAILABLE,`${t}: ${e}`);throw e}class hd{static emptySet(e){return new hd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Gi.comparator(t.key,n.key):(e,t)=>Gi.comparator(e.key,t.key),this.keyedMap=xs(),this.sortedSet=new zo(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new hd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class fd{constructor(){this.Z_=new zo(Gi.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):wi():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class pd{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new pd(e,t,hd.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class gd{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class md{constructor(){this.queries=vd(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Ei(e),r=n.queries;n.queries=vd(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new _i(ki.ABORTED,"Firestore shutting down"))}}function vd(){return new _s((e=>ys(e)),vs)}async function yd(e,t){const n=Ei(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.na()&&t.ra()&&(r=2):(o=new gd,r=t.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=dd(e,`Initialization of query '${bs(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.ta.push(t),t.sa(n.onlineState),o.ea&&t.oa(o.ea)&&Ed(n)}async function bd(e,t){const n=Ei(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.ta.indexOf(t);e>=0&&(o.ta.splice(e,1),0===o.ta.length?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wd(e,t){const n=Ei(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&Ed(n)}function Sd(e,t,n){const r=Ei(e),i=r.queries.get(t);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(t)}function Ed(e){e.ia.forEach((e=>{e.next()}))}var kd,_d;(_d=kd||(kd={}))._a="default",_d.Cache="cache";class Id{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new pd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=pd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==kd.Cache}}class Td{constructor(e){this.key=e}}class Cd{constructor(e){this.key=e}}class xd{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ls(),this.mutatedKeys=Ls(),this.ya=Es(e),this.wa=new hd(this.ya)}get ba(){return this.fa}Sa(e,t){const n=t?t.Da:new fd,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=ws(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.ya(u,s)>0||l&&this.ya(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:o,Da:n,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wi()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const a=t&&!r?this.Fa():[],s=0===this.pa.size&&this.current&&!r?1:0,l=s!==this.ga;return this.ga=s,0!==o.length||l?{snapshot:new pd(this.query,e.wa,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new fd,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ls(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new Cd(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new Td(n))})),t}Oa(e){this.fa=e.gs,this.pa=Ls();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return pd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Dd="SyncEngine";class Nd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ad{constructor(e){this.key=e,this.Ba=!1}}class Od{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new _s((e=>ys(e)),vs),this.qa=new Map,this.Qa=new Set,this.$a=new zo(Gi.comparator),this.Ka=new Map,this.Ua=new Vc,this.Wa={},this.Ga=new Map,this.za=Tc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Pd(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=eh(e);let i;const o=r.ka.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await Ld(r,t,n,!0),i}async function Rd(e,t){const n=eh(e);await Ld(n,t,!0,!1)}async function Ld(e,t,n,r){const i=await au(e.localStore,ps(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Md(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Fu(e.remoteStore,i),s}async function Md(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.Sa(n);i.ls&&(i=await lu(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Sa(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return Kd(e,t.targetId,s.Ma),s.snapshot}(e,t,n,r);const o=await lu(e.localStore,t,!0),a=new xd(t,o.gs),s=a.Sa(o.documents),l=Al.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Kd(e,n,c.Ma);const u=new Nd(t,n,a);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function Fd(e,t,n){const r=Ei(e),i=r.ka.get(t),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter((e=>!vs(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await su(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ju(r.remoteStore,i.targetId),qd(r,i.targetId)})).catch(no)):(qd(r,i.targetId),await su(r.localStore,i.targetId,!0))}async function jd(e,t){const n=Ei(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ju(n.remoteStore,r.targetId))}async function Ud(e,t){const n=Ei(e);try{const e=await function(e,t){const n=Ei(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Hr.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Hr.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Qo.EMPTY_BYTE_STRING,Bi.min()).withLastLimboFreeSnapshotVersion(Bi.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&a.push(n.Hr.updateTargetData(e,c))}));let s=Ts(),l=Ls();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(iu(e,o,t.documentUpdates).next((e=>{s=e.Vs,l=e.fs}))),!r.isEqual(Bi.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return ro.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ka.get(t);r&&(Si(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?Si(r.Ba):e.removedDocuments.size>0&&(Si(r.Ba),r.Ba=!1))})),await Xd(n,e,t)}catch(e){await no(e)}}function Vd(e,t,n){const r=Ei(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ei(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&Ed(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Bd(e,t,n){const r=Ei(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ka.get(t),o=i&&i.key;if(o){let e=new zo(Gi.comparator);e=e.insert(o,Ra.newNoDocument(o,Bi.min()));const n=Ls().add(o),i=new Nl(Bi.min(),new Map,new zo(Mi),e,n);await Ud(r,i),r.$a=r.$a.remove(o),r.Ka.delete(t),Yd(r)}else await su(r.localStore,t,!1).then((()=>qd(r,t,n))).catch(no)}async function zd(e,t){const n=Ei(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ei(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=ro.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Si(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ls();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Wd(n,r,null),Hd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xd(n,e)}catch(e){await no(e)}}async function $d(e,t,n){const r=Ei(e);try{const e=await function(e,t){const n=Ei(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Si(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Wd(r,t,n),Hd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Xd(r,e)}catch(n){await no(n)}}function Hd(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Wd(e,t,n){const r=Ei(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function qd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach((t=>{e.Ua.containsKey(t)||Gd(e,t)}))}function Gd(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(ju(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),Yd(e))}function Kd(e,t,n){for(const r of n)r instanceof Td?(e.Ua.addReference(r.key,t),Qd(e,r)):r instanceof Cd?(mi(Dd,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||Gd(e,r.key)):wi()}function Qd(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(mi(Dd,"New document in limbo: "+n),e.Qa.add(r),Yd(e))}function Yd(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Gi(Hi.fromString(t)),r=e.za.next();e.Ka.set(r,new Ad(n)),e.$a=e.$a.insert(n,r),Fu(e.remoteStore,new vc(ps(us(n.path)),r,"TargetPurposeLimboResolution",ao.ae))}}async function Xd(e,t,n){const r=Ei(e),i=[],o=[],a=[];r.ka.isEmpty()||(r.ka.forEach(((e,s)=>{a.push(r.Ha(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Yc.Yi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.La.p_(i),await async function(e,t){const n=Ei(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ro.forEach(t,(t=>ro.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ro.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!oo(e))throw e;mi(Zc,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,o))}async function Jd(e,t){const n=Ei(e);if(!n.currentUser.isEqual(t)){mi(Dd,"User change. New user:",t.toKey());const e=await nu(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new _i(ki.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Xd(n,e.Rs)}}function Zd(e,t){const n=Ei(e),r=n.Ka.get(t);if(r&&r.Ba)return Ls().add(r.key);{let e=Ls();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.ba)}return e}}function eh(e){const t=Ei(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ud.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Bd.bind(null,t),t.La.p_=wd.bind(null,t.eventManager),t.La.Ja=Sd.bind(null,t.eventManager),t}function th(e){const t=Ei(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$d.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_u(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return tu(this.persistence,new Jc,e.initialUser,this.serializer)}Xa(e){return new qc(Kc.ri,this.serializer)}Za(e){return new du}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class rh extends nh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Si(this.persistence.referenceDelegate instanceof Qc);const n=this.persistence.referenceDelegate.garbageCollector;return new Ac(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?Ic.withCacheSize(this.cacheSizeBytes):Ic.DEFAULT;return new qc((e=>Qc.ri(e,t)),this.serializer)}}class ih{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Vd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jd.bind(null,this.syncEngine),await sd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new md}createDatastore(e){const t=_u(e.databaseInfo.databaseId),n=function(e){return new Eu(e)}(e.databaseInfo);return function(e,t,n,r){return new Au(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ru(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Vd(this.syncEngine,e,0)),pu.D()?new pu:new hu)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Od(e,t,n,r,i,o);return a&&(s.ja=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ei(e);mi(Pu,"RemoteStore shutting down."),t.W_.add(5),await Mu(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ih.provider={build:()=>new ih};class oh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ah="FirestoreClient";class sh{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=hi.UNAUTHENTICATED,this.clientId=Li.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{mi(ah,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(mi(ah,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=dd(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function lh(e,t){e.asyncQueue.verifyOperationInProgress(),mi(ah,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await nu(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function ch(e,t){e.asyncQueue.verifyOperationInProgress();const n=await uh(e);mi(ah,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ad(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ad(t.remoteStore,n))),e._onlineComponents=t}async function uh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){mi(ah,"Using user provided OfflineComponentProvider");try{await lh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ki.FAILED_PRECONDITION||e.code===ki.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;yi("Error using user provided cache. Falling back to memory cache: "+n),await lh(e,new nh)}}else mi(ah,"Using default OfflineComponentProvider"),await lh(e,new rh(void 0));return e._offlineComponents}async function dh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(mi(ah,"Using user provided OnlineComponentProvider"),await ch(e,e._uninitializedComponentsProvider._online)):(mi(ah,"Using default OnlineComponentProvider"),await ch(e,new ih))),e._onlineComponents}function hh(e){return dh(e).then((e=>e.syncEngine))}async function fh(e){const t=await dh(e),n=t.eventManager;return n.onListen=Pd.bind(null,t.syncEngine),n.onUnlisten=Fd.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Rd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=jd.bind(null,t.syncEngine),n}function ph(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ii;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new oh({next:s=>{o.su(),t.enqueueAndForget((()=>bd(e,a)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new _i(ki.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new _i(ki.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Id(us(n.path),o,{includeMetadataChanges:!0,Ta:!0});return yd(e,a)}(await fh(e),e.asyncQueue,t,n,r))),r.promise}function gh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ii;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new oh({next:n=>{o.su(),t.enqueueAndForget((()=>bd(e,a))),n.fromCache&&"server"===r.source?i.reject(new _i(ki.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Id(n,o,{includeMetadataChanges:!0,Ta:!0});return yd(e,a)}(await fh(e),e.asyncQueue,t,n,r))),r.promise}function mh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const vh=new Map;function yh(e,t,n){if(!n)throw new _i(ki.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function bh(e){if(!Gi.isDocumentKey(e))throw new _i(ki.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function wh(e){if(Gi.isDocumentKey(e))throw new _i(ki.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Sh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":wi()}function Eh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _i(ki.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sh(e);throw new _i(ki.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const kh="firestore.googleapis.com",_h=!0;class Ih{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new _i(ki.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kh,this.ssl=_h}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:_h;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=_c;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<xc)throw new _i(ki.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new _i(ki.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mh(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new _i(ki.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new _i(ki.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new _i(ki.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ih({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _i(ki.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _i(ki.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ih(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ci;switch(e.type){case"firstParty":return new Ai(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _i(ki.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vh.get(e);t&&(mi("ComponentProvider","Removing Datastore"),vh.delete(e),t.terminate())}(this),Promise.resolve()}}function Ch(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Eh(e,Th))._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),s=`${t}:${n}`;o.host!==kh&&o.host!==s&&yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:s,ssl:!1,emulatorOptions:r});if(!hn(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=hi.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yt(JSON.stringify({alg:"none",type:"JWT"})),Yt(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new _i(ki.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new hi(o)}e._authCredentials=new xi(new Ti(t,n))}}class xh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new xh(this.firestore,e,this._query)}}class Dh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dh(this.firestore,e,this._key)}}class Nh extends xh{constructor(e,t,n){super(e,t,us(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dh(this.firestore,null,new Gi(e))}withConverter(e){return new Nh(this.firestore,e,this._path)}}function Ah(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bn(e),yh("collection","path",t),e instanceof Th){const n=Hi.fromString(t,...r);return wh(n),new Nh(e,null,n)}{if(!(e instanceof Dh||e instanceof Nh))throw new _i(ki.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Hi.fromString(t,...r));return wh(n),new Nh(e.firestore,null,n)}}function Oh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bn(e),1===arguments.length&&(t=Li.newId()),yh("doc","path",t),e instanceof Th){const n=Hi.fromString(t,...r);return bh(n),new Dh(e,null,new Gi(n))}{if(!(e instanceof Dh||e instanceof Nh))throw new _i(ki.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Hi.fromString(t,...r));return bh(n),new Dh(e.firestore,e instanceof Nh?e.converter:null,new Gi(n))}}const Ph="AsyncQueue";class Rh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Iu(this,"async_queue_retry"),this.bu=()=>{const e=ku();e&&mi(Ph,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.Su=e;const t=ku();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=ku();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new Ii;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!oo(e))throw e;mi(Ph,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.Su.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vi("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.Su=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=ud.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&wi()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.Su,await e}while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Lh extends Th{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Rh,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rh(e),this._firestoreClient=void 0,await e}}}function Mh(e){if(e._terminated)throw new _i(ki.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Fh(e),e._firestoreClient}function Fh(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new sa(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,mh(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new sh(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class jh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jh(Qo.fromBase64String(e))}catch(e){throw new _i(ki.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new jh(Qo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Uh{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new _i(ki.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vh{constructor(e){this._methodName=e}}class Bh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _i(ki.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _i(ki.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mi(this._lat,e._lat)||Mi(this._long,e._long)}}class zh{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const $h=/^__.*__$/;class Hh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new cl(e,this.data,this.fieldMask,t,this.fieldTransforms):new ll(e,this.data,t,this.fieldTransforms)}}class Wh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new cl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wi()}}class Gh{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Gh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return lf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(qh(this.Lu)&&$h.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Kh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||_u(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Gh({Lu:e,methodName:t,zu:n,path:qi.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(e){const t=e._freezeSettings(),n=_u(e._databaseId);return new Kh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Yh(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ju(o.merge||o.mergeFields?2:0,t,n,i);rf("Data must be an object, but it was:",a,r);const s=tf(r,a);let l,c;if(o.merge)l=new Go(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=of(t,r,n);if(!a.contains(i))throw new _i(ki.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);cf(e,i)||e.push(i)}l=new Go(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Hh(new Oa(s),l,c)}class Xh extends Vh{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function Jh(e,t,n,r){const i=e.ju(1,t,n);rf("Data must be an object, but it was:",i,r);const o=[],a=Oa.empty();Vo(r,((e,r)=>{const s=sf(t,e,n);r=bn(r);const l=i.Ku(s);if(r instanceof Xh)o.push(s);else{const e=ef(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new Go(o);return new Wh(a,s,i.fieldTransforms)}function Zh(e,t,n,r,i,o){const a=e.ju(1,t,n),s=[of(t,r,n)],l=[i];if(o.length%2!=0)throw new _i(ki.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(of(t,o[h])),l.push(o[h+1]);const c=[],u=Oa.empty();for(let h=s.length-1;h>=0;--h)if(!cf(c,s[h])){const e=s[h];let t=l[h];t=bn(t);const n=a.Ku(e);if(t instanceof Xh)c.push(e);else{const r=ef(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Go(c);return new Wh(u,d,a.fieldTransforms)}function ef(e,t){if(nf(e=bn(e)))return rf("Unsupported field value:",t,e),tf(e,t);if(e instanceof Vh)return function(e,t){if(!qh(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ef(i,t.Uu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=bn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Vs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Vi.fromDate(e);return{timestampValue:Hl(t.serializer,n)}}if(e instanceof Vi){const n=new Vi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hl(t.serializer,n)}}if(e instanceof Bh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jh)return{bytesValue:Wl(t.serializer,e._byteString)};if(e instanceof Dh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Kl(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof zh)return function(e,t){return{mapValue:{fields:{[ua]:{stringValue:fa},[pa]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return js(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${Sh(e)}`)}(e,t)}function tf(e,t){const n={};return Bo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vo(e,((e,r)=>{const i=ef(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function nf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vi||e instanceof Bh||e instanceof jh||e instanceof Dh||e instanceof Vh||e instanceof zh)}function rf(e,t,n){if(!nf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Sh(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function of(e,t,n){if((t=bn(t))instanceof Uh)return t._internalPath;if("string"==typeof t)return sf(e,t);throw lf("Field path arguments must be of type string or ",e,!1,void 0,n)}const af=new RegExp("[~\\*/\\[\\]]");function sf(e,t,n){if(t.search(af)>=0)throw lf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Uh(...t.split("."))._internalPath}catch(a){throw lf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function lf(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new _i(ki.INVALID_ARGUMENT,s+e+l)}function cf(e,t){return e.some((e=>e.isEqual(t)))}class uf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Dh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new df(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class df extends uf{data(){return super.data()}}function hf(e,t){return"string"==typeof t?sf(e,t):t instanceof Uh?t._internalPath:t._delegate._internalPath}function ff(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _i(ki.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pf{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw wi()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Vo(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[pa].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Jo(e.doubleValue)));return new zh(i)}convertGeoPoint(e){return new Bh(Jo(e.latitude),Jo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=oa(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){const t=Xo(e);return new Vi(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Hi.fromString(e);Si(mc(n));const r=new ca(n.get(1),n.get(3)),i=new Gi(n.popFirst(5));return r.isEqual(t)||vi(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function gf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class mf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vf extends uf{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(hf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class yf extends vf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class bf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new yf(this._firestore,this._userDataWriter,n.key,n,new mf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _i(ki.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new yf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new mf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new yf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:wf(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function wf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wi()}}class Sf extends pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new jh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dh(this.firestore,null,t)}}function Ef(e){e=Eh(e,xh);const t=Eh(e.firestore,Lh),n=Mh(t),r=new Sf(t);return ff(e._query),gh(n,e._query).then((n=>new bf(t,r,e,n)))}function kf(e,t,n){e=Eh(e,Dh);const r=Eh(e.firestore,Lh),i=gf(e.converter,t,n);return Tf(r,[Yh(Qh(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,el.none())])}function _f(e){return Tf(Eh(e.firestore,Lh),[new fl(e._key,el.none())])}function If(e,t){const n=Eh(e.firestore,Lh),r=Oh(e),i=gf(e.converter,t);return Tf(n,[Yh(Qh(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,el.exists(!1))]).then((()=>r))}function Tf(e,t){return function(e,t){const n=new Ii;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=th(e);try{const e=await function(e,t){const n=Ei(e),r=Vi.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ls());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Ts(),l=Ls();return n.ds.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=al(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new cl(e.key,t,Pa(t.value.mapValue),el.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Ds(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new zo(Mi)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Xd(r,e.changes),await Xu(r.remoteStore)}catch(e){const t=dd(e,"Failed to persist write");n.reject(t)}}(await hh(e),t,n))),n.promise}(Mh(e),t)}function Cf(e,t,n){const r=n.docs.get(t._key),i=new Sf(e);return new vf(e,i,t._key,r,new mf(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fi=e}(Mr),Ar(new wn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Lh(new Di(e.getProvider("auth-internal")),new Pi(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _i(ki.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Ur(ui,di,e),Ur(ui,di,"esm2017")}();const xf="@firebase/installations",Df="0.6.13",Nf=1e4,Af=`w:${Df}`,Of="FIS_v2",Pf=36e5,Rf=new un("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Lf(e){return e instanceof cn&&e.code.includes("request-failed")}function Mf(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Ff(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function jf(e,t){const n=(await t.json()).error;return Rf.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Uf(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Vf(e,t){let{refreshToken:n}=t;const r=Uf(e);return r.append("Authorization",function(e){return`${Of} ${e}`}(n)),r}async function Bf(e){const t=await e();return t.status>=500&&t.status<600?e():t}function zf(e){return new Promise((t=>{setTimeout(t,e)}))}const $f=/^[cdef][\w-]{21}$/;function Hf(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return $f.test(t)?t:""}catch(e){return""}}function Wf(e){return`${e.appName}!${e.appId}`}const qf=new Map;function Gf(e,t){const n=Wf(e);Kf(n,t),function(e,t){const n=Yf();n&&n.postMessage({key:e,fid:t});Xf()}(n,t)}function Kf(e,t){const n=qf.get(e);if(n)for(const r of n)r(t)}let Qf=null;function Yf(){return!Qf&&"BroadcastChannel"in self&&(Qf=new BroadcastChannel("[Firebase] FID Change"),Qf.onmessage=e=>{Kf(e.data.key,e.data.fid)}),Qf}function Xf(){0===qf.size&&Qf&&(Qf.close(),Qf=null)}const Jf="firebase-installations-store";let Zf=null;function ep(){return Zf||(Zf=$n("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Jf)}})),Zf}async function tp(e,t){const n=Wf(e),r=(await ep()).transaction(Jf,"readwrite"),i=r.objectStore(Jf),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Gf(e,t.fid),t}async function np(e){const t=Wf(e),n=(await ep()).transaction(Jf,"readwrite");await n.objectStore(Jf).delete(t),await n.done}async function rp(e,t){const n=Wf(e),r=(await ep()).transaction(Jf,"readwrite"),i=r.objectStore(Jf),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||Gf(e,a.fid),a}async function ip(e){let t;const n=await rp(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Hf(),registrationStatus:0};return sp(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Rf.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Mf(n),a=Uf(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:Of,appId:n.appId,sdkVersion:Af},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Bf((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Ff(e.authToken)}}throw await jf("Create Installation",u)}(e,t);return tp(e.appConfig,n)}catch(n){throw Lf(n)&&409===n.customData.serverCode?await np(e.appConfig):await tp(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:op(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function op(e){let t=await ap(e.appConfig);for(;1===t.registrationStatus;)await zf(100),t=await ap(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await ip(e);return n||t}return t}function ap(e){return rp(e,(e=>{if(!e)throw Rf.create("installation-not-found");return sp(e)}))}function sp(e){return 1===(t=e).registrationStatus&&t.registrationTime+Nf<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function lp(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${Mf(e)}/${n}/authTokens:generate`}(n,t),o=Vf(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:Af,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(s)},c=await Bf((()=>fetch(i,l)));if(c.ok){return Ff(await c.json())}throw await jf("Generate Auth Token",c)}async function cp(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await rp(e.appConfig,(r=>{if(!dp(r))throw Rf.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Pf}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await up(e.appConfig);for(;1===n.authToken.requestStatus;)await zf(100),n=await up(e.appConfig);const r=n.authToken;return 0===r.requestStatus?cp(e,t):r}(e,n),r;{if(!navigator.onLine)throw Rf.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await lp(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await tp(e.appConfig,r),n}catch(n){if(!Lf(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await tp(e.appConfig,n)}else await np(e.appConfig);throw n}}(e,n),n}}));return t?await t:r.authToken}function up(e){return rp(e,(e=>{if(!dp(e))throw Rf.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Nf<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function dp(e){return void 0!==e&&2===e.registrationStatus}async function hp(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await ip(e);t&&await t}(n);return(await cp(n,t)).token}function fp(e){return Rf.create("missing-app-config-values",{valueName:e})}const pp="installations",gp=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw fp("App Configuration");if(!e.name)throw fp("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw fp(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Or(t,"heartbeat"),_delete:()=>Promise.resolve()}},mp=e=>{const t=Or(e.getProvider("app").getImmediate(),pp).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await ip(t);return r?r.catch(console.error):cp(t).catch(console.error),n.fid}(t),getToken:e=>hp(t,e)}};Ar(new wn(pp,gp,"PUBLIC")),Ar(new wn("installations-internal",mp,"PRIVATE")),Ur(xf,Df),Ur(xf,Df,"esm2017");const vp="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yp="google.c.a.c_id",bp=1e4;var wp,Sp;function Ep(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kp(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(wp||(wp={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Sp||(Sp={}));const _p="fcm_token_details_db",Ip="fcm_token_object_Store";const Tp="firebase-messaging-store";let Cp=null;function xp(){return Cp||(Cp=$n("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Tp)}})),Cp}async function Dp(e){const t=Ap(e),n=await xp(),r=await n.transaction(Tp).objectStore(Tp).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(_p))return null}let t=null;return(await $n(_p,5,{upgrade:async(n,r,i,o)=>{var a;if(r<2)return;if(!n.objectStoreNames.contains(Ip))return;const s=o.objectStore(Ip),l=await s.index("fcmSenderId").get(e);if(await s.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(a=e.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:Ep(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ep(e.auth),p256dh:Ep(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ep(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ep(e.auth),p256dh:Ep(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ep(e.vapidKey)}}}}})).close(),await Hn(_p),await Hn("fcm_vapid_details_db"),await Hn("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await Np(e,t),t}}async function Np(e,t){const n=Ap(e),r=(await xp()).transaction(Tp,"readwrite");return await r.objectStore(Tp).put(t,n),await r.done,t}function Ap(e){let{appConfig:t}=e;return t.appId}const Op=new un("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function Pp(e,t){const n={method:"DELETE",headers:await Lp(e)};try{const r=await fetch(`${Rp(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw Op.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw Op.create("token-unsubscribe-failed",{errorInfo:null===r||void 0===r?void 0:r.toString()})}}function Rp(e){let{projectId:t}=e;return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}async function Lp(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function Mp(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const o={web:{endpoint:r,auth:n,p256dh:t}};return i!==vp&&(o.web.applicationPubKey=i),o}async function Fp(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kp(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ep(t.getKey("auth")),p256dh:Ep(t.getKey("p256dh"))},r=await Dp(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await Lp(e),r=Mp(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${Rp(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(a){throw Op.create("token-update-failed",{errorInfo:null===a||void 0===a?void 0:a.toString()})}if(o.error){const e=o.error.message;throw Op.create("token-update-failed",{errorInfo:e})}if(!o.token)throw Op.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Np(e.firebaseDependencies,r),n}catch(n){throw n}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Pp(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return jp(e.firebaseDependencies,n)}return jp(e.firebaseDependencies,n)}async function jp(e,t){const n=await async function(e,t){const n=await Lp(e),r=Mp(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(Rp(e.appConfig),i);o=await t.json()}catch(a){throw Op.create("token-subscribe-failed",{errorInfo:null===a||void 0===a?void 0:a.toString()})}if(o.error){const e=o.error.message;throw Op.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw Op.create("token-subscribe-no-token");return o.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await Np(e,r),r.token}function Up(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,o,a;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;s&&(e.fcmOptions.link=s);const l=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function Vp(e){return Op.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bp{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Vp("App Configuration Object");if(!e.name)throw Vp("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Vp(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function zp(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch((()=>{})),await async function(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error("Service worker not registered after 10000 ms"))),bp),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{var n;"activated"===(null===(n=e.target)||void 0===n?void 0:n.state)&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))}))}(e.swRegistration)}catch(t){throw Op.create("failed-service-worker-registration",{browserErrorMessage:null===t||void 0===t?void 0:t.message})}}async function $p(e,t){if(!navigator)throw Op.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw Op.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=vp)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await zp(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Op.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),Fp(e)}async function Hp(e,t,n){const r=function(e){switch(e){case Sp.NOTIFICATION_CLICKED:return"notification_open";case Sp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[yp],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function Wp(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Sp.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(Up(n)):e.onMessageHandler.next(Up(n)));const r=n.data;var i;"object"===typeof(i=r)&&i&&yp in i&&"1"===r["google.c.a.e"]&&await Hp(e,n.messageType,r)}const qp="@firebase/messaging",Gp="0.12.17",Kp=e=>{const t=new Bp(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(e=>Wp(t,e))),t},Qp=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>$p(t,e)}};async function Yp(){try{await ln()}catch(e){return!1}return"undefined"!==typeof window&&sn()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Ar(new wn("messaging",Kp,"PUBLIC")),Ar(new wn("messaging-internal",Qp,"PRIVATE")),Ur(qp,Gp),Ur(qp,Gp,"esm2017");function Xp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Jp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zp=Jp,eg=new un("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tg=new Nn("@firebase/auth");function ng(e){if(tg.logLevel<=In.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];tg.error(`Auth (${Mr}): ${e}`,...n)}}function rg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw sg(e,...n)}function ig(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return sg(e,...n)}function og(e,t,n){const r=Object.assign(Object.assign({},Zp()),{[t]:n});return new un("auth","Firebase",r).create(t,{appName:e.name})}function ag(e){return og(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return eg.create(e,...n)}function lg(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw sg(t,...r)}}function cg(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ng(t),new Error(t)}function ug(e,t){e||cg(t)}function dg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function hg(){return"http:"===fg()||"https:"===fg()}function fg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function pg(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(hg()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class gg{constructor(e,t){this.shortDelay=e,this.longDelay=t,ug(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return pg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mg(e,t){ug(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class vg{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void cg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void cg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void cg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bg=new gg(3e4,6e4);function wg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Sg(e,t,n,r){return Eg(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=pn(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),vg.fetch()(_g(e,e.config.apiHost,n,a),l)}))}async function Eg(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},yg),t);try{const t=new Tg(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Cg(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Cg(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Cg(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Cg(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw og(e,s,a);rg(e,s)}}catch(i){if(i instanceof cn)throw i;rg(e,"network-request-failed",{message:String(i)})}}async function kg(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Sg(e,t,n,r,i);return"mfaPendingCredential"in o&&rg(e,"multi-factor-auth-required",{_serverResponse:o}),o}function _g(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?mg(e.config,i):`${e.config.apiScheme}://${i}`}function Ig(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tg{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ig(this.auth,"network-request-failed"))),bg.get())}))}}function Cg(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ig(e,t,r);return i.customData._tokenResponse=n,i}function xg(e){return void 0!==e&&void 0!==e.enterprise}class Dg{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ig(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ng(e,t){return Sg(e,"GET","/v2/recaptchaConfig",wg(e,t))}async function Ag(e,t){return Sg(e,"POST","/v1/accounts:lookup",t)}function Og(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Pg(e){return 1e3*Number(e)}function Rg(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ng("JWT malformed, contained fewer than 3 sections"),null;try{const e=Xt(n);return e?JSON.parse(e):(ng("Failed to decode base64 JWT payload"),null)}catch(i){return ng("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Lg(e){const t=Rg(e);return lg(t,"internal-error"),lg("undefined"!==typeof t.exp,"internal-error"),lg("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Mg(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof cn&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Fg{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class jg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Og(this.lastLoginAt),this.creationTime=Og(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ug(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Mg(e,Ag(n,{idToken:r}));lg(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Vg(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new jg(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Vg(e){return e.map((e=>{var{providerId:t}=e,n=Xp(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Bg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lg(e.idToken,"internal-error"),lg("undefined"!==typeof e.idToken,"internal-error"),lg("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Lg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){lg(0!==e.length,"internal-error");const t=Lg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(lg(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Eg(e,{},(async()=>{const n=pn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=_g(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vg.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Bg;return n&&(lg("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(lg("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(lg("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bg,this.toJSON())}_performRefresh(){return cg("not implemented")}}function zg(e,t){lg("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class $g{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Mg(this,this.stsTokenManager.getToken(this.auth,e));return lg(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=bn(e),r=await n.getIdToken(t),i=Rg(r);lg(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Og(Pg(i.auth_time)),issuedAtTime:Og(Pg(i.iat)),expirationTime:Og(Pg(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=bn(e);await Ug(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(lg(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $g(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){lg(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ug(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(ag(this.auth));const e=await this.getIdToken();return await Mg(this,async function(e,t){return Sg(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:S,stsTokenManager:E}=t;lg(y&&E,e,"internal-error");const k=Bg.fromJSON(this.name,E);lg("string"===typeof y,e,"internal-error"),zg(u,e.name),zg(d,e.name),lg("boolean"===typeof b,e,"internal-error"),lg("boolean"===typeof w,e,"internal-error"),zg(h,e.name),zg(f,e.name),zg(p,e.name),zg(g,e.name),zg(m,e.name),zg(v,e.name);const _=new $g({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:v});return S&&Array.isArray(S)&&(_.providerData=S.map((e=>Object.assign({},e)))),g&&(_._redirectEventId=g),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Bg;r.updateFromServerResponse(t);const i=new $g({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ug(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];lg(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Vg(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Bg;a.updateFromIdToken(n);const s=new $g({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new jg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Hg=new Map;function Wg(e){ug(e instanceof Function,"Expected a class definition");let t=Hg.get(e);return t?(ug(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Hg.set(e,t),t)}class qg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}qg.type="NONE";const Gg=qg;function Kg(e,t,n){return`firebase:${e}:${t}:${n}`}class Qg{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Kg(this.userKey,r.apiKey,i),this.fullPersistenceKey=Kg("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$g._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Qg(Wg(Gg),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Wg(Gg);const o=Kg(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=$g._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Qg(i,e,n)):new Qg(i,e,n)}}function Yg(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(em(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xg(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nm(t))return"Blackberry";if(rm(t))return"Webos";if(Jg(t))return"Safari";if((t.includes("chrome/")||Zg(t))&&!t.includes("edge/"))return"Chrome";if(tm(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Xg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/firefox\//i.test(e)}function Jg(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:on()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/crios\//i.test(e)}function em(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/iemobile/i.test(e)}function tm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/android/i.test(e)}function nm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/blackberry/i.test(e)}function rm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/webos/i.test(e)}function im(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function om(){return function(){const e=on();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function am(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on();return im(e)||tm(e)||rm(e)||nm(e)||/windows phone/i.test(e)||em(e)}function sm(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Yg(on());break;case"Worker":t=`${Yg(on())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Mr}/${r}`}class lm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class cm{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class um{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hm(this),this.idTokenSubscription=new hm(this),this.beforeStateQueue=new lm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wg(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Qg.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ag(this,{idToken:e}),n=await $g._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lg(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ug(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(ag(this));const t=e?bn(e):null;return t&&lg(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&lg(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Pr(this.app)?Promise.reject(ag(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(ag(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Wg(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Sg(e,"GET","/v2/passwordPolicy",wg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new cm(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new un("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Sg(e,"POST","/v2/accounts:revokeToken",wg(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wg(e)||this._popupRedirectResolver;lg(t,this,"argument-error"),this.redirectPersistenceManager=await Qg.create(this,[Wg(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(lg(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lg(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(tg.logLevel<=In.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];tg.warn(`Auth (${Mr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function dm(e){return bn(e)}class hm{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new vn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return lg(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pm(e){return fm.loadJS(e)}function gm(e){return`__${e}${Math.floor(1e6*Math.random())}`}class mm{constructor(){this.enterprise=new vm}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vm{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ym="NO_RECAPTCHA";class bm{constructor(e){this.type="recaptcha-enterprise",this.auth=dm(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;xg(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(ym)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new mm).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ng(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Dg(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&xg(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=fm.recaptchaEnterpriseScript;0!==t.length&&(t+=i),pm(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function wm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new bm(e);let a;if(i)a=ym;else try{a=await o.verify(n)}catch(l){a=await o.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Sm(e,t,n,r,i){var o,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await wm(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await wm(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await wm(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await wm(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await wm(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Em(e){const t=dm(e),n=await Ng(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Dg(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new bm(t).verify()}}function km(e,t,n){const r=dm(e);lg(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=_m(t),{host:a,port:s}=function(e){const t=_m(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Im(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Im(t)}}}(t),l={url:`${o}//${a}${null===s?"":`:${s}`}/`},c=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return lg(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void lg(hn(l,r.config.emulator)&&hn(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function _m(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Im(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Tm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cg("not implemented")}_getIdTokenResponse(e){return cg("not implemented")}_linkToIdToken(e,t){return cg("not implemented")}_getReauthenticationResolver(e){return cg("not implemented")}}async function Cm(e,t){return Sg(e,"POST","/v1/accounts:signUp",t)}async function xm(e,t){return kg(e,"POST","/v1/accounts:signInWithPassword",wg(e,t))}class Dm extends Tm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Dm(e,t,"password")}static _fromEmailAndCode(e,t){return new Dm(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Sm(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",xm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return kg(e,"POST","/v1/accounts:signInWithEmailLink",wg(e,t))}(e,{email:this._email,oobCode:this._password});default:rg(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Sm(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return kg(e,"POST","/v1/accounts:signInWithEmailLink",wg(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:rg(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Nm(e,t){return kg(e,"POST","/v1/accounts:signInWithIdp",wg(e,t))}class Am extends Tm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Am(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rg("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Xp(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Am(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Nm(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Nm(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nm(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pn(t)}return e}}async function Om(e,t){return Sg(e,"POST","/v1/accounts:sendVerificationCode",wg(e,t))}const Pm={USER_NOT_FOUND:"user-not-found"};class Rm extends Tm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Rm({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Rm({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return kg(e,"POST","/v1/accounts:signInWithPhoneNumber",wg(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await kg(e,"POST","/v1/accounts:signInWithPhoneNumber",wg(e,t));if(n.temporaryProof)throw Cg(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return kg(e,"POST","/v1/accounts:signInWithPhoneNumber",wg(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Pm)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Rm({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Lm{constructor(e){var t,n,r,i,o,a;const s=gn(mn(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);lg(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=gn(mn(e)).link,n=t?gn(mn(t)).deep_link_id:null,r=gn(mn(e)).deep_link_id;return(r?gn(mn(r)).link:null)||r||n||t||e}(e);try{return new Lm(t)}catch(n){return null}}}class Mm{constructor(){this.providerId=Mm.PROVIDER_ID}static credential(e,t){return Dm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Lm.parseLink(t);return lg(n,"argument-error"),Dm._fromEmailAndCode(e,n.code,n.tenantId)}}Mm.PROVIDER_ID="password",Mm.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Mm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Fm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jm extends Fm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Um extends jm{constructor(){super("facebook.com")}static credential(e){return Am._fromParams({providerId:Um.PROVIDER_ID,signInMethod:Um.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Um.credentialFromTaggedObject(e)}static credentialFromError(e){return Um.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Um.credential(t.oauthAccessToken)}catch(n){return null}}}Um.FACEBOOK_SIGN_IN_METHOD="facebook.com",Um.PROVIDER_ID="facebook.com";class Vm extends jm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Am._fromParams({providerId:Vm.PROVIDER_ID,signInMethod:Vm.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vm.credentialFromTaggedObject(e)}static credentialFromError(e){return Vm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Vm.credential(n,r)}catch(i){return null}}}Vm.GOOGLE_SIGN_IN_METHOD="google.com",Vm.PROVIDER_ID="google.com";class Bm extends jm{constructor(){super("github.com")}static credential(e){return Am._fromParams({providerId:Bm.PROVIDER_ID,signInMethod:Bm.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bm.credentialFromTaggedObject(e)}static credentialFromError(e){return Bm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Bm.credential(t.oauthAccessToken)}catch(n){return null}}}Bm.GITHUB_SIGN_IN_METHOD="github.com",Bm.PROVIDER_ID="github.com";class zm extends jm{constructor(){super("twitter.com")}static credential(e,t){return Am._fromParams({providerId:zm.PROVIDER_ID,signInMethod:zm.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zm.credentialFromTaggedObject(e)}static credentialFromError(e){return zm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return zm.credential(n,r)}catch(i){return null}}}async function $m(e,t){return kg(e,"POST","/v1/accounts:signUp",wg(e,t))}zm.TWITTER_SIGN_IN_METHOD="twitter.com",zm.PROVIDER_ID="twitter.com";class Hm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await $g._fromIdTokenResponse(e,n,r),o=Wm(n);return new Hm({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Wm(n);return new Hm({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Wm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class qm extends cn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,qm.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new qm(e,t,n,r)}}function Gm(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw qm._fromErrorAndOperation(e,n,t,r);throw n}))}async function Km(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Mg(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Hm._forOperation(e,"link",r)}async function Qm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Pr(r.app))return Promise.reject(ag(r));const i="reauthenticate";try{const o=await Mg(e,Gm(r,i,t,e),n);lg(o.idToken,r,"internal-error");const a=Rg(o.idToken);lg(a,r,"internal-error");const{sub:s}=a;return lg(e.uid===s,r,"user-mismatch"),Hm._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&rg(r,"user-mismatch"),o}}async function Ym(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Pr(e.app))return Promise.reject(ag(e));const r="signIn",i=await Gm(e,r,t),o=await Hm._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Xm(e,t){return Ym(dm(e),t)}async function Jm(e){const t=dm(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Zm(e,t){return Sg(e,"POST","/v2/accounts/mfaEnrollment:start",wg(e,t))}new WeakMap;const ev="__sak";class tv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ev,"1"),this.storage.removeItem(ev),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class nv extends tv{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=am(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);om()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nv.type="LOCAL";const rv=nv;class iv extends tv{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iv.type="SESSION";const ov=iv;class av{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new av(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function sv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}av.receivers=[];class lv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=sv("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function cv(){return window}function uv(){return"undefined"!==typeof cv().WorkerGlobalScope&&"function"===typeof cv().importScripts}const dv="firebaseLocalStorageDb",hv="firebaseLocalStorage",fv="fbase_key";class pv{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function gv(e,t){return e.transaction([hv],t?"readwrite":"readonly").objectStore(hv)}function mv(){const e=indexedDB.open(dv,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(hv,{keyPath:fv})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(hv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(dv);return new pv(e).toPromise()}(),t(await mv()))}))}))}async function vv(e,t,n){const r=gv(e,!0).put({[fv]:t,value:n});return new pv(r).toPromise()}function yv(e,t){const n=gv(e,!0).delete(t);return new pv(n).toPromise()}class bv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await mv()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=av._getInstance(uv()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new lv(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mv();return await vv(e,ev,"1"),await yv(e,ev),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>vv(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=gv(e,!1).get(t),r=await new pv(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>yv(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=gv(e,!1).getAll();return new pv(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}bv.type="LOCAL";const wv=bv;function Sv(e,t){return Sg(e,"POST","/v2/accounts/mfaSignIn:start",wg(e,t))}gm("rcb"),new gg(3e4,6e4);const Ev="recaptcha";async function kv(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Em(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){lg("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Sm(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ym){lg((null===n||void 0===n?void 0:n.type)===Ev,e,"argument-error");return Zm(e,await _v(e,t,n))}return Zm(e,t)}),"PHONE_PROVIDER"),a=await o.catch((e=>Promise.reject(e)));return a.phoneSessionInfo.sessionInfo}{lg("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;lg(o,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Sm(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ym){lg((null===n||void 0===n?void 0:n.type)===Ev,e,"argument-error");return Sv(e,await _v(e,t,n))}return Sv(e,t)}),"PHONE_PROVIDER"),l=await s.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Sm(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===ym){lg((null===n||void 0===n?void 0:n.type)===Ev,e,"argument-error");return Om(e,await _v(e,t,n))}return Om(e,t)}),"PHONE_PROVIDER"),o=await r.catch((e=>Promise.reject(e)));return o.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function _v(e,t,n){lg(n.type===Ev,e,"argument-error");const r=await n.verify();lg("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Iv{constructor(e){this.providerId=Iv.PROVIDER_ID,this.auth=dm(e)}verifyPhoneNumber(e,t){return kv(this.auth,e,bn(t))}static credential(e,t){return Rm._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Iv.credentialFromTaggedObject(t)}static credentialFromError(e){return Iv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Rm._fromTokenResponse(n,r):null}}function Tv(e,t){return t?Wg(t):(lg(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Iv.PROVIDER_ID="phone",Iv.PHONE_SIGN_IN_METHOD="phone";class Cv extends Tm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xv(e){return Ym(e.auth,new Cv(e),e.bypassAuthState)}function Dv(e){const{auth:t,user:n}=e;return lg(n,t,"internal-error"),Qm(n,new Cv(e),e.bypassAuthState)}async function Nv(e){const{auth:t,user:n}=e;return lg(n,t,"internal-error"),Km(n,new Cv(e),e.bypassAuthState)}class Av{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xv;case"linkViaPopup":case"linkViaRedirect":return Nv;case"reauthViaPopup":case"reauthViaRedirect":return Dv;default:rg(this.auth,"internal-error")}}resolve(e){ug(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ug(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ov=new gg(2e3,1e4);class Pv extends Av{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Pv.currentPopupAction&&Pv.currentPopupAction.cancel(),Pv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lg(e,this.auth,"internal-error"),e}async onExecution(){ug(1===this.filter.length,"Popup operations only handle one event");const e=sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ig(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ig(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ig(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ov.get())};e()}}Pv.currentPopupAction=null;const Rv=new Map;class Lv extends Av{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Rv.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=jv(t),r=Fv(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Rv.set(this.auth._key(),e)}return this.bypassAuthState||Rv.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Mv(e,t){Rv.set(e._key(),t)}function Fv(e){return Wg(e._redirectPersistence)}function jv(e){return Kg("pendingRedirect",e.config.apiKey,e.name)}async function Uv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Pr(e.app))return Promise.reject(ag(e));const r=dm(e),i=Tv(r,t),o=new Lv(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Vv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!zv(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ig(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function zv(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const $v=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hv=/^https?/;async function Wv(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Sg(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(qv(r))return}catch(n){}rg(e,"unauthorized-domain")}function qv(e){const t=dg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Hv.test(n))return!1;if($v.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Gv=new gg(3e4,6e4);function Kv(){const e=cv().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Qv(e){return new Promise(((t,n)=>{var r,i,o;function a(){Kv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kv(),n(ig(e,"network-request-failed"))},timeout:Gv.get()})}if(null===(i=null===(r=cv().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=cv().gapi)||void 0===o?void 0:o.load)){const t=gm("iframefcb");return cv()[t]=()=>{gapi.load?a():n(ig(e,"network-request-failed"))},pm(`${fm.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Yv=null,e}))}let Yv=null;const Xv=new gg(5e3,15e3),Jv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ey(e){const t=e.config;lg(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?mg(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Mr},i=Zv.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${pn(r).slice(1)}`}async function ty(e){const t=await function(e){return Yv=Yv||Qv(e),Yv}(e),n=cv().gapi;return lg(n,e,"internal-error"),t.open({where:document.body,url:ey(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jv,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ig(e,"network-request-failed"),o=cv().setTimeout((()=>{r(i)}),Xv.get());function a(){cv().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const ny={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ry{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function iy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},ny),{width:r.toString(),height:i.toString(),top:o,left:a}),c=on().toLowerCase();n&&(s=Zg(c)?"_blank":n),Xg(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return im(arguments.length>0&&void 0!==arguments[0]?arguments[0]:on())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new ry(null);const d=window.open(t||"",s,u);lg(d,e,"popup-blocked");try{d.focus()}catch(h){}return new ry(d)}const oy="__/auth/handler",ay="emulator/auth/handler",sy=encodeURIComponent("fac");async function ly(e,t,n,r,i,o){lg(e.config.authDomain,e,"auth-domain-config-required"),lg(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Mr,eventId:i};if(t instanceof Fm){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof jm){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${sy}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${oy}`;return mg(t,ay)}(e)}?${pn(s).slice(1)}${c}`}const cy="webStorageSupport";const uy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ov,this._completeRedirectFn=Uv,this._overrideRedirectResult=Mv}async _openPopup(e,t,n,r){var i;ug(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return iy(e,await ly(e,t,n,dg(),r),sv())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){cv().location.href=e}(await ly(e,t,n,dg(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ug(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ty(e),n=new Vv(e);return t.register("authEvent",(t=>{lg(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cy,{type:cy},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[cy];void 0!==i&&t(!!i),rg(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Wv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return am()||Jg()||im()}};var dy="@firebase/auth",hy="1.9.1";class fy{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){lg(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const py=nn("authIdTokenMaxAge")||300;let gy=null;var my,vy;my={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ig("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},fm=my,vy="Browser",Ar(new wn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;lg(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:vy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sm(vy)},c=new um(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wg);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ar(new wn("auth-internal",(e=>(e=>new fy(e))(dm(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(dy,hy,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(vy)),Ur(dy,hy,"esm2017");const yy=Fr({apiKey:"AIzaSyBwI4Rqmws6ouKoM7xR9e45BLdI-ohJUjo",authDomain:"study-app-ab947.firebaseapp.com",projectId:"study-app-ab947",storageBucket:"study-app-ab947.appspot.com",messagingSenderId:"20976735751",appId:"1:20976735751:web:cec41ba4e76cafc46abca2",measurementId:"G-F1J8M0TL5B"}),by=function(e,t){const n="object"==typeof e?e:jr(),r="string"==typeof e?e:t||la,i=Or(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=en(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Ch(i,...e)}return i}(yy),wy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr();return Yp().then((e=>{if(!e)throw Op.create("unsupported-browser")}),(e=>{throw Op.create("indexed-db-unsupported")})),Or(bn(e),"messaging").getImmediate()}(yy),Sy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr();const t=Or(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Or(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(hn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;rg(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:uy,persistence:[wv,rv,ov]}),r=nn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>py)return;const r=null===t||void 0===t?void 0:t.token;gy!==r&&(gy=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){bn(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){bn(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=en("auth");return o&&km(n,`http://${o}`),n}(yy);(async function(e){var t;if(Pr(e.app))return Promise.reject(ag(e));const n=dm(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Hm({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await $m(n,{returnSecureToken:!0}),i=await Hm._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i})(Sy).then((()=>{console.log("\u2705 Anonymt inloggad!")})).catch((e=>{console.error("\u274c Inloggningsfel:",e)}));const Ey=e=>{let{children:t,...n}=e;return(0,o.jsx)("button",{...n,className:"bg-blue-500 text-white py-3 px-6 rounded-lg text-lg shadow-md hover:bg-blue-600 transition-all",children:t})},ky=e=>{let{children:t,onClick:n}=e;return(0,o.jsx)("div",{className:"bg-white shadow-lg rounded-xl p-4 mb-2 cursor-pointer hover:bg-gray-100 transition-all",onClick:n,children:t})},_y=e=>(0,o.jsx)("input",{...e,className:"border p-3 rounded-lg w-full text-lg"}),Iy=e=>{var t;let{user:n}=e;const[i,a]=(0,r.useState)(new Date),[s,l]=(0,r.useState)(new Date),[c,u]=(0,r.useState)({}),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[g,m]=(0,r.useState)(!1),[v,y]=(0,r.useState)(""),[b,w]=(0,r.useState)(""),[S,E]=(0,r.useState)(new Date),[k,_]=(0,r.useState)(!1),[I,T]=(0,r.useState)(null),C=((0,r.useRef)(null),async()=>{if(n&&n.uid)try{const e=await Ef(Ah(by,"tasks")),t={};e.forEach((e=>{const r=e.data();if(r.uid!==n.uid)return;const i=r.date;console.log("\ud83d\udd25 H\xe4mtad task:",r,"\ud83d\udcc5 Datum:",i),t[i]||(t[i]=[]),t[i].push({id:e.id,...r})})),console.log("\u2705 Loaded tasks f\xe4rdig:",t),u(t)}catch(e){console.error("\ud83d\udd25 Fel vid fetchTasks:",e.code,e.message)}});(0,r.useEffect)((()=>{n&&n.uid&&C()}),[n]);const x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;T(e),e?(h(e.task),p(e.activityTime||""),m(e.reminderEnabled),y(e.reminderDate||""),w(e.reminderTime||""),E(new Date(e.date))):(h(""),p(""),m(!1),y(""),w("")),_(!0)},D=()=>{_(!1),T(null)};return(0,o.jsxs)("div",{className:"p-10 bg-gray-100 min-h-screen flex flex-col items-center space-y-8",children:[(0,o.jsx)("h2",{className:"text-3xl font-bold",children:"Min Kalender"}),(0,o.jsxs)("div",{className:"w-full max-w-8xl bg-white p-8 rounded-xl shadow-lg",children:[(0,o.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,o.jsx)(Ey,{onClick:()=>{const e=new Date;l(e),E(e),a(new Date(e.getFullYear(),e.getMonth(),1)),_(!1)},children:"\ud83d\udcc5 Idag"}),(0,o.jsx)(Ey,{onClick:()=>x(),children:"\u2795 Ny"})]}),(0,o.jsx)(qt,{onChange:l,value:s,activeStartDate:i,onActiveStartDateChange:e=>{let{activeStartDate:t}=e;return a(t)},onClickDay:e=>{const t=e.toISOString().split("T")[0];c[t]&&(E(e),T(null),_(!0))},tileContent:e=>{let{date:t,view:n}=e;const r=t.toISOString().split("T")[0],i=c[r];return i&&0!==i.length?(0,o.jsx)("div",{className:"calendar-tasks",children:i.map(((e,t)=>{var n;return(0,o.jsxs)("div",{className:"calendar-task-preview",children:[null===(n=e.task)||void 0===n?void 0:n.slice(0,6),"..."]},t)}))}):null}})]}),k&&(0,o.jsx)("div",{className:"popup-overlay fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:(0,o.jsx)("div",{className:"popup bg-white p-6 rounded-xl shadow-lg w-96",children:I?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{className:"text-2xl font-bold text-center mb-4",children:"Redigera uppgift"}),(0,o.jsx)("label",{className:"block text-lg font-semibold",children:"Titel"}),(0,o.jsx)(_y,{value:d,onChange:e=>h(e.target.value)}),(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Start"}),(0,o.jsx)(_y,{type:"date",value:S.toISOString().split("T")[0],onChange:e=>E(new Date(e.target.value))}),(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Tid"}),(0,o.jsx)(_y,{type:"time",value:f,onChange:e=>p(e.target.value)}),(0,o.jsxs)("div",{className:"p-4 border border-gray-300 rounded-lg mb-4 bg-gray-100",children:[(0,o.jsx)("label",{className:"block font-semibold text-lg",children:"P\xe5minnelse"}),(0,o.jsxs)("label",{className:"flex items-center mb-2",children:[(0,o.jsx)("input",{type:"checkbox",checked:g,onChange:()=>m(!g),className:"mr-2"}),"L\xe4gg till p\xe5minnelse"]}),g&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{className:"block text-sm text-gray-600",children:"P\xe5minnelsedatum"}),(0,o.jsx)(_y,{type:"date",value:v,onChange:e=>y(e.target.value)}),(0,o.jsx)("label",{className:"block text-sm text-gray-600",children:"P\xe5minnelse klockslag"}),(0,o.jsx)(_y,{type:"time",value:b,onChange:e=>w(e.target.value)})]})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)(Ey,{onClick:D,children:"\u274c Avbryt"}),(0,o.jsx)(Ey,{onClick:async()=>{if(!d.trim())return;const e=S.toISOString().split("T")[0],t={task:d,date:e,activityTime:f,reminderEnabled:g,reminderDate:v,reminderTime:b,uid:n.uid};try{I&&await _f(Oh(by,"tasks",I.id)),await If(Ah(by,"tasks"),t),await C(),D()}catch(r){console.error("Fel vid sparning av uppgift:",r)}},children:"\u2714 Spara"}),(0,o.jsx)(Ey,{onClick:async()=>{if(I)try{await _f(Oh(by,"tasks",I.id)),u((e=>{const t={...e};return t[I.date]=t[I.date].filter((e=>e.id!==I.id)),t})),D()}catch(e){console.error("Fel vid radering av uppgift:",e)}},className:"mt-4 bg-red-500",children:"\ud83d\uddd1\ufe0f Ta bort"})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("h3",{className:"text-2xl font-bold text-center mb-4",children:["Uppgifter f\xf6r ",S.toISOString().split("T")[0]]}),null===(t=c[S.toISOString().split("T")[0]])||void 0===t?void 0:t.map((e=>(0,o.jsx)(ky,{onClick:()=>x(e),children:(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:e.task})," ",e.activityTime&&`- ${e.activityTime}`,e.reminderEnabled&&(0,o.jsx)("span",{children:" \u23f0"})]})},e.id))),(0,o.jsx)(Ey,{onClick:D,children:"St\xe4ng"})]})})})]})};var Ty=n(950);function Cy(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var xy=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Dy=()=>Math.random().toString(36).substring(7).split("").join("."),Ny={INIT:`@@redux/INIT${Dy()}`,REPLACE:`@@redux/REPLACE${Dy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dy()}`};function Ay(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Oy(e,t,n){if("function"!==typeof e)throw new Error(Cy(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Cy(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Cy(1));return n(Oy)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function c(){a===o&&(a=new Map,o.forEach(((e,t)=>{a.set(t,e)})))}function u(){if(l)throw new Error(Cy(3));return i}function d(e){if("function"!==typeof e)throw new Error(Cy(4));if(l)throw new Error(Cy(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(Cy(6));t=!1,c(),a.delete(n),o=null}}}function h(e){if(!Ay(e))throw new Error(Cy(7));if("undefined"===typeof e.type)throw new Error(Cy(8));if("string"!==typeof e.type)throw new Error(Cy(17));if(l)throw new Error(Cy(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=a).forEach((e=>{e()})),e}h({type:Ny.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Cy(10));r=e,h({type:Ny.REPLACE})},[xy]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Cy(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[xy](){return this}}}}}function Py(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t(e.apply(this,r))}}function Ry(e,t){if("function"===typeof e)return Py(e,t);if("object"!==typeof e||null===e)throw new Error(Cy(16));const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=Py(i,t))}return n}function Ly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}n(237);var My=r.version.startsWith("19"),Fy=Symbol.for(My?"react.transitional.element":"react.element"),jy=Symbol.for("react.portal"),Uy=Symbol.for("react.fragment"),Vy=Symbol.for("react.strict_mode"),By=Symbol.for("react.profiler"),zy=Symbol.for("react.consumer"),$y=Symbol.for("react.context"),Hy=Symbol.for("react.forward_ref"),Wy=Symbol.for("react.suspense"),qy=Symbol.for("react.suspense_list"),Gy=Symbol.for("react.memo"),Ky=Symbol.for("react.lazy"),Qy=Hy,Yy=Gy;function Xy(e){if("object"===typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case Fy:switch(e=e.type){case Uy:case By:case Vy:case Wy:case qy:return e;default:switch(e=e&&e.$$typeof){case $y:case Hy:case Ky:case Gy:case zy:return e;default:return t}}case jy:return t}}}function Jy(e,t,n,r,i){let o,a,s,l,c,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:h}=i,f=!1;function p(i,f){const p=!d(f,a),g=!u(i,o,f,a);return o=i,a=f,p&&g?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):g?function(){const t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,u){return f?p(i,u):(o=i,a=u,s=e(o,a),l=t(r,a),c=n(s,l,a),f=!0,c)}}function Zy(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function eb(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function tb(e,t){return function(t,n){let{displayName:r}=n;const i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=eb(e);let r=i(t,n);return"function"===typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=eb(r),r=i(t,n)),r},i}}function nb(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function rb(e,t,n){return{...n,...e,...t}}function ib(e){e()}var ob={notify(){},get:()=>[]};function ab(e,t){let n,r=ob,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ib((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=ob)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var sb=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),lb=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),cb=(()=>sb||lb?r.useLayoutEffect:r.useEffect)();function ub(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function db(e,t){if(ub(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!ub(e[n[i]],t[n[i]]))return!1;return!0}var hb={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},fb={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},pb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gb={[Qy]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[Yy]:pb};function mb(e){return Xy(e)===Gy?pb:gb[e.$$typeof]||hb}var vb=Object.defineProperty,yb=Object.getOwnPropertyNames,bb=Object.getOwnPropertySymbols,wb=Object.getOwnPropertyDescriptor,Sb=Object.getPrototypeOf,Eb=Object.prototype;function kb(e,t){if("string"!==typeof t){if(Eb){const n=Sb(t);n&&n!==Eb&&kb(e,n)}let r=yb(t);bb&&(r=r.concat(bb(t)));const i=mb(e),o=mb(t);for(let a=0;a<r.length;++a){const s=r[a];if(!fb[s]&&(!o||!o[s])&&(!i||!i[s])){const r=wb(t,s);try{vb(e,s,r)}catch(n){}}}}return e}var _b=Symbol.for("react-redux-context"),Ib="undefined"!==typeof globalThis?globalThis:{};function Tb(){if(!r.createContext)return{};const e=Ib[_b]??=new Map;let t=e.get(r.createContext);return t||(t=r.createContext(null),e.set(r.createContext,t)),t}var Cb=Tb(),xb=[null,null];function Db(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function Nb(e,t){return e===t}var Ab=function(e,t,n){let{pure:i,areStatesEqual:o=Nb,areOwnPropsEqual:a=db,areStatePropsEqual:s=db,areMergedPropsEqual:l=db,forwardRef:c=!1,context:u=Cb}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=u,h=function(e){return e?"function"===typeof e?tb(e):nb(e,"mapStateToProps"):Zy((()=>({})))}(e),f=function(e){return e&&"object"===typeof e?Zy((t=>function(e,t){const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=function(){return t(i(...arguments))})}return n}(e,t))):e?"function"===typeof e?tb(e):nb(e,"mapDispatchToProps"):Zy((e=>({dispatch:e})))}(t),p=function(e){return e?"function"===typeof e?function(e){return function(t,n){let r,{displayName:i,areMergedPropsEqual:o}=n,a=!1;return function(t,n,i){const s=e(t,n,i);return a?o(s,r)||(r=s):(a=!0,r=s),r}}}(e):nb(e,"mergeProps"):()=>rb}(n),g=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,i={shouldHandleStateChanges:g,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:h,initMapDispatchToProps:f,initMergeProps:p,areStatesEqual:o,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:l};function u(t){const[n,o,a]=r.useMemo((()=>{const{reactReduxForwardedRef:e,...n}=t;return[t.context,e,n]}),[t]),s=r.useMemo((()=>d),[n,d]),l=r.useContext(s),c=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),u=Boolean(l)&&Boolean(l.store);const h=c?t.store:l.store,f=u?l.getServerState:h.getState,p=r.useMemo((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i,...o}=t;return Jy(n(e,o),r(e,o),i(e,o),e,o)}(h.dispatch,i)),[h]),[m,v]=r.useMemo((()=>{if(!g)return xb;const e=ab(h,c?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,c,l]),y=r.useMemo((()=>c?l:{...l,subscription:m}),[c,l,m]),b=r.useRef(void 0),w=r.useRef(a),S=r.useRef(void 0),E=r.useRef(!1),k=r.useRef(!1),_=r.useRef(void 0);cb((()=>(k.current=!0,()=>{k.current=!1})),[]);const I=r.useMemo((()=>()=>S.current&&a===w.current?S.current:p(h.getState(),a)),[h,a]),T=r.useMemo((()=>e=>m?function(e,t,n,r,i,o,a,s,l,c,u){if(!e)return()=>{};let d=!1,h=null;const f=()=>{if(d||!s.current)return;const e=t.getState();let n,f;try{n=r(e,i.current)}catch(p){f=p,h=p}f||(h=null),n===o.current?a.current||c():(o.current=n,l.current=n,a.current=!0,u())};return n.onStateChange=f,n.trySubscribe(),f(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(g,h,m,p,w,b,E,k,S,v,e):()=>{}),[m]);var C,x,D;let N;C=Db,x=[w,b,E,a,S,v],cb((()=>C(...x)),D);try{N=r.useSyncExternalStore(T,I,f?()=>p(f(),a):I)}catch(O){throw _.current&&(O.message+=`\nThe error may be correlated with this previous error:\n${_.current.stack}\n\n`),O}cb((()=>{_.current=void 0,S.current=void 0,b.current=N}));const A=r.useMemo((()=>r.createElement(e,{...N,ref:o})),[o,e,N]);return r.useMemo((()=>g?r.createElement(s.Provider,{value:y},A):A),[s,A,y])}const m=r.memo(u);if(m.WrappedComponent=e,m.displayName=u.displayName=n,c){const t=r.forwardRef((function(e,t){return r.createElement(m,{...e,reactReduxForwardedRef:t})}));return t.displayName=n,t.WrappedComponent=e,kb(t,e)}return kb(m,e)}};var Ob=function(e){const{children:t,context:n,serverState:i,store:o}=e,a=r.useMemo((()=>{const e=ab(o);return{store:o,subscription:e,getServerState:i?()=>i:void 0}}),[o,i]),s=r.useMemo((()=>o.getState()),[o]);cb((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);const l=n||Cb;return r.createElement(l.Provider,{value:a},t)};var Pb="Invariant failed";var Rb=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},Lb=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Mb=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Fb={top:0,right:0,bottom:0,left:0},jb=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?Fb:n,i=e.border,o=void 0===i?Fb:i,a=e.padding,s=void 0===a?Fb:a,l=Rb(Lb(t,r)),c=Rb(Mb(t,o)),u=Rb(Mb(c,s));return{marginBox:l,borderBox:Rb(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:s}},Ub=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(Pb)}(!1),n},Vb=function(e,t){var n,r,i=e.borderBox,o=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return jb({borderBox:l,border:o,margin:a,padding:s})},Bb=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Vb(e,t)},zb=function(e,t){var n={top:Ub(t.marginTop),right:Ub(t.marginRight),bottom:Ub(t.marginBottom),left:Ub(t.marginLeft)},r={top:Ub(t.paddingTop),right:Ub(t.paddingRight),bottom:Ub(t.paddingBottom),left:Ub(t.paddingLeft)},i={top:Ub(t.borderTopWidth),right:Ub(t.borderRightWidth),bottom:Ub(t.borderBottomWidth),left:Ub(t.borderLeftWidth)};return jb({borderBox:e,margin:n,padding:r,border:i})},$b=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return zb(t,n)};const Hb=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wb.apply(null,arguments)}function qb(e,t){}qb.bind(null,"warn"),qb.bind(null,"error");function Gb(){}function Kb(e,t,n){const r=t.map((t=>{const r=function(e,t){return{...e,...t}}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}const Qb="Invariant failed";class Yb extends Error{}function Xb(e,t){throw new Yb(Qb)}Yb.prototype.toString=function(){return this.message};class Jb extends r.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=Gb,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof Yb&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=Kb(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof Yb))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Zb=e=>e+1,ew=(e,t)=>{const n=e.droppableId===t.droppableId,r=Zb(e.index),i=Zb(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${i}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${i}\n  `},tw=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,nw=e=>`\n  The item has returned to its starting position\n  of ${Zb(e.index)}\n`,rw={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${Zb(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return ew(e.source,t);const n=e.combine;return n?tw(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${nw(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${ew(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${tw(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${nw(e.source)}\n  `}};function iw(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(n=e[i],r=t[i],!(n===r||Number.isNaN(n)&&Number.isNaN(r)))return!1;var n,r;return!0}function ow(e,t){const n=(0,r.useState)((()=>({inputs:t,result:e()})))[0],i=(0,r.useRef)(!0),o=(0,r.useRef)(n),a=i.current||Boolean(t&&o.current.inputs&&iw(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,r.useEffect)((()=>{i.current=!1,o.current=a}),[a]),a.result}function aw(e,t){return ow((()=>e),t)}const sw={x:0,y:0},lw=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),cw=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),uw=(e,t)=>e.x===t.x&&e.y===t.y,dw=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),hw=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"x"===e?{x:t,y:n}:{x:n,y:t}},fw=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),pw=(e,t)=>Math.min(...t.map((t=>fw(e,t)))),gw=e=>t=>({x:e(t.x),y:e(t.y)});const mw=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),vw=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],yw=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=Rb({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):Rb(e);var bw=e=>{let{page:t,withPlaceholder:n,axis:r,frame:i}=e;const o=((e,t)=>t?mw(e,t.scroll.diff.displacement):e)(t.marginBox,i),a=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(o,r,n);return{page:t,withPlaceholder:n,active:yw(a,i)}},ww=(e,t)=>{e.frame||Xb();const n=e.frame,r=cw(t,n.scroll.initial),i=dw(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},a=bw({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:a}};function Sw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iw,n=null;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const Ew=Sw((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),kw=Sw((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),_w=Sw((e=>Object.values(e))),Iw=Sw((e=>Object.values(e)));var Tw=Sw(((e,t)=>{const n=Iw(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function Cw(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function xw(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Dw=Sw(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),Nw=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Aw={point:sw,value:0},Ow={invisible:{},visible:{},all:[]},Pw={displaced:Ow,displacedBy:Aw,at:null};var Rw=(e,t)=>n=>e<=n&&n<=t,Lw=e=>{const t=Rw(e.top,e.bottom),n=Rw(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;const a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;if(a&&s)return!0;return a&&o||s&&i}},Mw=e=>{const t=Rw(e.top,e.bottom),n=Rw(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const Fw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},jw={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const Uw=e=>{let{target:t,destination:n,viewport:r,withDroppableDisplacement:i,isVisibleThroughFrameFn:o}=e;const a=i?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:sw;return mw(e,n)})(t,n):t;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(a,n,o)&&((e,t,n)=>n(t)(e))(a,r,o)},Vw=e=>Uw({...e,isVisibleThroughFrameFn:Mw});function Bw(e){let{afterDragging:t,destination:n,displacedBy:r,viewport:i,forceShouldAnimate:o,last:a}=e;return t.reduce((function(e,t){const s=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Rb(Lb(n,r))}(t,r),l=t.descriptor.id;e.all.push(l);var c;if(!(c={target:s,destination:n,viewport:i,withDroppableDisplacement:!0},Uw({...c,isVisibleThroughFrameFn:Lw})))return e.invisible[t.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"===typeof n)return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return!o||o.shouldAnimate})(l,a,o),d={draggableId:l,shouldAnimate:u};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function zw(e){let{insideDestination:t,inHomeList:n,displacedBy:r,destination:i}=e;const o=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:Ow,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function $w(e){let{draggable:t,insideDestination:n,destination:r,viewport:i,displacedBy:o,last:a,index:s,forceShouldAnimate:l}=e;const c=Nw(t,r);if(null==s)return zw({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});const u=n.find((e=>e.descriptor.index===s));if(!u)return zw({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});const d=Dw(t,n),h=n.indexOf(u);return{displaced:Bw({afterDragging:d.slice(h),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Hw(e,t){return Boolean(t.effected[e])}var Ww=e=>{let{isMovingForward:t,isInHomeList:n,draggable:r,draggables:i,destination:o,insideDestination:a,previousImpact:s,viewport:l,afterCritical:c}=e;const u=s.at;if(u||Xb(),"REORDER"===u.type){const e=(e=>{let{isMovingForward:t,isInHomeList:n,insideDestination:r,location:i}=e;if(!r.length)return null;const o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a})({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==e?null:$w({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:e})}const d=(e=>{let{isMovingForward:t,destination:n,draggables:r,combine:i,afterCritical:o}=e;if(!n.isCombineEnabled)return null;const a=i.draggableId,s=r[a].descriptor.index;return Hw(a,o)?t?s:s-1:t?s+1:s})({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==d?null:$w({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},qw=e=>{let{afterCritical:t,impact:n,draggables:r}=e;const i=xw(n);i||Xb();const o=i.draggableId,a=r[o].page.borderBox.center,s=(e=>{let{displaced:t,afterCritical:n,combineWith:r,displacedBy:i}=e;const o=Boolean(t.visible[r]||t.invisible[r]);return Hw(r,n)?o?sw:dw(i.point):o?i.point:sw})({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return lw(a,s)};const Gw=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Kw=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,Qw=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return hw(t.line,n.marginBox[t.end]+Gw(t,r),Kw(t,n.marginBox,r))},Yw=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return hw(t.line,n.marginBox[t.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(t,r),Kw(t,n.marginBox,r))};var Xw=e=>{let{impact:t,draggable:n,draggables:r,droppable:i,afterCritical:o}=e;const a=Tw(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return(e=>{let{axis:t,moveInto:n,isMoving:r}=e;return hw(t.line,n.contentBox[t.start]+Gw(t,r),Kw(t,n.contentBox,r))})({axis:l,moveInto:i.page,isMoving:s});const{displaced:c,displacedBy:u}=t,d=c.all[0];if(d){const e=r[d];if(Hw(d,o))return Yw({axis:l,moveRelativeTo:e.page,isMoving:s});const t=Vb(e.page,u.point);return Yw({axis:l,moveRelativeTo:t,isMoving:s})}const h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Hw(h.descriptor.id,o)){const e=Vb(h.page,dw(o.displacedBy.point));return Qw({axis:l,moveRelativeTo:e,isMoving:s})}return Qw({axis:l,moveRelativeTo:h.page,isMoving:s})},Jw=(e,t)=>{const n=e.frame;return n?lw(t,n.scroll.diff.displacement):t};var Zw=e=>{const t=(e=>{let{impact:t,draggable:n,droppable:r,draggables:i,afterCritical:o}=e;const a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?Xw({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):qw({impact:t,draggables:i,afterCritical:o}):a})(e),n=e.droppable;return n?Jw(n,t):t},eS=(e,t)=>{const n=cw(t,e.scroll.initial),r=dw(n);return{frame:Rb({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function tS(e,t){return e.map((e=>t[e]))}var nS=e=>{let{pageBorderBoxCenter:t,draggable:n,viewport:r}=e;const i=((e,t)=>lw(e.scroll.diff.displacement,t))(r,t),o=cw(i,n.page.borderBox.center);return lw(n.client.borderBox.center,o)},rS=e=>{let{draggable:t,destination:n,newPageBorderBoxCenter:r,viewport:i,withDroppableDisplacement:o,onlyOnMainAxis:a=!1}=e;const s=cw(r,t.page.borderBox.center),l={target:mw(t.page.borderBox,s),destination:n,withDroppableDisplacement:o,viewport:i};return a?(e=>{return Uw({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=Rw(e.top,e.bottom),r=Rw(e.left,e.right);return e=>t===Fw?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(l):Vw(l)},iS=e=>{let{isMovingForward:t,draggable:n,destination:r,draggables:i,previousImpact:o,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:c}=e;if(!r.isEnabled)return null;const u=Tw(r.descriptor.id,i),d=Nw(n,r),h=(e=>{let{isMovingForward:t,draggable:n,destination:r,insideDestination:i,previousImpact:o}=e;if(!r.isCombineEnabled)return null;if(!Cw(o))return null;function a(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return{...o,at:t}}const s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;const c=Dw(n,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;const u=c.findIndex((e=>e.descriptor.id===l));-1===u&&Xb();const d=u-1;return d<0?null:a(c[d].descriptor.id)})({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||Ww({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!h)return null;const f=Zw({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(rS({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:nS({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null}}const p=cw(f,s),g=(e=>{let{impact:t,viewport:n,destination:r,draggables:i,maxScrollChange:o}=e;const a=eS(n,lw(n.scroll.current,o)),s=r.frame?ww(r,lw(r.frame.scroll.current,o)):r,l=t.displaced,c=Bw({afterDragging:tS(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=Bw({afterDragging:tS(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),{...t,displaced:{all:l.all,invisible:d,visible:h}}})({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:g,scrollJumpRequest:p}};const oS=e=>{const t=e.subject.active;return t||Xb(),t};const aS=(e,t)=>{const n=e.page.borderBox.center;return Hw(e.descriptor.id,t)?cw(n,t.displacedBy.point):n},sS=(e,t)=>{const n=e.page.borderBox;return Hw(e.descriptor.id,t)?mw(n,dw(t.displacedBy.point)):n};var lS=Sw((function(e,t){const n=t[e.line];return{value:n,point:hw(e.line,n)}}));const cS=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),uS=(e,t,n)=>{const r=e.frame;Nw(t,e)&&Xb(),e.subject.withPlaceholder&&Xb();const i=lS(e.axis,t.displaceBy).point,o=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return hw(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],o=Tw(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0),a=o+t[r.line]-i;return a<=0?null:hw(r.line,a)})(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=bw({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:t}}const s=o?lw(r.scroll.max,o):r.scroll.max,l=cS(r,s),c=bw({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var dS=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:n,draggable:r,isOver:i,draggables:o,droppables:a,viewport:s,afterCritical:l}=e;const c=(e=>{let{isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:i,viewport:o}=e;const a=r.subject.active;if(!a)return null;const s=r.axis,l=Rw(a[s.start],a[s.end]),c=_w(i).filter((e=>e!==r)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>Lw(o.frame)(oS(e)))).filter((e=>{const n=oS(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((e=>{const t=oS(e),n=Rw(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort(((e,n)=>{const r=oS(e)[s.crossAxisStart],i=oS(n)[s.crossAxisStart];return t?r-i:i-r})).filter(((e,t,n)=>oS(e)[s.crossAxisStart]===oS(n[0])[s.crossAxisStart]));if(!c.length)return null;if(1===c.length)return c[0];const u=c.filter((e=>Rw(oS(e)[s.start],oS(e)[s.end])(n[s.line])));return 1===u.length?u[0]:u.length>1?u.sort(((e,t)=>oS(e)[s.start]-oS(t)[s.start]))[0]:c.sort(((e,t)=>{const r=pw(n,vw(oS(e))),i=pw(n,vw(oS(t)));return r!==i?r-i:oS(e)[s.start]-oS(t)[s.start]}))[0]})({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;const u=Tw(c.descriptor.id,o),d=(e=>{let{pageBorderBoxCenter:t,viewport:n,destination:r,insideDestination:i,afterCritical:o}=e;const a=i.filter((e=>Vw({target:sS(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0}))).sort(((e,n)=>{const i=fw(t,Jw(r,aS(e,o))),a=fw(t,Jw(r,aS(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null})({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=(e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:n,insideDestination:r,draggable:i,draggables:o,destination:a,viewport:s,afterCritical:l}=e;if(!n){if(r.length)return null;const e={displaced:Ow,displacedBy:Aw,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},t=Zw({impact:e,draggable:i,droppable:a,draggables:o,afterCritical:l}),n=Nw(i,a)?a:uS(a,i,o);return rS({draggable:i,destination:n,newPageBorderBoxCenter:t,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const c=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),u=(()=>{const e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||c?e:e+1})(),d=lS(a.axis,i.displaceBy);return $w({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:d,last:Ow,index:u})})({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;const f=Zw({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:nS({pageBorderBoxCenter:f,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},hS=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var fS=e=>{let{state:t,type:n}=e;const r=((e,t)=>{const n=hS(e);return n?t[n]:null})(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;const c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:f}=t.dimensions;return l?iS({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):dS({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:h,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function pS(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function gS(e){const t=Rw(e.top,e.bottom),n=Rw(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function mS(e){let{pageBorderBox:t,draggable:n,droppables:r}=e;const i=_w(r).filter((e=>{if(!e.isEnabled)return!1;const n=e.subject.active;if(!n)return!1;if(i=n,!((r=t).left<i.right&&r.right>i.left&&r.top<i.bottom&&r.bottom>i.top))return!1;var r,i;if(gS(n)(t.center))return!0;const o=e.axis,a=n.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=Rw(n[o.crossAxisStart],n[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){let{pageBorderBox:t,draggable:n,candidates:r}=e;const i=n.page.borderBox.center,o=r.map((e=>{const n=e.axis,r=hw(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:fw(i,r)}})).sort(((e,t)=>t.distance-e.distance));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}const vS=(e,t)=>Rb(mw(e,t));function yS(e){let{displaced:t,id:n}=e;return Boolean(t.visible[n]||t.invisible[n])}var bS=e=>{let{pageOffset:t,draggable:n,draggables:r,droppables:i,previousImpact:o,viewport:a,afterCritical:s}=e;const l=vS(n.page.borderBox,t),c=mS({pageBorderBox:l,draggable:n,droppables:i});if(!c)return Pw;const u=i[c],d=Tw(u.descriptor.id,r),h=((e,t)=>{const n=e.frame;return n?vS(t,n.scroll.diff.value):t})(u,l);return(e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:i,insideDestination:o,afterCritical:a}=e;if(!i.isCombineEnabled)return null;const s=i.axis,l=lS(i.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=Dw(t,o).find((e=>{const t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=Hw(t,a),l=yS({displaced:r.displaced,id:t});return o?l?d>n[s.start]+i&&d<n[s.end]-i:u>n[s.start]-c+i&&u<n[s.end]-c-i:l?d>n[s.start]+c+i&&d<n[s.end]+c-i:u>n[s.start]+i&&u<n[s.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||(e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:n,destination:r,insideDestination:i,last:o,viewport:a,afterCritical:s}=e;const l=r.axis,c=lS(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=function(e){let{draggable:t,closest:n,inHomeList:r}=e;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:Dw(n,i).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Hw(t,s),i=yS({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n}))||null,inHomeList:Nw(n,r)});return $w({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:f})})({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},wS=(e,t)=>({...e,[t.descriptor.id]:t});const SS=e=>{let{previousImpact:t,impact:n,droppables:r}=e;const i=hS(t),o=hS(n);if(!i)return r;if(i===o)return r;const a=r[i];if(!a.subject.withPlaceholder)return r;const s=(e=>{const t=e.subject.withPlaceholder;t||Xb();const n=e.frame;if(!n){const t=bw({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||Xb();const i=cS(n,r),o=bw({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}})(a);return wS(r,s)};var ES=e=>{let{state:t,clientSelection:n,dimensions:r,viewport:i,impact:o,scrollJumpRequest:a}=e;const s=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=cw(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:lw(t.initial.client.borderBoxCenter,u)},h={selection:lw(d.selection,s.scroll.current),borderBoxCenter:lw(d.borderBoxCenter,s.scroll.current),offset:lw(d.offset,s.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return{...t,dimensions:l,viewport:s,current:f};const p=l.draggables[t.critical.draggable.id],g=o||bS({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=(e=>{let{draggable:t,draggables:n,droppables:r,previousImpact:i,impact:o}=e;const a=SS({previousImpact:i,impact:o,droppables:r}),s=hS(o);if(!s)return a;const l=r[s];if(Nw(t,l))return a;if(l.subject.withPlaceholder)return a;const c=uS(l,t,n);return wS(a,c)})({draggable:p,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:f,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null}};var kS=e=>{let{impact:t,viewport:n,draggables:r,destination:i,forceShouldAnimate:o}=e;const a=t.displaced,s=function(e,t){return e.map((e=>t[e]))}(a.all,r),l=Bw({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return{...t,displaced:l}},_S=e=>{let{impact:t,draggable:n,droppable:r,draggables:i,viewport:o,afterCritical:a}=e;const s=Zw({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return nS({pageBorderBoxCenter:s,draggable:n,viewport:o})},IS=e=>{let{state:t,dimensions:n,viewport:r}=e;"SNAP"!==t.movementMode&&Xb();const i=t.impact,o=r||t.viewport,a=n||t.dimensions,{draggables:s,droppables:l}=a,c=s[t.critical.draggable.id],u=hS(i);u||Xb();const d=l[u],h=kS({impact:i,viewport:o,destination:d,draggables:s}),f=_S({impact:h,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return ES({impact:h,clientSelection:f,state:t,dimensions:a,viewport:o})},TS=e=>{let{draggable:t,home:n,draggables:r,viewport:i}=e;const o=lS(n.axis,t.displaceBy),a=Tw(n.descriptor.id,r),s=a.indexOf(t);-1===s&&Xb();const l=a.slice(s+1),c=l.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),u={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:c};var d;return{impact:{displaced:Bw({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(d=t.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:u}};const CS=e=>{0},xS=e=>{0};var DS=e=>{let{additions:t,updatedDroppables:n,viewport:r}=e;const i=r.scroll.diff.value;return t.map((e=>{const t=e.descriptor.droppableId,o=(e=>{const t=e.frame;return t||Xb(),t})(n[t]),a=o.scroll.diff.value,s=(e=>{let{draggable:t,offset:n,initialWindowScroll:r}=e;const i=Vb(t.client,n),o=Bb(i,r);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:o}})({draggable:e,offset:lw(i,a),initialWindowScroll:r.scroll.initial});return s}))};const NS=e=>"SNAP"===e.movementMode,AS=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:wS(e.droppables,t)}))(e.dimensions,t);return!NS(e)||n?ES({state:e,dimensions:r}):IS({state:e,dimensions:r})};function OS(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const PS={phase:"IDLE",completed:null,shouldFlush:!1};var RS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PS,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return{...PS,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Xb();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:a}=t.payload,s=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:sw},u={client:c,page:{selection:lw(c.selection,i.scroll.initial),borderBoxCenter:lw(c.selection,i.scroll.initial),offset:lw(c.selection,i.scroll.diff.value)}},d=_w(o.droppables).every((e=>!e.isFixedOnPage)),{impact:h,afterCritical:f}=TS({draggable:s,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:o,initial:u,current:u,isWindowScrollAllowed:d,impact:h,afterCritical:f,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Xb();return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Xb(),(e=>{let{state:t,published:n}=e;CS();const r=n.modified.map((e=>{const n=t.dimensions.droppables[e.droppableId];return ww(n,e.scroll)})),i={...t.dimensions.droppables,...Ew(r)},o=kw(DS({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a={...t.dimensions.draggables,...o};n.removals.forEach((e=>{delete a[e]}));const s={droppables:i,draggables:a},l=hS(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],{impact:h,afterCritical:f}=TS({draggable:u,home:d,draggables:a,viewport:t.viewport}),p=c&&c.isCombineEnabled?t.impact:h,g=bS({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:p,viewport:t.viewport,afterCritical:f});xS();const m={...t,phase:"DRAGGING",impact:g,onLiftImpact:h,dimensions:s,afterCritical:f,forceShouldAnimate:!1};return"COLLECTING"===t.phase?m:{...m,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;pS(e)||Xb();const{client:n}=t.payload;return uw(n,e.current.client.selection)?e:ES({state:e,clientSelection:n,impact:NS(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return OS(e);if("COLLECTING"===e.phase)return OS(e);pS(e)||Xb();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=ww(i,r);return AS(e,o,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;pS(e)||Xb();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Xb(),i.isEnabled===r&&Xb();const o={...i,isEnabled:r};return AS(e,o,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;pS(e)||Xb();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Xb(),i.isCombineEnabled===r&&Xb();const o={...i,isCombineEnabled:r};return AS(e,o,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;pS(e)||Xb(),e.isWindowScrollAllowed||Xb();const n=t.payload.newScroll;if(uw(e.viewport.scroll.current,n))return OS(e);const r=eS(e.viewport,n);return NS(e)?IS({state:e,viewport:r}):ES({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!pS(e))return e;const n=t.payload.maxScroll;if(uw(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Xb();const n=fS({state:e,type:t.type});return n?ES({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&Xb();return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Xb();return{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function LS(e,t){return e instanceof Object&&"type"in e&&e.type===t}const MS=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),FS=()=>({type:"COLLECTION_STARTING",payload:null}),jS=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),US=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),VS=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),BS=e=>({type:"MOVE",payload:e}),zS=()=>({type:"MOVE_UP",payload:null}),$S=()=>({type:"MOVE_DOWN",payload:null}),HS=()=>({type:"MOVE_RIGHT",payload:null}),WS=()=>({type:"MOVE_LEFT",payload:null}),qS=e=>({type:"DROP_COMPLETE",payload:e}),GS=e=>({type:"DROP",payload:e}),KS=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const QS="cubic-bezier(.2,1,.1,1)",YS={drop:0,combining:.7},XS={drop:.75},JS={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ZS=`${JS.outOfTheWay}s ${"cubic-bezier(0.2, 0, 0, 1)"}`,eE={fluid:`opacity ${ZS}`,snap:`transform ${ZS}, opacity ${ZS}`,drop:e=>{const t=`${e}s ${QS}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${ZS}`,placeholder:`height ${ZS}, width ${ZS}, margin ${ZS}`},tE=e=>uw(e,sw)?void 0:`translate(${e.x}px, ${e.y}px)`,nE=tE,rE=(e,t)=>{const n=tE(e);if(n)return t?`${n} scale(${XS.drop})`:n},{minDropTime:iE,maxDropTime:oE}=JS,aE=oE-iE;const sE=e=>{let{getState:t,dispatch:n}=e;return e=>r=>{if(!LS(r,"DROP"))return void e(r);const i=t(),o=r.payload.reason;if("COLLECTING"===i.phase)return void n((e=>({type:"DROP_PENDING",payload:e}))({reason:o}));if("IDLE"===i.phase)return;"DROP_PENDING"===i.phase&&i.isWaiting&&Xb(),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&Xb();const a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],{impact:c,didDropInsideDroppable:u}=(e=>{let{draggables:t,reason:n,lastImpact:r,home:i,viewport:o,onLiftImpact:a}=e;if(!r.at||"DROP"!==n)return{impact:kS({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Ow},didDropInsideDroppable:!0}})({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=u?Cw(c):null,h=u?xw(c):null,f={index:a.draggable.index,droppableId:a.droppable.id},p={draggableId:l.descriptor.id,type:l.descriptor.type,source:f,reason:o,mode:i.movementMode,destination:d,combine:h},g=(e=>{let{impact:t,draggable:n,dimensions:r,viewport:i,afterCritical:o}=e;const{draggables:a,droppables:s}=r,l=hS(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=_S({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i});return cw(d,n.client.borderBox.center)})({impact:c,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),m={critical:i.critical,afterCritical:i.afterCritical,result:p,impact:c};if(!(!uw(i.current.client.offset,g)||Boolean(p.combine)))return void n(qS({completed:m}));const v=(e=>{let{current:t,destination:n,reason:r}=e;const i=fw(t,n);if(i<=0)return iE;if(i>=1500)return oE;const o=iE+aE*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))})({current:i.current.client.offset,destination:g,reason:o});n((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:g,dropDuration:v,completed:m}))}};var lE=()=>({x:window.pageXOffset,y:window.pageYOffset});function cE(e){let{onWindowScroll:t}=e;const n=Hb((function(){t(lE())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(n);let i=Gb;function o(){return i!==Gb}return{start:function(){o()&&Xb(),i=Kb(window,[r])},stop:function(){o()||Xb(),n.cancel(),i(),i=Gb},isActive:o}}const uE=e=>{const t=cE({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&LS(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>LS(e,"DROP_COMPLETE")||LS(e,"DROP_ANIMATE")||LS(e,"FLUSH"))(n)&&t.stop(),e(n)}};var dE=()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&Xb();const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}};const hE=(e,t)=>{CS(),t(),xS()},fE=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function pE(e,t,n,r){if(!e)return void n(r(t));const i=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),i=i=>{t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=()=>t,i})(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var gE=(e,t)=>{const n=((e,t)=>{const n=dE();let r=null;const i=n=>{r||Xb(),r=null,hE(0,(()=>pE(e().onDragEnd,n,t,rw.onDragEnd)))};return{beforeCapture:(t,n)=>{r&&Xb(),hE(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&Xb(),hE(0,(()=>{const r=e().onBeforeDragStart;r&&r(fE(t,n))}))},start:(i,o)=>{r&&Xb();const a=fE(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((()=>{hE(0,(()=>pE(e().onDragStart,a,t,rw.onDragStart)))}))},update:(i,o)=>{const a=Cw(o),s=xw(o);r||Xb();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(i,r.lastCritical);l&&(r.lastCritical=i);const c=(d=a,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));var u,d;c&&(r.lastLocation=a);const h=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,s);if(h&&(r.lastCombine=s),!l&&!c&&!h)return;const f={...fE(i,r.mode),combine:s,destination:a};n.add((()=>{hE(0,(()=>pE(e().onDragUpdate,f,t,rw.onDragUpdate)))}))},flush:()=>{r||Xb(),n.flush()},drop:i,abort:()=>{if(!r)return;const e={...fE(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};i(e)}}})(e,t);return e=>t=>r=>{if(LS(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(LS(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(LS(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),LS(r,"FLUSH"))return void n.abort();const i=e.getState();"DRAGGING"===i.phase&&n.update(i.critical,i.impact)}};const mE=e=>t=>n=>{if(!LS(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&Xb(),e.dispatch(qS({completed:r.completed}))},vE=e=>{let t=null,n=null;return r=>i=>{if((LS(i,"FLUSH")||LS(i,"DROP_COMPLETE")||LS(i,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),!LS(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=Kb(window,[o])}))}};var yE=e=>t=>n=>r=>{if((e=>LS(e,"DROP_COMPLETE")||LS(e,"DROP_ANIMATE")||LS(e,"FLUSH"))(r))return e.stop(),void n(r);if(LS(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();return"DRAGGING"!==i.phase&&Xb(),void e.start(i)}n(r),e.scroll(t.getState())};const bE=e=>t=>n=>{if(t(n),!LS(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(GS({reason:r.reason})))},wE=Ly;var SE=e=>{let{dimensionMarshal:t,focusMarshal:n,styleMarshal:r,getResponders:i,announce:o,autoScroller:a}=e;return Oy(RS,wE(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Cy(15))};const a={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},s=t.map((e=>e(a)));return o=Ly(...s)(i.dispatch),{...i,dispatch:o}}}((s=r,()=>e=>t=>{LS(t,"INITIAL_PUBLISH")&&s.dragging(),LS(t,"DROP_ANIMATE")&&s.dropping(t.payload.completed.result.reason),(LS(t,"FLUSH")||LS(t,"DROP_COMPLETE"))&&s.resting(),e(t)}),(e=>()=>t=>n=>{(LS(n,"DROP_COMPLETE")||LS(n,"FLUSH")||LS(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(t),(e=>t=>{let{getState:n,dispatch:r}=t;return t=>i=>{if(!LS(i,"LIFT"))return void t(i);const{id:o,clientSelection:a,movementMode:s}=i.payload,l=n();"DROP_ANIMATING"===l.phase&&r(qS({completed:l.completed})),"IDLE"!==n().phase&&Xb(),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:s}});const c={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:u,dimensions:d,viewport:h}=e.startPublishing(c);r({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:d,clientSelection:a,movementMode:s,viewport:h}})}})(t),sE,mE,vE,bE,yE(a),uE,(e=>{let t=!1;return()=>n=>r=>{if(LS(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(LS(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(LS(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(n),gE(i,o))));var s};var EE=e=>{let{scrollHeight:t,scrollWidth:n,height:r,width:i}=e;const o=cw({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},kE=()=>{const e=document.documentElement;return e||Xb(),e},_E=()=>{const e=kE();return EE({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},IE=e=>{let{critical:t,scrollOptions:n,registry:r}=e;CS();const i=(()=>{const e=lE(),t=_E(),n=e.y,r=e.x,i=kE(),o=i.clientWidth,a=i.clientHeight;return{frame:Rb({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:sw,displacement:sw}}}})(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((e=>e.callbacks.getDimensionAndWatchScroll(o,n))),l=r.draggable.getAllByType(t.draggable.type).map((e=>e.getDimension(o))),c={draggables:kw(l),droppables:Ew(s)};xS();return{dimensions:c,critical:t,viewport:i}};function TE(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var CE=(e,t)=>{let n=null;const r=function(e){let{registry:t,callbacks:n}=e,r={additions:{},removals:{},modified:{}},i=null;const o=()=>{i||(n.collectionStarting(),i=requestAnimationFrame((()=>{i=null,CS();const{additions:e,removals:o,modified:a}=r,s=Object.keys(e).map((e=>t.draggable.getById(e).getDimension(sw))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(a).map((e=>({droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}))),c={additions:s,removals:Object.keys(o),modified:l};r={additions:{},removals:{},modified:{}},xS(),n.publish(c)})))};return{add:e=>{const t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:e=>{const t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=t=>{n||Xb();const i=n.critical.draggable;"ADDITION"===t.type&&TE(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&TE(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:(r,i)=>{e.droppable.exists(r)||Xb(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:(r,i)=>{n&&(e.droppable.exists(r)||Xb(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,i)=>{n&&(e.droppable.exists(r)||Xb(),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:t=>{n&&Xb();const r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},IE({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}};return o},xE=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),DE=e=>{window.scrollBy(e.x,e.y)};const NE=Sw((e=>_w(e).filter((e=>!!e.isEnabled&&!!e.frame))));var AE=e=>{let{center:t,destination:n,droppables:r}=e;if(n){const e=r[n];return e.frame?e:null}const i=((e,t)=>{const n=NE(t).find((t=>(t.frame||Xb(),gS(t.frame.pageMarginBox)(e))))||null;return n})(t,r);return i};const OE={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var PE=e=>{let{startOfRange:t,endOfRange:n,current:r}=e;const i=n-t;if(0===i)return 0;return(r-t)/i},RE=e=>{let{distanceToEdge:t,thresholds:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o}=e;const a=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>OE)();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const r=1-PE({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=n.maxPixelScroll*n.ease(r);return Math.ceil(i)}(t,n,o);return 0===a?0:i?Math.max(((e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,a=t,s=o,l=Date.now()-a;if(l>=o)return e;if(l<i)return 1;const c=PE({startOfRange:i,endOfRange:s,current:l}),u=e*r.ease(c);return Math.ceil(u)})(a,r,o),1):a},LE=e=>{let{container:t,distanceToEdges:n,dragStartTime:r,axis:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=function(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>OE)();return{startScrollingFrom:e[t.size]*n.startFromPercentage,maxScrollValueAt:e[t.size]*n.maxScrollAtPercentage}}(t,i,a);return n[i.end]<n[i.start]?RE({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*RE({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})};const ME=gw((e=>0===e?0:e));var FE=e=>{let{dragStartTime:t,container:n,subject:r,center:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},l=LE({container:n,distanceToEdges:s,dragStartTime:t,axis:Fw,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),c=LE({container:n,distanceToEdges:s,dragStartTime:t,axis:jw,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),u=ME({x:c,y:l});if(uw(u,sw))return null;const d=(e=>{let{container:t,subject:n,proposedScroll:r}=e;const i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r})({container:n,subject:r,proposedScroll:u});return d?uw(d,sw)?null:d:null};const jE=gw((e=>0===e?0:e>0?1:-1)),UE=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return t=>{let{current:n,max:r,change:i}=t;const o=lw(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return uw(a,sw)?null:a}})(),VE=e=>{let{max:t,current:n,change:r}=e;const i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=jE(r),a=UE({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},BE=(e,t)=>VE({current:e.scroll.current,max:e.scroll.max,change:t}),zE=(e,t)=>{const n=e.frame;return!!n&&VE({current:n.scroll.current,max:n.scroll.max,change:t})};var $E=e=>{let{state:t,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:i,scrollDroppable:o,getAutoScrollerOptions:a}=e;const s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const e=(e=>{let{viewport:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=FE({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return s&&BE(t,s)?s:null})({dragStartTime:n,viewport:t.viewport,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(e)return void i(e)}const c=AE({center:s,destination:hS(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=(e=>{let{droppable:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a}=e;const s=t.frame;if(!s)return null;const l=FE({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return l&&zE(t,l)?l:null})({dragStartTime:n,droppable:c,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:a});u&&o(c.descriptor.id,u)},HE=e=>{let{move:t,scrollDroppable:n,scrollWindow:r}=e;const i=(e,t)=>{if(!zE(e,t))return t;const r=((e,t)=>{const n=e.frame;return n&&zE(e,t)?UE({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,t);if(!r)return n(e.descriptor.id,t),null;const i=cw(t,r);n(e.descriptor.id,i);return cw(t,i)},o=(e,t,n)=>{if(!e)return n;if(!BE(t,n))return n;const i=((e,t)=>{if(!BE(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return UE({current:r,max:n,change:t})})(t,n);if(!i)return r(n),null;const o=cw(n,i);r(o);return cw(n,o)};return e=>{const n=e.scrollJumpRequest;if(!n)return;const r=hS(e.impact);r||Xb();const a=i(e.dimensions.droppables[r],n);if(!a)return;const s=e.viewport,l=o(e.isWindowScrollAllowed,s,a);l&&((e,n)=>{const r=lw(e.current.client.selection,n);t({client:r})})(e,l)}},WE=e=>{let{scrollDroppable:t,scrollWindow:n,move:r,getAutoScrollerOptions:i}=e;const o=(e=>{let{scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:r=()=>OE}=e;const i=Hb(t),o=Hb(n);let a=null;const s=e=>{a||Xb();const{shouldUseTimeDampening:t,dragStartTime:n}=a;$E({state:e,scrollWindow:i,scrollDroppable:o,dragStartTime:n,shouldUseTimeDampening:t,getAutoScrollerOptions:r})};return{start:e=>{CS(),a&&Xb();const t=Date.now();let n=!1;const i=()=>{n=!0};$E({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:i,scrollDroppable:i,getAutoScrollerOptions:r}),a={dragStartTime:t,shouldUseTimeDampening:n},xS(),n&&s(e)},stop:()=>{a&&(i.cancel(),o.cancel(),a=null)},scroll:s}})({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:i}),a=HE({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:e=>{i().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):o.scroll(e))},start:o.start,stop:o.stop}};const qE="data-rfd",GE=(()=>{const e=`${qE}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),KE=(()=>{const e=`${qE}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),QE=(()=>{const e=`${qE}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),YE={contextId:`${qE}-scroll-container-context-id`},XE=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" ");const JE="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,ZE=()=>{const e=document.querySelector("head");return e||Xb(),e},ek=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function tk(e,t){const n=ow((()=>(e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(GE.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),i=[(()=>{const e=`\n      transition: ${eE.outOfTheWay};\n    `;return{selector:t(KE.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(QE.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:XE(i,"always"),resting:XE(i,"resting"),dragging:XE(i,"dragging"),dropAnimating:XE(i,"dropAnimating"),userCancel:XE(i,"userCancel")}})(e)),[e]),i=(0,r.useRef)(null),o=(0,r.useRef)(null),a=aw(Sw((e=>{const t=o.current;t||Xb(),t.textContent=e})),[]),s=aw((e=>{const t=i.current;t||Xb(),t.textContent=e}),[]);JE((()=>{(i.current||o.current)&&Xb();const r=ek(t),l=ek(t);return i.current=r,o.current=l,r.setAttribute(`${qE}-always`,e),l.setAttribute(`${qE}-dynamic`,e),ZE().appendChild(r),ZE().appendChild(l),s(n.always),a(n.resting),()=>{const e=e=>{const t=e.current;t||Xb(),ZE().removeChild(t),e.current=null};e(i),e(o)}}),[t,s,a,n.always,n.resting,e]);const l=aw((()=>a(n.dragging)),[a,n.dragging]),c=aw((e=>{a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=aw((()=>{o.current&&a(n.resting)}),[a,n.resting]);return ow((()=>({dragging:l,dropping:c,resting:u})),[l,c,u])}function nk(e,t){return Array.from(e.querySelectorAll(t))}var rk=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function ik(e){return e instanceof rk(e).HTMLElement}function ok(e,t){const n=`[${GE.contextId}="${e}"]`,r=nk(document,n);if(!r.length)return null;const i=r.find((e=>e.getAttribute(GE.draggableId)===t));return i&&ik(i)?i:null}function ak(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||Xb(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=i(e);return t||Xb(),t},findById:i,exists:e=>Boolean(i(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var sk=r.createContext(null),lk=()=>{const e=document.body;return e||Xb(),e};const ck={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const uk={separator:"::"};function dk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uk;const n=r.useId();return ow((()=>`${e}${t.separator}${n}`),[t.separator,e,n])}var hk=r.createContext(null);function fk(e){0}function pk(e,t){fk()}function gk(){pk()}function mk(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e})),t}function vk(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const yk=9,bk=13,wk=33,Sk=34,Ek=35,kk=36,_k={[bk]:!0,[yk]:!0};var Ik=e=>{_k[e.keyCode]&&e.preventDefault()};const Tk=(()=>{const e="visibilitychange";if("undefined"===typeof document)return e;return[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})();const Ck={type:"IDLE"};function xk(e){let{cancel:t,completed:n,getPhase:r,setPhase:i}=e;return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:n,clientY:o}=e;if(0!==t)return;const a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&Xb();const l=s.point;if(c=l,u=a,!(Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5))return;var c,u;e.preventDefault();const d=s.actions.fluidLift(a);i({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:e=>{"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:e=>{if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Ik(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:e=>{const n=r();"IDLE"===n.type&&Xb(),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Tk,fn:t}]}function Dk(){}const Nk={[Sk]:!0,[wk]:!0,[kk]:!0,[Ek]:!0};function Ak(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Nk[r.keyCode]?r.preventDefault():Ik(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Tk,fn:n}]}const Ok={type:"IDLE"};const Pk=["input","button","textarea","select","option","optgroup","video","audio"];function Rk(e,t){if(null==t)return!1;if(Pk.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&Rk(e,t.parentElement)}function Lk(e,t){const n=t.target;return!!ik(n)&&Rk(e,n)}var Mk=e=>Rb(e.getBoundingClientRect()).center;const Fk=(()=>{const e="matches";if("undefined"===typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function jk(e,t){return null==e?null:e[Fk](t)?e:jk(e.parentElement,t)}function Uk(e,t){return e.closest?e.closest(t):jk(e,t)}function Vk(e,t){const n=t.target;if(!((r=n)instanceof rk(r).Element))return null;var r;const i=function(e){return`[${GE.contextId}="${e}"]`}(e),o=Uk(n,i);return o&&ik(o)?o:null}function Bk(e){e.preventDefault()}function zk(e){let{expected:t,phase:n,isLockActive:r,shouldWarn:i}=e;return!!r()&&t===n}function $k(e){let{lockAPI:t,store:n,registry:r,draggableId:i}=e;if(t.isClaimed())return!1;const o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!xE(n.getState(),i))}function Hk(e){let{lockAPI:t,contextId:n,store:r,registry:i,draggableId:o,forceSensorStop:a,sourceEvent:s}=e;if(!$k({lockAPI:t,store:r,registry:i,draggableId:o}))return null;const l=i.draggable.getById(o),c=function(e,t){const n=`[${KE.contextId}="${e}"]`,r=nk(document,n).find((e=>e.getAttribute(KE.id)===t));return r&&ik(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&Lk(c,s))return null;const u=t.claim(a||Gb);let d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}const p=function(e,t){zk({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),d="COMPLETED"}function i(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),i.shouldBlockNextClick){const e=Kb(window,[{eventName:"click",fn:Bk,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}n(),r.dispatch(GS({reason:t}))}return"PRE_DRAG"!==d&&(n(),Xb()),r.dispatch((e=>({type:"LIFT",payload:e}))(e.liftActionArgs)),d="DRAGGING",{isActive:()=>zk({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,drop:e=>i("DROP",e),cancel:e=>i("CANCEL",e),...e.actions}}const m={isActive:()=>zk({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:function(e){const t=Hb((e=>{p((()=>BS({client:e})))}));return{...g({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>p(zS),moveRight:()=>p(HS),moveDown:()=>p($S),moveLeft:()=>p(WS)};return g({liftActionArgs:{id:o,clientSelection:Mk(c),movementMode:"SNAP"},cleanup:Gb,actions:e})},abort:function(){zk({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return m}const Wk=[function(e){const t=(0,r.useRef)(Ck),n=(0,r.useRef)(Gb),i=ow((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const i=e.tryGetLock(r,s,{sourceEvent:t});if(!i)return;t.preventDefault();const o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}})),[e]),o=ow((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),a=aw((function(){n.current=Kb(window,[o,i],{passive:!1,capture:!0})}),[o,i]),s=aw((()=>{"IDLE"!==t.current.type&&(t.current=Ck,n.current(),a())}),[a]),l=aw((()=>{const e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=aw((function(){const e=xk({cancel:l,completed:s,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=Kb(window,e,{capture:!0,passive:!1})}),[l,s]),u=aw((function(e,n){"IDLE"!==t.current.type&&Xb(),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);JE((function(){return a(),function(){n.current()}}),[a])},function(e){const t=(0,r.useRef)(Dk),n=ow((()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const r=e.findClosestDraggableId(n);if(!r)return;const o=e.tryGetLock(r,l,{sourceEvent:n});if(!o)return;n.preventDefault();let a=!0;const s=o.snapLift();function l(){a||Xb(),a=!1,t.current(),i()}t.current(),t.current=Kb(window,Ak(s,l),{capture:!0,passive:!1})}})),[e]),i=aw((function(){t.current=Kb(window,[n],{passive:!1,capture:!0})}),[n]);JE((function(){return i(),function(){t.current()}}),[i])},function(e){const t=(0,r.useRef)(Ok),n=(0,r.useRef)(Gb),i=aw((function(){return t.current}),[]),o=aw((function(e){t.current=e}),[]),a=ow((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const i=e.tryGetLock(r,l,{sourceEvent:t});if(!i)return;const o=t.touches[0],{clientX:a,clientY:s}=o,c={x:a,y:s};n.current(),h(i,c)}})),[e]),s=aw((function(){n.current=Kb(window,[a],{capture:!0,passive:!1})}),[a]),l=aw((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(Ok),n.current(),s())}),[s,o]),c=aw((()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=aw((function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:i},r=Kb(window,function(e){let{cancel:t,completed:n,getPhase:r}=e;return[{eventName:"touchmove",options:{capture:!1},fn:e=>{const n=r();if("DRAGGING"!==n.type)return void t();n.hasMoved=!0;const{clientX:i,clientY:o}=e.touches[0],a={x:i,y:o};e.preventDefault(),n.actions.move(a)}},{eventName:"touchend",fn:e=>{const i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:e=>{"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:e=>{const n=r();"IDLE"===n.type&&Xb();const i=e.touches[0];if(!i)return;if(!(i.force>=.15))return;const o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}},{eventName:Tk,fn:t}]}(t),e),o=Kb(window,function(e){let{cancel:t,getPhase:n}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Tk,fn:t}]}(t),e);n.current=function(){r(),o()}}),[c,i,l]),d=aw((function(){const e=i();"PENDING"!==e.type&&Xb();const t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[i,o]),h=aw((function(e,t){"IDLE"!==i().type&&Xb();const n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,i,o,d]);JE((function(){return s(),function(){n.current();const e=i();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(Ok))}}),[i,s,o]),JE((function(){return Kb(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function qk(e){let{contextId:t,store:n,registry:i,customSensors:o,enableDefaultSensors:a}=e;const s=[...a?Wk:[],...o||[]],l=(0,r.useState)((()=>function(){let e=null;function t(){e||Xb(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Xb();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],c=aw((function(e,t){vk(e)&&!vk(t)&&l.tryAbandon()}),[l]);JE((function(){let e=n.getState();return n.subscribe((()=>{const t=n.getState();c(e,t),e=t}))}),[l,n,c]),JE((()=>l.tryAbandon),[l.tryAbandon]);const u=aw((e=>$k({lockAPI:l,registry:i,store:n,draggableId:e})),[l,i,n]),d=aw(((e,r,o)=>Hk({lockAPI:l,registry:i,contextId:t,store:n,draggableId:e,forceSensorStop:r||null,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})),[t,l,i,n]),h=aw((e=>function(e,t){const n=Vk(e,t);return n?n.getAttribute(GE.draggableId):null}(t,e)),[t]),f=aw((e=>{const t=i.draggable.findById(e);return t?t.options:null}),[i.draggable]),p=aw((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=aw((()=>l.isClaimed()),[l]),m=ow((()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:g})),[u,d,h,f,p,g]);fk();for(let r=0;r<s.length;r++)s[r](m)}function Gk(e){return e.current||Xb(),e.current}function Kk(e){const{contextId:t,setCallbacks:n,sensors:i,nonce:o,dragHandleUsageInstructions:a}=e,s=(0,r.useRef)(null);gk();const l=mk(e),c=aw((()=>(e=>({onBeforeCapture:t=>{(0,Ty.flushSync)((()=>{e.onBeforeCapture&&e.onBeforeCapture(t)}))},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(l.current)),[l]),u=aw((()=>(e=>({...OE,...e.autoScrollerOptions,durationDampening:{...OE.durationDampening,...e.autoScrollerOptions}}))(l.current)),[l]),d=function(e){const t=ow((()=>(e=>`rfd-announcement-${e}`)(e)),[e]),n=(0,r.useRef)(null);return(0,r.useEffect)((function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Wb(e.style,ck),lk().appendChild(e),function(){setTimeout((function(){const t=lk();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),aw((e=>{const t=n.current;t&&(t.textContent=e)}),[])}(t),h=function(e){let{contextId:t,text:n}=e;const i=dk("hidden-text",{separator:"-"}),o=ow((()=>function(e){let{contextId:t,uniqueId:n}=e;return`rfd-hidden-text-${t}-${n}`}({contextId:t,uniqueId:i})),[i,t]);return(0,r.useEffect)((function(){const e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",lk().appendChild(e),function(){const t=lk();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:a}),f=tk(t,o),p=aw((e=>{Gk(s).dispatch(e)}),[]),g=ow((()=>Ry({publishWhileDragging:MS,updateDroppableScroll:jS,updateDroppableIsEnabled:US,updateDroppableIsCombineEnabled:VS,collectionStarting:FS},p)),[p]),m=function(){const e=ow(ak,[]);return(0,r.useEffect)((()=>function(){e.clean()}),[e]),e}(),v=ow((()=>CE(m,g)),[m,g]),y=ow((()=>WE({scrollWindow:DE,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:u,...Ry({move:BS},p)})),[v.scrollDroppable,p,u]),b=function(e){const t=(0,r.useRef)({}),n=(0,r.useRef)(null),i=(0,r.useRef)(null),o=(0,r.useRef)(!1),a=aw((function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}}),[]),s=aw((function(t){const n=ok(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=aw((function(e,t){n.current===e&&(n.current=t)}),[]),c=aw((function(){i.current||o.current&&(i.current=requestAnimationFrame((()=>{i.current=null;const e=n.current;e&&s(e)})))}),[s]),u=aw((function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(GE.draggableId)===e&&(n.current=e)}),[]);return JE((()=>(o.current=!0,function(){o.current=!1;const e=i.current;e&&cancelAnimationFrame(e)})),[]),ow((()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l})),[a,u,c,l])}(t),w=ow((()=>SE({announce:d,autoScroller:y,dimensionMarshal:v,focusMarshal:b,getResponders:c,styleMarshal:f})),[d,y,v,b,c,f]);s.current=w;const S=aw((()=>{const e=Gk(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),E=aw((()=>{const e=Gk(s).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);n(ow((()=>({isDragging:E,tryAbort:S})),[E,S]));const k=aw((e=>xE(Gk(s).getState(),e)),[]),_=aw((()=>pS(Gk(s).getState())),[]),I=ow((()=>({marshal:v,focus:b,contextId:t,canLift:k,isMovementAllowed:_,dragHandleUsageInstructionsId:h,registry:m})),[t,v,h,b,k,_,m]);return qk({contextId:t,store:w,registry:m,customSensors:i||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)((()=>S),[S]),r.createElement(hk.Provider,{value:I},r.createElement(Ob,{context:sk,store:w},e.children))}function Qk(e){const t=r.useId(),n=e.dragHandleUsageInstructions||rw.dragHandleUsageInstructions;return r.createElement(Jb,null,(i=>r.createElement(Kk,{nonce:e.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const Yk=5e3,Xk=4500,Jk=(e,t)=>t?eE.drop(t.duration):e?eE.snap:eE.fluid,Zk=(e,t)=>{if(e)return t?YS.drop:YS.combining};function e_(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:i}=e,o=Boolean(r),a=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(i),l=s?rE(n,o):nE(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Jk(a,i),transform:l,opacity:Zk(o,s),zIndex:s?Xk:Yk,pointerEvents:"none"}}(e):{transform:nE((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function t_(e){const t=dk("draggable"),{descriptor:n,registry:i,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}=e,c=ow((()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l})),[a,l,s]),u=aw((e=>{const t=o();return t||Xb(),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sw;const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=zb(i,r),a=Bb(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,o]),d=ow((()=>({uniqueId:t,descriptor:n,options:c,getDimension:u})),[n,u,c,t]),h=(0,r.useRef)(d),f=(0,r.useRef)(!0);JE((()=>(i.draggable.register(h.current),()=>i.draggable.unregister(h.current))),[i.draggable]),JE((()=>{if(f.current)return void(f.current=!1);const e=h.current;h.current=d,i.draggable.update(d,e)}),[d,i.draggable])}var n_=r.createContext(null);function r_(e){const t=(0,r.useContext)(e);return t||Xb(),t}function i_(e){e.preventDefault()}var o_=(e,t)=>e===t,a_=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function s_(){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,combineWith:null}}const l_={mapped:{type:"SECONDARY",offset:sw,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:s_(null)}};const c_=Ab((()=>{const e=function(){const e=Sw(((e,t)=>({x:e,y:t}))),t=Sw((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=Sw((function(e,n,r,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,snapshot:t(n,i,o,a,null)}}}));return(r,i)=>{if(vk(r)){if(r.critical.draggable.id!==i.draggableId)return null;const t=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=hS(r.impact),l=(o=r.impact).at&&"COMBINE"===o.at.type?o.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,a,i.isClone,s,l,c)}var o;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==i.draggableId)return null;const n=i.isClone,o=r.dimensions.draggables[i.draggableId],a=e.result,s=a.mode,l=a_(a),c=(e=>e.combine?e.combine.draggableId:null)(a),u={duration:r.dropDuration,curve:QS,moveTo:r.newHomeClientOffset,opacity:c?YS.drop:null,scale:c?XS.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:o,dropping:u,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,n,l,c,u)}}}return null}}(),t=function(){const e=Sw(((e,t)=>({x:e,y:t}))),t=Sw(s_),n=Sw((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(n)}}})),r=e=>e?n(sw,e,!0):null,i=(t,i,o,a)=>{const s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=xw(o),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;const i=dw(a.displacedBy.point),s=e(i.x,i.y);return n(s,u,!0)}if(l)return r(u);const d=o.displacedBy.point,h=e(d.x,d.y);return n(h,u,s.shouldAnimate)};return(e,t)=>{if(vk(e))return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||l_}),{dropAnimationFinished:KS},null,{context:sk,areStatePropsEqual:o_})((e=>{const t=(0,r.useRef)(null),n=aw((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.current=e}),[]),i=aw((()=>t.current),[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:s}=r_(hk),{type:l,droppableId:c}=r_(n_),u=ow((()=>({id:e.draggableId,index:e.index,type:l,droppableId:c})),[e.draggableId,e.index,l,c]),{children:d,draggableId:h,isEnabled:f,shouldRespectForcePress:p,canDragInteractiveElements:g,isClone:m,mapped:v,dropAnimationFinished:y}=e;if(pk(),fk(),!m){t_(ow((()=>({descriptor:u,registry:s,getDraggableRef:i,canDragInteractiveElements:g,shouldRespectForcePress:p,isEnabled:f})),[u,s,i,g,p,f]))}const b=ow((()=>f?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:i_}:null),[o,a,h,f]),w=aw((e=>{"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&(0,Ty.flushSync)(y)}),[y,v]),S=ow((()=>{const e=e_(v),t="DRAGGING"===v.type&&v.dropping?w:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:b}}),[o,b,h,v,w,n]),E=ow((()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}})),[u.droppableId,u.id,u.index,u.type]);return r.createElement(r.Fragment,null,d(S,v.snapshot,E))}));function u_(e){return r_(n_).isUsingCloneFor!==e.draggableId||e.isClone?r.createElement(c_,e):null}function d_(e){const t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),i=Boolean(e.shouldRespectForcePress);return r.createElement(u_,Wb({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:i}))}const h_=e=>t=>e===t,f_=h_("scroll"),p_=h_("auto"),g_=(h_("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),m_=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return g_(n,f_)||g_(n,p_)},v_=e=>null==e||e===document.body||e===document.documentElement?null:m_(e)?e:v_(e.parentElement);var y_=e=>({x:e.scrollLeft,y:e.scrollTop});const b_=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||b_(e.parentElement)};var w_=e=>{let{ref:t,descriptor:n,env:r,windowScroll:i,direction:o,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:l}=e;const c=r.closestScrollable,u=((e,t)=>{const n=$b(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=Lb({top:r,right:a,bottom:o,left:i},n.border);return jb({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})})(t,c),d=Bb(u,i),h=(()=>{if(!c)return null;const e=$b(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:Bb(e,i),scroll:y_(c),scrollSize:t,shouldClipSubject:l}})(),f=(e=>{let{descriptor:t,isEnabled:n,isCombineEnabled:r,isFixedOnPage:i,direction:o,client:a,page:s,closest:l}=e;const c=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,n=EE({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:sw,displacement:sw}}}})(),u="vertical"===o?Fw:jw;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:bw({page:s,withPlaceholder:null,axis:u,frame:c})}})({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return f};const S_={passive:!1},E_={passive:!0};var k_=e=>e.shouldPublishImmediately?S_:E_;const __=e=>e&&e.env.closestScrollable||null;function I_(e){const t=(0,r.useRef)(null),n=r_(hk),i=dk("droppable"),{registry:o,marshal:a}=n,s=mk(e),l=ow((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),c=(0,r.useRef)(l),u=ow((()=>Sw(((e,n)=>{t.current||Xb();const r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))),[l.id,a]),d=aw((()=>{const e=t.current;return e&&e.env.closestScrollable?y_(e.env.closestScrollable):sw}),[]),h=aw((()=>{const e=d();u(e.x,e.y)}),[d,u]),f=ow((()=>Hb(h)),[h]),p=aw((()=>{const e=t.current,n=__(e);e&&n||Xb();e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),g=aw(((e,r)=>{t.current&&Xb();const i=s.current,o=i.getDroppableRef();o||Xb();const a=(e=>({closestScrollable:v_(e),isFixedOnPage:b_(e)}))(o),c={ref:o,descriptor:l,env:a,scrollOptions:r};t.current=c;const u=w_({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(YE.contextId,n.contextId),d.addEventListener("scroll",p,k_(c.scrollOptions))),u}),[n.contextId,l,p,s]),m=aw((()=>{const e=t.current,n=__(e);return e&&n||Xb(),y_(n)}),[]),v=aw((()=>{const e=t.current;e||Xb();const n=__(e);t.current=null,n&&(f.cancel(),n.removeAttribute(YE.contextId),n.removeEventListener("scroll",p,k_(e.scrollOptions)))}),[p,f]),y=aw((e=>{const n=t.current;n||Xb();const r=__(n);r||Xb(),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=ow((()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:v,scroll:y})),[v,g,m,y]),w=ow((()=>({uniqueId:i,descriptor:l,callbacks:b})),[b,l,i]);JE((()=>(c.current=w.descriptor,o.droppable.register(w),()=>{t.current&&v(),o.droppable.unregister(w)})),[b,l,v,w,a,o.droppable]),JE((()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),JE((()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}function T_(){}const C_={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},x_=e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;const i=(e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;return t||"close"===r?C_:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}})({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?eE.placeholder:null}};var D_=r.memo((e=>{const t=(0,r.useRef)(null),n=aw((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:i,onTransitionEnd:o,onClose:a,contextId:s}=e,[l,c]=(0,r.useState)("open"===e.animate);(0,r.useEffect)((()=>l?"open"!==i?(n(),c(!1),T_):t.current?T_:(t.current=setTimeout((()=>{t.current=null,c(!1)})),n):T_),[i,l,n]);const u=aw((e=>{"height"===e.propertyName&&(o(),"close"===i&&a())}),[i,a,o]),d=x_({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return r.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})}));class N_ extends r.PureComponent{constructor(){super(...arguments),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const A_={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Xb(),document.body}},O_=e=>{let t,n={...e};for(t in A_)void 0===e[t]&&(n={...n,[t]:A_[t]});return n},P_=(e,t)=>e===t.droppable.type,R_=(e,t)=>t.draggables[e.draggable.id],L_=Ab((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Sw((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=Sw(((r,i,o,a,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===r){const e=l?{render:l,dragging:n(s.descriptor)}:null,t={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!i)return t;if(!a)return e;const u={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}}));return(n,i)=>{const o=O_(i),a=o.droppableId,s=o.type,l=!o.isDropDisabled,c=o.renderClone;if(vk(n)){const e=n.critical;if(!P_(s,e))return t;const i=R_(e,n.dimensions),o=hS(n.impact)===a;return r(a,l,o,o,i,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!P_(s,e.critical))return t;const i=R_(e.critical,n.dimensions);return r(a,l,a_(e.result)===a,hS(e.impact)===a,i,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!P_(s,r.critical))return t;const i=hS(r.impact)===a,o=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===a;return i?o?e:t:l?e:t}return t}}),{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},((e,t,n)=>({...O_(n),...e,...t})),{context:sk,areStatePropsEqual:o_})((e=>{const t=(0,r.useContext)(hk);t||Xb();const{contextId:n,isMovementAllowed:i}=t,o=(0,r.useRef)(null),a=(0,r.useRef)(null),{children:s,droppableId:l,type:c,mode:u,direction:d,ignoreContainerClipping:h,isDropDisabled:f,isCombineEnabled:p,snapshot:g,useClone:m,updateViewportMaxScroll:v,getContainerForClone:y}=e,b=aw((()=>o.current),[]),w=aw((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o.current=e}),[]),S=(aw((()=>a.current),[]),aw((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current=e}),[]));pk();const E=aw((()=>{i()&&v({maxScroll:_E()})}),[i,v]);I_({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:h,getDroppableRef:b});const k=ow((()=>r.createElement(N_,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(e=>{let{onClose:t,data:i,animate:o}=e;return r.createElement(D_,{placeholder:i,onClose:t,innerRef:S,animate:o,contextId:n,onTransitionEnd:E})}))),[n,E,e.placeholder,e.shouldAnimatePlaceholder,S]),_=ow((()=>({innerRef:w,placeholder:k,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}})),[n,l,k,w]),I=m?m.dragging.draggableId:null,T=ow((()=>({droppableId:l,type:c,isUsingCloneFor:I})),[l,I,c]);return r.createElement(n_.Provider,{value:T},s(_,g),function(){if(!m)return null;const{dragging:e,render:t}=m,n=r.createElement(u_,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((n,r)=>t(n,r,e)));return Ty.createPortal(n,y())}())})),M_=["#FFD1DC","#FFECB3","#C8E6C9","#BBDEFB","#E1BEE7"],F_=e=>{let{user:t}=e;const[n,i]=(0,r.useState)([]),[a,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(M_[0]),[u,d]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{const e=await Ef(Ah(by,"todoList")),n=[];e.forEach((e=>{const r=e.data();r.uid===t.uid&&n.push({id:e.id,...r})})),i(n)})()}),[]);const h=async e=>{const t=Oh(by,"todoList",e),r=n.find((t=>t.id===e));await function(e,t,n){e=Eh(e,Dh);const r=Eh(e.firestore,Lh),i=Qh(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=bn(t))||t instanceof Uh?Zh(i,"updateDoc",e._key,t,n,s):Jh(i,"updateDoc",e._key,t),Tf(r,[o.toMutation(e._key,el.exists(!0))])}(t,{completed:!r.completed}),i(n.map((t=>t.id===e?{...t,completed:!t.completed}:t)))},f=n.filter((e=>e.completed)).length,p=n.length,g=0===p?0:f/p*100;return(0,o.jsxs)("div",{className:"todo-container",children:[(0,o.jsx)("h2",{children:"Min To-Do Lista"}),(0,o.jsxs)("div",{className:"container-header",children:[(0,o.jsxs)("div",{className:"progress-container",children:[(0,o.jsxs)("div",{className:"progress-bar-container",children:[(0,o.jsxs)("svg",{width:"120",height:"120",children:[(0,o.jsx)("circle",{cx:"60",cy:"60",r:"50",stroke:"#e0e0e0",strokeWidth:"10",fill:"none"}),(0,o.jsx)("circle",{cx:"60",cy:"60",r:"50",stroke:"#2196F3",strokeWidth:"10",fill:"none",strokeDasharray:"314",strokeDashoffset:314-g/100*314,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.5s ease-in-out"}})]}),(0,o.jsxs)("div",{className:"progress-bar-text",children:[Math.round(g),"%"]})]}),(0,o.jsx)("div",{className:"text-below",children:"Dagens progress"})]}),(0,o.jsxs)("div",{className:"add-task-container",children:[(0,o.jsx)("button",{className:"add-btn",onClick:()=>d(!0),children:"\u2795"}),(0,o.jsx)("div",{className:"text-below",children:"L\xe4gg till uppgift"})]})]}),u&&(0,o.jsx)("div",{className:"popup-overlay",children:(0,o.jsxs)("div",{className:"popup",children:[(0,o.jsx)("h3",{children:"L\xe4gg till uppgift"}),(0,o.jsx)("input",{type:"text",placeholder:"Skriv din uppgift h\xe4r...",value:a,onChange:e=>s(e.target.value)}),(0,o.jsx)("div",{className:"color-options",children:M_.map((e=>(0,o.jsx)("button",{className:"color-btn",style:{backgroundColor:e,border:l===e?"2px solid black":"none"},onClick:()=>c(e)},e)))}),(0,o.jsxs)("div",{className:"popup-buttons",children:[(0,o.jsx)("button",{className:"cancel-btn",onClick:()=>d(!1),children:"\u274c Avbryt"}),(0,o.jsx)("button",{className:"save-btn",onClick:async()=>{if(a.trim())try{const e=await If(Ah(by,"todoList"),{text:a,completed:!1,color:l,uid:t.uid});i([...n,{id:e.id,text:a,completed:!1,color:l}]),s(""),c(M_[0]),d(!1)}catch(e){console.error("Fel vid att l\xe4gga till uppgift:",e)}},children:"\u2714 L\xe4gg till"})]})]})}),(0,o.jsx)(Qk,{onDragEnd:e=>{if(!e.destination)return;const t=Array.from(n),[r]=t.splice(e.source.index,1);t.splice(e.destination.index,0,r),i(t)},children:(0,o.jsx)(L_,{droppableId:"tasks",children:e=>(0,o.jsxs)("ul",{className:"todo-list",...e.droppableProps,ref:e.innerRef,children:[n.map(((e,t)=>(0,o.jsx)(d_,{draggableId:e.id,index:t,children:t=>(0,o.jsxs)("li",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,className:"todo-item",style:{backgroundColor:e.color},children:[(0,o.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>h(e.id),className:"task-checkbox"}),(0,o.jsx)("span",{className:"task-text",children:e.text}),(0,o.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{try{await _f(Oh(by,"todoList",e)),i(n.filter((t=>t.id!==e)))}catch(t){console.error("Fel vid att ta bort uppgift:",t)}})(e.id),children:"\u2716"})]})},e.id))),e.placeholder]})})})]})},j_=e=>{let{user:t}=e;const[n,i]=(0,r.useState)("calendar"),[a,s]=(0,r.useState)(!1);(0,r.useEffect)((()=>{document.body.className=a?"dark":"";(async()=>{if(null!==t&&void 0!==t&&t.uid){const e=Oh(by,"users",t.uid);await kf(e,{darkMode:a},{merge:!0})}})()}),[a,t]);return(0,o.jsxs)("div",{className:"toggle-container",children:[(0,o.jsxs)("header",{className:"app-header",children:[(0,o.jsx)("h1",{children:"\ud83c\udf93 StudieApp"}),(0,o.jsx)("button",{className:"theme-icon",onClick:()=>s(!a),children:a?"\u2600\ufe0f":"\ud83c\udf19"}),(0,o.jsx)("button",{className:"logout-btn",onClick:()=>{(function(e){return bn(e).signOut()})(Sy).then((()=>{console.log("Anv\xe4ndaren loggades ut.")})).catch((e=>{console.error("Fel vid utloggning:",e)}))},children:"\ud83d\udeaa Logga ut"})]}),(0,o.jsxs)("div",{className:"toggle-buttons",children:[(0,o.jsx)("button",{className:"calendar"===n?"active":"",onClick:()=>i("calendar"),children:"\ud83d\udcc5 Kalender"}),(0,o.jsx)("button",{className:"todo"===n?"active":"",onClick:()=>i("todo"),children:"\u2705 To-Do Lista"})]}),(0,o.jsx)("div",{className:"content-container",children:"calendar"===n?(0,o.jsx)(Iy,{user:t}):(0,o.jsx)(F_,{user:t})})]})},U_=e=>{let{onLogin:t}=e;const[n,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)("");return(0,o.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:(0,o.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-8 w-full max-w-md",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:n?"Skapa konto":"Logga in"}),(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d("");try{n?await async function(e,t,n){if(Pr(e.app))return Promise.reject(ag(e));const r=dm(e),i=Sm(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$m,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Jm(e),t})),a=await Hm._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(Sy,a,l):await function(e,t,n){return Pr(e.app)?Promise.reject(ag(e)):Xm(bn(e),Mm.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Jm(e),t}))}(Sy,a,l);const e=Oh(by,"users",Sy.currentUser.uid),r=await function(e){e=Eh(e,Dh);const t=Eh(e.firestore,Lh);return ph(Mh(t),e._key).then((n=>Cf(t,e,n)))}(e);r.exists()||await kf(e,{darkMode:!1}),t()}catch(r){d(r.message)}},className:"space-y-4",children:[(0,o.jsx)("input",{type:"email",placeholder:"E-post",className:"w-full p-3 border rounded-lg",value:a,onChange:e=>s(e.target.value),required:!0}),(0,o.jsx)("input",{type:"password",placeholder:"L\xf6senord",className:"w-full p-3 border rounded-lg",value:l,onChange:e=>c(e.target.value),required:!0}),u&&(0,o.jsx)("p",{className:"text-red-500 text-sm",children:u}),(0,o.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white p-3 rounded-lg hover:bg-blue-600",children:n?"Registrera":"Logga in"})]}),(0,o.jsx)("div",{className:"text-center mt-4",children:(0,o.jsx)("button",{className:"text-blue-500 underline",onClick:()=>i(!n),children:n?"Har du redan ett konto? Logga in":"Skapa nytt konto"})})]})})};const V_=function(){const[e,t]=(0,r.useState)(null);return(0,r.useEffect)((()=>{Notification.requestPermission().then((e=>{"granted"===e&&async function(e,t){return $p(e=bn(e),t)}(wy,{vapidKey:"DIN_VAPID_KEY"}).then((e=>{e?console.log("FCM Token:",e):console.log("Ingen token erh\xf6lls.")})).catch((e=>console.log("FCM Token-fel:",e)))}));const e=Sy.onAuthStateChanged((e=>{t(e)}));return()=>e()}),[]),e?(0,o.jsx)(j_,{user:e}):(0,o.jsx)(U_,{onLogin:()=>{}})},B_=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};i.createRoot(document.getElementById("root")).render((0,o.jsx)(r.StrictMode,{children:(0,o.jsx)(V_,{})})),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js").then((e=>{console.log("Service Worker registrerad:",e)}),(e=>{console.log("Service Worker misslyckades:",e)}))})),B_()})();
//# sourceMappingURL=main.e59bc1ae.js.map